<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="dist/frost-dom-bundle.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="div1">
            <div class="subdiv1">
                <div class="subdiv1child1">
                    <p class="p1"></p>
                </div>
            </div>
            <div class="subdiv2">
                <div class="subdiv2child1">
                    <p class="p2"></p>
                </div>
            </div>
            <div class="subdiv3">
                <div class="subdiv3child1">
                    <p class="p3"></p>
                </div>
            </div>
        </div>
        <div class="subdiv2">
            <div class="subdiv2child1">
                <p class="p2"></p>
            </div>
        </div>
        <div id="id1"></div>
        <div class="class1"></div>
        <div></div>
    </div>
    <div id="results">
        <h1>Results</h1>
    </div>

    <script>
        const count = 100000;
        const logResults = true;

        dom.ready(_ => {
            const results = dom.findOne('#results');
            const selector1 = '#id1';
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing id selector <em>${selector1}</em>`
                })
            );

            const start1a = performance.now();
            Core.times(_ => dom.findOne(selector1), count);
            const diff1a = performance.now() - start1a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff1a}ms</strong> - avg: <strong>${diff1a / count}ms</strong>`
                })
            );

            const start1b = performance.now();
            Core.times(_ => $(selector1), count);
            const diff1b = performance.now() - start1b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff1b}ms</strong> - avg: <strong>${diff1b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector1));
                console.log($(selector1));
            }

            dom.append(results, dom.create('hr'));
            const selector2 = '.class1';
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing class selector <em>${selector2}</em>`
                })
            );

            const start2a = performance.now();
            Core.times(_ => dom.find(selector2), count);
            const diff2a = performance.now() - start2a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff2a}ms</strong> - avg: <strong>${diff2a / count}ms</strong>`
                })
            );

            const start2b = performance.now();
            Core.times(_ => $(selector2), count);
            const diff2b = performance.now() - start2b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff2b}ms</strong> - avg: <strong>${diff2b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector2));
                console.log($(selector2));
            }

            dom.append(results, dom.create('hr'));
            const selector3 = 'div';
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing tag selector <em>${selector3}</em>`
                })
            );

            const start3a = performance.now();
            Core.times(_ => dom.find(selector3), count);
            const diff3a = performance.now() - start3a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff3a}ms</strong> - avg: <strong>${diff3a / count}ms</strong>`
                })
            );

            const start3b = performance.now();
            Core.times(_ => $(selector3), count);
            const diff3b = performance.now() - start3b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff3b}ms</strong> - avg: <strong>${diff3b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector3));
                console.log($(selector3));
            }

            dom.append(results, dom.create('hr'));
            const selector4 = '.div1 .subdiv1';
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing standard selector <em>${selector4}</em>`
                })
            );

            const start4a = performance.now();
            Core.times(_ => dom.find(selector4), count);
            const diff4a = performance.now() - start4a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff4a}ms</strong> - avg: <strong>${diff4a / count}ms</strong>`
                })
            );

            const start4b = performance.now();
            Core.times(_ => $(selector4), count);
            const diff4b = performance.now() - start4b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff4b}ms</strong> - avg: <strong>${diff4b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector4));
                console.log($(selector4));
            }

            dom.append(results, dom.create('hr'));
            const containerSelector = '.container';
            const selector5 = '#id1';
            const container5 = dom.findOne('.container');
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing id selector <em>${selector5}</em> with container <em>${containerSelector}</em>`
                })
            );

            const start5a = performance.now();
            Core.times(_ => dom.findOne(selector5, container5), count);
            const diff5a = performance.now() - start5a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff5a}ms</strong> - avg: <strong>${diff5a / count}ms</strong>`
                })
            );

            const start5b = performance.now();
            Core.times(_ => $(selector5, container5), count);
            const diff5b = performance.now() - start5b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff5b}ms</strong> - avg: <strong>${diff5b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector5, container5));
                console.log($(selector5, container5));
            }

            dom.append(results, dom.create('hr'));
            const selector6 = '.class1';
            const container6 = document.querySelector('.container');
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing class selector <em>${selector6}</em> with container <em>${containerSelector}</em>`
                })
            );

            const start6a = performance.now();
            Core.times(_ => dom.find(selector6, container6), count);
            const diff6a = performance.now() - start6a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff6a}ms</strong> - avg: <strong>${diff6a / count}ms</strong>`
                })
            );

            const start6b = performance.now();
            Core.times(_ => $(selector6, container6), count);
            const diff6b = performance.now() - start6b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff6b}ms</strong> - avg: <strong>${diff6b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector6, container6));
                console.log($(selector6, container6));
            }

            dom.append(results, dom.create('hr'));
            const selector7 = 'div';
            const container7 = document.querySelector('.container');
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing tag selector <em>${selector7}</em> with container <em>${containerSelector}</em>`
                })
            );

            const start7a = performance.now();
            Core.times(_ => dom.find(selector7, container7), count);
            const diff7a = performance.now() - start7a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff7a}ms</strong> - avg: <strong>${diff7a / count}ms</strong>`
                })
            );


            const start7b = performance.now();
            Core.times(_ => $(selector7, container7), count);
            const diff7b = performance.now() - start7b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff7b}ms</strong> - avg: <strong>${diff7b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector7, container7));
                console.log($(selector7, container7));
            }

            dom.append(results, dom.create('hr'));
            const selector8 = '.div1 .subdiv1';
            const container8 = document.querySelector('.container');
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing standard selector <em>${selector8}</em> with container <em>${containerSelector}</em>`
                })
            );

            const start8a = performance.now();
            Core.times(_ => dom.find(selector8, container8), count);
            const diff8a = performance.now() - start8a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff8a}ms</strong> - avg: <strong>${diff8a / count}ms</strong>`
                })
            );

            const start8b = performance.now();
            Core.times(_ => $(selector8, container8), count);
            const diff8b = performance.now() - start8b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff8b}ms</strong> - avg: <strong>${diff8b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector8, container8));
                console.log($(selector8, container8));
            }

            dom.append(results, dom.create('hr'));
            const selector9 = '> .div1 > .subdiv1 > .subdiv1child1, > .div1 > .subdiv2 > .subdiv2child1, > .div1 > .subdiv3 > .subdiv3child1';
            const container9 = document.querySelector('.container');
            dom.append(
                results,
                dom.create('p', {
                    html: `Testing custom selector <em>${selector9}</em> with container <em>${containerSelector}</em>`
                })
            );


            const start9a = performance.now();
            Core.times(_ => dom.find(selector9, container9), count);
            const diff9a = performance.now() - start9a;
            dom.append(
                results,
                dom.create('p', {
                    html: `FrostDOM finished <em>${count}</em> iterations in: <strong>${diff9a}ms</strong> - avg: <strong>${diff9a / count}ms</strong>`
                })
            );

            const start9b = performance.now();
            Core.times(_ => $(selector9, container9), count);
            const diff9b = performance.now() - start9b;
            dom.append(
                results,
                dom.create('p', {
                    html: `jQuery finished <em>${count}</em> iterations in: <strong>${diff9b}ms</strong> - avg: <strong>${diff9b / count}ms</strong>`
                })
            );

            if (logResults) {
                console.log(dom.find(selector9, container9));
                console.log($(selector9, container9));
            }

        });

    </script>
</body>

</html>