"use strict";function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:e(void 0)}(0,(function(t){var e,r;return"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=null),e=this||t,r=function(t){var e={diff:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n=n.map(e.unique),t.filter((function(t){return!n.some((function(e){return e.includes(t)}))}))},intersect:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.unique(r.reduce((function(t,n,o){return n=e.unique(n),e.merge(t,n.filter((function(t){return r.every((function(e,r){return o==r||e.includes(t)}))})))}),[]))},merge:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((function(e,r){return Array.prototype.push.apply(e,r),t}),t)},randomValue:function(t){return t.length?t[e.randomInt(t.length)]:null},range:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=Math.sign(r-t);return new Array(Math.abs(r-t)/n+1|0).fill().map((function(r,i){return t+e.toStep(i*n*o,n)}))},unique:function(t){return Array.from(new Set(t))},wrap:function(t){return e.isUndefined(t)?[]:e.isArray(t)?t:e.isArrayLike(t)?e.merge([],t):[t]},animation:function(r,n){var o,i,s,a=function(){for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];i=a,s||(n&&r.apply(void 0,_toConsumableArray(i)),s=!0,o=e._requestAnimationFrame((function(t){n||r.apply(void 0,_toConsumableArray(i)),s=!1,o=null})))};return a.cancel=function(e){o&&("requestAnimationFrame"in t?t.cancelAnimationFrame(o):clearTimeout(o),s=!1,o=null)},a},compose:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}},curry:function(t){return function e(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=t.length?t.apply(void 0,n):function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.apply(void 0,_toConsumableArray(n.concat(r)))}}},debounce:function(t,e,r){var n,o,i,s,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=function(){for(var u=Date.now(),c=o?o-u:null,h=arguments.length,l=new Array(h),f=0;f<h;f++)l[f]=arguments[f];if(r&&(null===c||c>=e))return o=u,void t.apply(void 0,l);i=l,!s&&a&&(s=!0,n=setTimeout((function(e){o=Date.now(),t.apply(void 0,_toConsumableArray(i)),s=!1,n=null}),c))};return u.cancel=function(t){n&&(clearTimeout(n),s=!1,n=null)},u},evaluate:function(t){return e.isFunction(t)?t():t},once:function(t){var e,r;return function(){return e?r:(e=!0,r=t.apply(void 0,arguments))}},partial:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.apply(void 0,_toConsumableArray(n.slice().map((function(t){return e.isUndefined(t)?o.shift():t})).concat(o)))}},pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},throttle:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e.debounce(t,r,n,o)},times:function(t,e){for(;e--&&!1!==t(););}};return e._requestAnimationFrame="requestAnimationFrame"in t?function(){return t.requestAnimationFrame.apply(t,arguments)}:function(t){return setTimeout(t,1e3/60)},e._splitString=function(t){return"".concat(t).split(/[^a-zA-Z0-9']|(?=[A-Z])/).reduce((function(t,e){return(e=e.replace(/[^\w]/,"").toLowerCase())&&t.push(e),t}),[])},e.clamp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(r,t))},e.clampPercent=function(t){return e.clamp(t,0,100)},e.dist=function(t,r,n,o){return e.len(t-n,r-o)},e.inverseLerp=function(t,e,r){return(r-t)/(e-t)},e.len=Math.hypot,e.lerp=function(t,e,r){return t*(1-r)+e*r},e.map=function(t,e,r,n,o){return(t-e)*(o-n)/(r-e)+n},e.random=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.isNull(r)?Math.random()*t:e.map(Math.random(),0,1,t,r)},e.randomInt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return 0|e.random(t,r)},e.toStep=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return parseFloat((Math.round(t/e)*e).toFixed("".concat(e).replace("d*.?/","").length))},e.extend=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((function(t,r){for(var n in r)e.isArray(r[n])?t[n]=e.extend(e.isArray(t[n])?t[n]:[],r[n]):e.isPlainObject(r[n])?t[n]=e.extend(e.isPlainObject(t[n])?t[n]:{},r[n]):t[n]=r[n];return t}),t)},e.forgetDot=function(t,r){for(var n=r.split(".");(r=n.shift())&&e.isObject(t)&&r in t;)n.length?t=t[r]:delete t[r]},e.getDot=function(t,r,n){for(var o=r.split(".");r=o.shift();){if(!e.isObject(t)||!(r in t))return n;t=t[r]}return t},e.hasDot=function(t,r){for(var n=r.split(".");r=n.shift();){if(!e.isObject(t)||!(r in t))return!1;t=t[r]}return!0},e.pluckDot=function(t,r,n){return t.map((function(t){return e.getDot(t,r,n)}))},e.setDot=function(t,r,n){for(var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=r.split(".");r=i.shift();){if("*"===r){for(var s in t)e.setDot(t,[s].concat(i).join("."),n,o);return}i.length?(e.isObject(t[r])&&r in t||(t[r]={}),t=t[r]):!o&&r in t||(t[r]=n)}},e.camelCase=function(t){return e._splitString(t).map((function(t,r){return r?e.capitalize(t):t})).join("")},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},e.escape=function(t){return t.replace(e._escapeRegExp,(function(t){return e._escapeChars[t]}))},e.escapeRegExp=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},e.humanize=function(t){return e.capitalize(e._splitString(t).join(" "))},e.kebabCase=function(t){return e._splitString(t).join("-").toLowerCase()},e.pascalCase=function(t){return e._splitString(t).map((function(t){return t.charAt(0).toUpperCase()+t.substring(1)})).join("")},e.randomString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWYXZ0123456789";return new Array(t).fill().map((function(t){return r[0|e.random(r.length)]})).join("")},e.snakeCase=function(t){return e._splitString(t).join("_").toLowerCase()},e.unescape=function(t){return t.replace(e._unescapeRegExp,(function(t,r){return e._unescapeChars[r]}))},e.isArray=Array.isArray,e.isArrayLike=function(t){return e.isArray(t)||e.isObject(t)&&!e.isFunction(t)&&!e.isWindow(t)&&!e.isElement(t)&&(Symbol.iterator in t&&e.isFunction(t[Symbol.iterator])||"length"in t&&e.isNumeric(t.length)&&(!t.length||t.length-1 in t))},e.isBoolean=function(t){return t===!!t},e.isDocument=function(t){return!!t&&t.nodeType===e.DOCUMENT_NODE},e.isElement=function(t){return!!t&&t.nodeType===e.ELEMENT_NODE},e.isFragment=function(t){return!!t&&t.nodeType===e.DOCUMENT_FRAGMENT_NODE&&!t.host},e.isFunction=function(t){return"function"==typeof t},e.isNaN=Number.isNaN,e.isNode=function(t){return!!t&&(t.nodeType===e.ELEMENT_NODE||t.nodeType===e.TEXT_NODE||t.nodeType===e.COMMENT_NODE)},e.isNull=function(t){return null===t},e.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},e.isPlainObject=function(t){return!!t&&t.constructor===Object},e.isObject=function(t){return!!t&&t===Object(t)},e.isShadow=function(t){return!!t&&t.nodeType===e.DOCUMENT_FRAGMENT_NODE&&!!t.host},e.isString=function(t){return t==="".concat(t)},e.isUndefined=function(t){return void 0===t},e.isWindow=function(t){return!!t&&!!t.document&&t.document.defaultView===t},e.ELEMENT_NODE=1,e.TEXT_NODE=3,e.COMMENT_NODE=8,e.DOCUMENT_NODE=9,e.DOCUMENT_FRAGMENT_NODE=11,e._escapeRegExp=/[&<>"']/g,e._unescapeRegExp=/\&(amp|lt|gt|quot|apos);/g,e._escapeChars={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},e._unescapeChars={amp:"&",lt:"<",gt:">",quot:'"',apos:"'"},e},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=r(e):e.Core=r(e),function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(t,e(t))}(this||t,(function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");var e=t.Core,r=t.document,n=function(){function r(n){var o=this;_classCallCheck(this,r),this._options=e.extend({},this.constructor.defaults,n),this._options.url||(this._options.url=t.location.href),this._options.cache||(this._options.url=this.constructor.appendQueryString(this._options.url,"_",Date.now())),!("Content-Type"in this._options.headers)&&this._options.contentType&&(this._options.headers["Content-Type"]=this._options.contentType),null===this._options.isLocal&&(this._options.isLocal=this.constructor._localRegExp.test(location.protocol)),this._options.isLocal||"X-Requested-With"in this._options.headers||(this._options.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this.promise=new Promise((function(t,e){o._resolve=function(e){o._isResolved=!0,t(e)},o._reject=function(t){o._isRejected=!0,e(t)}})),this._build(),this._events(),this._send()}return _createClass(r,[{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request was cancelled";this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._options.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:t}))}},{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"then",value:function(t,e){return this.promise.then(t,e)}}]),r}(),o=function(){function t(){_classCallCheck(this,t),this.data={headers:{}},this.status=200,this.timeout=0,this.upload={},this._response="Test"}return _createClass(t,[{key:"abort",value:function(){clearTimeout(this._uploadTimer),clearTimeout(this._progressTimer),clearTimeout(this._completeTimer)}},{key:"open",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.data.method=t,this.data.url=e,this.data.async=r,this.data.username=n,this.data.password=o}},{key:"overrideMimeType",value:function(t){this.data.mimeType=t}},{key:"send",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.data.body=e,this.responseType&&(this.data.responseType=this.responseType),this.timeout&&(this.data.timeout=this.timeout),this.upload&&this.upload.onprogress&&(this._uploadTimer=setTimeout((function(e){t._uploadTimer=null;var r=new Event("progress");r.loaded=5e3,r.total=1e4,t.upload.onprogress(r)}),10)),this.onprogress&&(this._progressTimer=setTimeout((function(e){t._progressTimer=null;var r=new Event("progress");r.loaded=500,r.total=1e3,t.onprogress(r)}),10)),this._completeTimer=setTimeout((function(e){if(t._completeTimer=null,t.forceError){if(t.onerror){var r=new Event("error");t.onerror(r)}}else if(t.data.status=t.status,t.response=t._response,t.onload){var n=new Event("load");t.onload(n)}}),20)}},{key:"setRequestHeader",value:function(t,e){this.data.headers[t]=e}}]),t}();Object.assign(n.prototype,{_build:function(){for(var t in this._xhr=this.constructor.useMock?new o:new XMLHttpRequest,this._xhr.open(this._options.method,this._options.url,!0,this._options.username,this._options.password),this._options.headers)this._xhr.setRequestHeader(t,this._options.headers[t]);this._options.responseType&&(this._xhr.responseType=this._options.responseType),this._options.mimeType&&this._xhr.overrideMimeType(this._options.mimeType),this._options.timeout&&(this._xhr.timeout=this._options.timeout)},_events:function(){var t=this;this._xhr.onload=function(e){t._xhr.status>400?t._reject({status:t._xhr.status,xhr:t._xhr,event:e}):t._resolve({response:t._xhr.response,xhr:t._xhr,event:e})},this._isLocal||(this._xhr.onerror=function(e){return t._reject({status:t._xhr.status,xhr:t._xhr,event:e})}),this._options.onProgress&&(this._xhr.onprogress=function(e){return t._options.onProgress(e.loaded/e.total,t._xhr,e)}),this._options.onUploadProgress&&(this._xhr.upload.onprogress=function(e){return t._options.onUploadProgress(e.loaded/e.total,t._xhr,e)})},_send:function(){this._options.beforeSend&&this._options.beforeSend(this._xhr),this._options.data&&this._options.processData&&e.isObject(this._options.data)&&("application/json"===this._options.contentType?this._options.data=JSON.stringify(this._options.data):"application/x-www-form-urlencoded"===this._options.contentType?this._options.data=this.constructor._parseParams(this._options.data):this._options.data=this.constructor._parseFormData(this._options.data)),this._xhr.send(this._options.data),this._options.afterSend&&this._options.afterSend(this._xhr)}}),Object.assign(n,{appendQueryString:function(e,r,n){var o=(t.location.origin+t.location.pathname).replace(/\/$/,""),i=new URL(e,o);i.searchParams.append(r,n);var s=i.toString();if(s.substring(0,e.length)===e)return s;var a=s.indexOf(e);return s.substring(a)},_parseFormData:function(t){var e,r=this._parseValues(t),n=new FormData,o=_createForOfIteratorHelper(r);try{for(o.s();!(e=o.n()).done;){var i=_slicedToArray(e.value,2),s=i[0],a=i[1];"[]"===s.substring(s.length-2)?n.append(s,a):n.set(s,a)}}catch(t){o.e(t)}finally{o.f()}return n},_parseParams:function(t){var e=this._parseValues(t).map((function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];return"".concat(r,"=").concat(n)})).join("&");return encodeURI(e)},_parseValue:function(t,r){if(e.isArray(r)){"[]"!==t.substring(t.length-2)&&(t+="[]");var n,o=[],i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.push.apply(o,_toConsumableArray(this._parseValue(t,s)))}}catch(t){i.e(t)}finally{i.f()}return o}if(e.isObject(r)){var a=[];for(var u in r)a.push.apply(a,_toConsumableArray(this._parseValue("".concat(t,"[").concat(u,"]"),r[u])));return a}return[[t,r]]},_parseValues:function(t){if(e.isArray(t)){var r,n=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push.apply(n,_toConsumableArray(this._parseValue(i.name,i.value)))}}catch(t){o.e(t)}finally{o.f()}return n}if(e.isObject(t)){var s=[];for(var a in t)s.push.apply(s,_toConsumableArray(this._parseValue(a,t[a])));return s}return t}}),Object.assign(n,{defaults:{afterSend:null,beforeSend:null,cache:!0,contentType:"application/x-www-form-urlencoded",data:null,headers:{},isLocal:null,method:"GET",onProgress:null,onUploadProgress:null,processData:!0,rejectOnCancel:!0,responseType:null,url:null},useMock:!1,_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(n.prototype,Promise.prototype);var i=function(){function t(e,r,n){var o=this;_classCallCheck(this,t),this._node=e,this._callback=r,this._options=_objectSpread(_objectSpread({},this.constructor.defaults),n),"start"in this._options||(this._options.start=performance.now()),this._options.debug&&(this._node.dataset.animationStart=this._options.start),this.promise=new Promise((function(t,e){o._resolve=t,o._reject=e})),this.constructor._animations.has(e)?this.constructor._animations.get(e).push(this):this.constructor._animations.set(e,[this])}return _createClass(t,[{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"stop",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.constructor._animations.get(this._node).filter((function(e){return e!==t}));r.length?this.constructor._animations.set(this._node,r):this.constructor._animations.delete(this._node),this.update(!0,e)}},{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&!r)return this._reject(this._node),!0;var n,o=performance.now();return r?n=1:(n=(o-this._options.start)/this._options.duration,this._options.infinite?n%=1:n=e.clamp(n),"ease-in"===this._options.type?n=Math.pow(n,2):"ease-out"===this._options.type?n=Math.sqrt(n):"ease-in-out"===this._options.type&&(n=n<=.5?2*Math.pow(n,2):1-2*Math.pow(1-n,2))),this._options.debug&&(this._node.dataset.animationNow=o,this._node.dataset.animationProgress=n),this._callback(this._node,n,this._options),n<1?void 0:(this._options.debug&&(delete this._node.dataset.animationStart,delete this._node.dataset.animationNow,delete this._node.dataset.animationProgress),this._resolve(this._node),!0)}}]),t}(),s=function(){function t(e){_classCallCheck(this,t),this._animations=e,this.promise=Promise.all(e)}return _createClass(t,[{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"stop",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=_createForOfIteratorHelper(this._animations);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.stop(e)}}catch(t){r.e(t)}finally{r.f()}}},{key:"then",value:function(t,e){return this.promise.then(t,e)}}]),t}();Object.assign(i,{clone:function(t,e){if(this._animations.has(t)){var r=this._animations.get(t).map((function(t){return new i(e,t._callback,t._options)}));this._animations.set(e,r)}},start:function(){this._animating||(this._animating=!0,this.update())},stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._animations.has(t)){var r,n=this._animations.get(t),o=_createForOfIteratorHelper(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.update(!0,e)}}catch(t){o.e(t)}finally{o.f()}this._animations.delete(t)}},update:function(){var e,r=this,n=_createForOfIteratorHelper(this._animations);try{for(n.s();!(e=n.n()).done;){var o=_slicedToArray(e.value,2),i=o[0],s=o[1];(s=s.filter((function(t){return!t.update()}))).length?this._animations.set(i,s):this._animations.delete(i)}}catch(t){n.e(t)}finally{n.f()}this._animations.size?this.useTimeout?setTimeout((function(t){return r.update()}),1e3/60):t.requestAnimationFrame((function(t){return r.update()})):this._animating=!1}}),Object.assign(i,{defaults:{duration:1e3,type:"ease-in-out",infinite:!1,debug:!1},useTimeout:!1,_animating:!1,_animations:new Map}),Object.setPrototypeOf(i.prototype,Promise.prototype),Object.setPrototypeOf(s.prototype,Promise.prototype);var a=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(_classCallCheck(this,t),!e.isDocument(n))throw new Error("Invalid document");this._context=n};return Object.assign(a.prototype,{animate:function(t,e,r){var n=(t=this.parseNodes(t)).map((function(t){return new i(t,e,r)}));return i.start(),new s(n)},stop:function(t){var e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(e=n.n()).done;){var o=e.value;i.stop(o,r)}}catch(t){n.e(t)}finally{n.f()}}}),Object.assign(a.prototype,{dropIn:function(t,e){return this.slideIn(t,_objectSpread({direction:"top"},e))},dropOut:function(t,e){return this.slideOut(t,_objectSpread({direction:"top"},e))},fadeIn:function(t,e){return this.animate(t,(function(t,e){return t.style.setProperty("opacity",e<1?e.toFixed(2):"")}),e)},fadeOut:function(t,e){return this.animate(t,(function(t,e){return t.style.setProperty("opacity",e<1?(1-e).toFixed(2):"")}),e)},rotateIn:function(t,e){return this.animate(t,(function(t,e,r){var n=((90-90*e)*(r.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?"rotate3d(".concat(r.x,", ").concat(r.y,", ").concat(r.z,", ").concat(n,"deg)"):"")}),_objectSpread({x:0,y:1,z:0},e))},rotateOut:function(t,e){return this.animate(t,(function(t,e,r){var n=(90*e*(r.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?"rotate3d(".concat(r.x,", ").concat(r.y,", ").concat(r.z,", ").concat(n,"deg)"):"")}),_objectSpread({x:0,y:1,z:0},e))},slideIn:function(t,r){var n=this;return this.animate(t,(function(t,r,o){if(1===r)return t.style.setProperty("overflow",""),void(o.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var i,s,a,u=e.evaluate(o.direction);["top","bottom"].includes(u)?(i=o.useGpu?"Y":"margin-top",s=n.constructor._height(t),a="top"===u):(i=o.useGpu?"X":"margin-left",s=n.constructor._width(t),a="left"===u);var c=((s-s*r)*(a?-1:1)).toFixed(2);o.useGpu?t.style.setProperty("transform","translate".concat(i,"(").concat(c,"px)")):t.style.setProperty(i,"".concat(c,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},r))},slideOut:function(t,r){var n=this;return this.animate(t,(function(t,r,o){if(1===r)return t.style.setProperty("overflow",""),void(o.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var i,s,a,u=e.evaluate(o.direction);["top","bottom"].includes(u)?(i=o.useGpu?"Y":"margin-top",s=n.constructor._height(t),a="top"===u):(i=o.useGpu?"X":"margin-left",s=n.constructor._width(t),a="left"===u);var c=(s*r*(a?-1:1)).toFixed(2);o.useGpu?t.style.setProperty("transform","translate".concat(i,"(").concat(c,"px)")):t.style.setProperty(i,"".concat(c,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},r))},squeezeIn:function(t,r){t=this.parseNodes(t),r=_objectSpread({direction:"bottom",useGpu:!0},r);var n=t.map((function(t){var n=t.style.height,o=t.style.width;return t.style.setProperty("overflow","hidden"),new i(t,(function(t,r,i){if(t.style.setProperty("height",n),t.style.setProperty("width",o),1===r)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var s,u,c=e.evaluate(i.direction);["top","bottom"].includes(c)?(s="height","top"===c&&(u=i.useGpu?"Y":"margin-top")):(s="width","left"===c&&(u=i.useGpu?"X":"margin-left"));var h=a["_".concat(s)](t),l=(h*r).toFixed(2);if(t.style.setProperty(s,"".concat(l,"px")),u){var f=(h-l).toFixed(2);i.useGpu?t.style.setProperty("transform","translate".concat(u,"(").concat(f,"px)")):t.style.setProperty(u,"".concat(f,"px"))}}),r)}));return i.start(),new s(n)},squeezeOut:function(t,r){t=this.parseNodes(t),r=_objectSpread({direction:"bottom",useGpu:!0},r);var n=t.map((function(t){var n=t.style.height,o=t.style.width;return t.style.setProperty("overflow","hidden"),new i(t,(function(t,r,i){if(t.style.setProperty("height",n),t.style.setProperty("width",o),1===r)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var s,u,c=e.evaluate(i.direction);["top","bottom"].includes(c)?(s="height","top"===c&&(u=i.useGpu?"Y":"margin-top")):(s="width","left"===c&&(u=i.useGpu?"X":"margin-left"));var h=a["_".concat(s)](t),l=(h-h*r).toFixed(2);if(t.style.setProperty(s,"".concat(l,"px")),u){var f=(h-l).toFixed(2);i.useGpu?t.style.setProperty("transform","translate".concat(u,"(").concat(f,"px)")):t.style.setProperty(u,"".concat(f,"px"))}}),r)}));return i.start(),new s(n)}}),Object.assign(a.prototype,{clearQueue:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;this.constructor._clearQueue(n)}}catch(t){r.e(t)}finally{r.f()}},queue:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._queue(o,e)}}catch(t){n.e(t)}finally{n.f()}}}),Object.assign(a.prototype,{getAttribute:function(t,e){var r=this.parseNode(t);if(r)return e?r.getAttribute(e):this.constructor._getAttributes(r,e)},getDataset:function(t,r){var n=this.parseNode(t);if(n){if(r)return r=e.camelCase(r),this.constructor._parseDataset(n.dataset[r]);var o={};for(var i in n.dataset)o[i]=this.constructor._parseDataset(n.dataset[i]);return o}},getHTML:function(t){return this.getProperty(t,"innerHTML")},getProperty:function(t,e){var r=this.parseNode(t);if(r)return r[e]},getText:function(t){return this.getProperty(t,"innerText")},getValue:function(t){return this.getProperty(t,"value")},removeAttribute:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){r.value.removeAttribute(e)}}catch(t){n.e(t)}finally{n.f()}},removeDataset:function(t,r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(o.s();!(n=o.n()).done;){var i=n.value;r=e.camelCase(r),delete i.dataset[r]}}catch(t){o.e(t)}finally{o.f()}},removeProperty:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){delete r.value[e]}}catch(t){n.e(t)}finally{n.f()}},setAttribute:function(t,e,r){t=this.parseNodes(t);var n,o=this.constructor._parseData(e,r),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setAttributes(s,o)}}catch(t){i.e(t)}finally{i.f()}},setDataset:function(t,e,r){t=this.parseNodes(t);var n,o=this.constructor._parseData(e,r,!0),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setDataset(s,o)}}catch(t){i.e(t)}finally{i.f()}},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty:function(t,e,r){t=this.parseNodes(t);var n,o=this.constructor._parseData(e,r),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;for(var a in o)s[a]=o[a]}}catch(t){i.e(t)}finally{i.f()}},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},setValue:function(t,e){this.setProperty(t,"value",e)}}),Object.assign(a.prototype,{cloneData:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o,i=r.value,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._cloneData(i,a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){n.e(t)}finally{n.f()}},getData:function(t,e){var r=this.parseNode(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(r)return this.constructor._getData(r,e)},removeData:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._removeData(o,e)}}catch(t){n.e(t)}finally{n.f()}},setData:function(t,e,r){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});var n,o=this.constructor._parseData(e,r),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setData(s,o)}}catch(t){i.e(t)}finally{i.f()}}}),Object.assign(a.prototype,{center:function(t,e){var r=this.rect(t,e);if(r)return{x:r.left+r.width/2,y:r.top+r.height/2}},constrain:function(t,e){var r=this.rect(e);if(r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(o.s();!(n=o.n()).done;){var i=n.value,s=this.constructor._rect(i),a={};s.height>r.height&&(a.height=r.height),s.width>r.width&&(a.width=r.width);var u=void 0;if(s.left-r.left<0?u=s.left-r.left:s.right-r.right>0&&(u=s.right-r.right),u){var c=this.constructor._css(i,"left"),h=c&&"auto"!==c?parseFloat(c):0;a.left="".concat(h-u,"px")}var l=void 0;if(s.top-r.top<0?l=s.top-r.top:s.bottom-r.bottom>0&&(l=s.bottom-r.bottom),l){var f=this.constructor._css(i,"top"),d=f&&"auto"!==f?parseFloat(f):0;a.top="".concat(d-l,"px")}"static"===this.constructor._css(i,"position")&&(a.position="relative"),this.constructor._setStyles(i,a)}}catch(t){o.e(t)}finally{o.f()}}},distTo:function(t,r,n,o){var i=this.center(t,o);if(i)return e.dist(i.x,i.y,r,n)},distToNode:function(t,e){var r=this.center(e);if(r)return this.distTo(t,r.x,r.y)},nearestTo:function(t,e,r,n){var o,i,s=Number.MAX_VALUE,a=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(a.s();!(i=a.n()).done;){var u=i.value,c=this.distTo(u,e,r,n);c&&c<s&&(s=c,o=u)}}catch(t){a.e(t)}finally{a.f()}return o},nearestToNode:function(t,e){var r=this.center(e);if(r)return this.nearestTo(t,r.x,r.y)},percentX:function(t,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.rect(t,n);if(i){var s=(r-i.left)/i.width*100;return o?e.clampPercent(s):s}},percentY:function(t,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.rect(t,n);if(i){var s=(r-i.top)/i.height*100;return o?e.clampPercent(s):s}},position:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._forceShow(r,(function(t){var r={x:t.offsetLeft,y:t.offsetTop};if(e)for(var n=t;n=n.offsetParent;)r.x+=n.offsetLeft,r.y+=n.offsetTop;return r}))},rect:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._rect(r,e)}}),Object.assign(a.prototype,{getScrollX:function(t){var r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?r.scrollX:e.isDocument(r)?r.scrollingElement.scrollLeft:r.scrollLeft},getScrollY:function(t){var r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?r.scrollY:e.isDocument(r)?r.scrollingElement.scrollTop:r.scrollTop},setScroll:function(t,r,n){var o,i=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(i.s();!(o=i.n()).done;){var s=o.value;e.isWindow(s)?s.scroll(r,n):e.isDocument(s)?(s.scrollingElement.scrollLeft=r,s.scrollingElement.scrollTop=n):(s.scrollLeft=r,s.scrollTop=n)}}catch(t){i.e(t)}finally{i.f()}},setScrollX:function(t,r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(o.s();!(n=o.n()).done;){var i=n.value;e.isWindow(i)?i.scroll(r,i.scrollY):e.isDocument(i)?i.scrollingElement.scrollLeft=r:i.scrollLeft=r}}catch(t){o.e(t)}finally{o.f()}},setScrollY:function(t,r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(o.s();!(n=o.n()).done;){var i=n.value;e.isWindow(i)?i.scroll(i.scrollX,r):e.isDocument(i)?i.scrollingElement.scrollTop=r:i.scrollTop=r}}catch(t){o.e(t)}finally{o.f()}}}),Object.assign(a.prototype,{height:function(t,r){var n=this.parseNode(t,{document:!0,window:!0});if(n)return e.isWindow(n)?r?n.outerHeight:n.innerHeight:(e.isUndefined(r)&&(r=1),this.constructor._height(n,r))},scrollHeight:function(t){var r=this.parseNode(t,{document:!0});if(r)return this.constructor._forceShow(r,(function(t){return e.isDocument(t)&&(t=t.documentElement),t.scrollHeight}))},scrollWidth:function(t){var r=this.parseNode(t,{document:!0});if(r)return this.constructor._forceShow(r,(function(t){return e.isDocument(t)&&(t=t.documentElement),t.scrollWidth}))},width:function(t,r){var n=this.parseNode(t,{document:!0,window:!0});if(n)return e.isWindow(n)?r?n.outerWidth:n.innerWidth:(e.isUndefined(r)&&(r=1),this.constructor._width(n,r))}}),Object.assign(a.prototype,{addClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=this.constructor._parseClasses(r)).length){var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s,a=o.value;(s=a.classList).add.apply(s,_toConsumableArray(r))}}catch(t){i.e(t)}finally{i.f()}}},css:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._css(r,e)},getStyle:function(t,r){var n=this.parseNode(t);if(n){if(r)return r=e.kebabCase(r),n.style[r];var o,i={},s=_createForOfIteratorHelper(n.style);try{for(s.s();!(o=s.n()).done;){var a=o.value;i[a]=n.style[a]}}catch(t){s.e(t)}finally{s.f()}return i}},hide:function(t){this.setStyle(t,"display","none")},removeClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=this.constructor._parseClasses(r)).length){var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s,a=o.value;(s=a.classList).remove.apply(s,_toConsumableArray(r))}}catch(t){i.e(t)}finally{i.f()}}},setStyle:function(t,e,r,n){t=this.parseNodes(t);var o,i=this.constructor._parseData(e,r),s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._setStyles(a,i,n)}}catch(t){s.e(t)}finally{s.f()}},show:function(t){this.setStyle(t,"display","")},toggle:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;n.style.setProperty("display","none"===n.style.display?"":"none")}}catch(t){r.e(t)}finally{r.f()}},toggleClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=this.constructor._parseClasses(r)).length){var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s,a=o.value,u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;a.classList.toggle(c)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){i.e(t)}finally{i.f()}}}}),Object.assign(a.prototype,{getCookie:function(t){var e=this._context.cookie.split(";").find((function(e){return e.trimStart().substring(0,t.length)===t})).trimStart();return e?decodeURIComponent(e.substring(t.length+1)):null},removeCookie:function(t,e){if(t){var r="".concat(t,"=;expires=Thu, 01 Jan 1970 00:00:00 UTC");e&&(e.path&&(r+=";path=".concat(e.path)),e.secure&&(r+=";secure")),this._context.cookie=r}},setCookie:function(t,e,r){if(t){var n="".concat(t,"=").concat(e);if(r){if(r.expires){var o=new Date;o.setTime(o.getTime()+1e3*r.expires),n+=";expires=".concat(o.toUTCString())}r.path&&(n+=";path=".concat(r.path)),r.secure&&(n+=";secure")}this._context.cookie=n}}}),Object.assign(a.prototype,{mouseDragFactory:function(r,n,o){var i=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n&&s&&(n=e.animation(n),o&&(o=e.animation(o))),function(e){if(r&&!1===r(e))return!1;n&&i.addEvent(t,"mousemove",n),(n||o)&&i.addEventOnce(t,"mouseup",(function(e){n&&i.removeEvent(t,"mousemove",n),o&&o(e)}))}}}),Object.assign(a.prototype,{blur:function(t){var e=this.parseNode(t);e&&e.blur()},click:function(t){var e=this.parseNode(t);e&&e.click()},focus:function(t){var e=this.parseNode(t);e&&e.focus()},ready:function(e){"complete"!==this._context.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0}):e()}}),Object.assign(a.prototype,{addEvent:function(t,e,r,n,o){var i,s=_createForOfIteratorHelper(t=this.parseNodes(t,{shadow:!0,document:!0,window:!n}));try{for(s.s();!(i=s.n()).done;){var a,u=i.value,c=_createForOfIteratorHelper(this.constructor._parseEvents(e));try{for(c.s();!(a=c.n()).done;){var h=a.value;this.constructor._addEvent(u,h,r,n,o)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){s.e(t)}finally{s.f()}},addEventDelegate:function(t,e,r,n){this.addEvent(t,e,n,r)},addEventDelegateOnce:function(t,e,r,n){this.addEvent(t,e,n,r,!0)},addEventOnce:function(t,e,r){this.addEvent(t,e,r,null,!0)},cloneEvents:function(t,e){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{shadow:!0,document:!0,window:!0});var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o,i=r.value,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._cloneEvents(i,a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){n.e(t)}finally{n.f()}},removeEvent:function(t,e,r,n){t=this.parseNodes(t,{shadow:!0,document:!0,window:!n}),e=!!e&&this.constructor._parseEvents(e);var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(this.constructor._events.has(s))if(e){var a,u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;this.constructor._removeEvent(s,c,r,n)}}catch(t){u.e(t)}finally{u.f()}}else this.constructor._removeEvent(s,e,r,n)}}catch(t){i.e(t)}finally{i.f()}},removeEventDelegate:function(t,e,r,n){this.removeEvent(t,e,n,r)},triggerEvent:function(t,e,r){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.constructor._parseEvents(e);var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var i,s=n.value,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var u=i.value;this.constructor._triggerEvent(s,u,r)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){o.e(t)}finally{o.f()}},triggerOne:function(t,e,r){var n=this.parseNode(t,{shadow:!0,document:!0,window:!0});return this.constructor._triggerEvent(n,e,r)}}),Object.assign(a.prototype,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.parseNode(t);if(r)return r.attachShadow({mode:e?"open":"closed"})},create:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1?arguments[1]:void 0,o=this._context.createElement(r);if(!n)return o;("html"in n?o.innerHTML=n.html:"text"in n&&(o.innerText=n.text),"class"in n)&&(t=o.classList).add.apply(t,_toConsumableArray(this.constructor._parseClasses(e.wrap(n.class))));if("style"in n&&this.constructor._setStyles(o,n.style),"value"in n&&(o.value=n.value),"attributes"in n&&this.constructor._setAttributes(o,n.attributes),"properties"in n)for(var i in n.properties)o[i]=n.properties[i];if("dataset"in n){var s=this.constructor._parseData(n.dataset,null,!0);this.constructor._setDataset(o,s)}return o},createComment:function(t){return this._context.createComment(t)},createFragment:function(){return this._context.createDocumentFragment()},createRange:function(){return this._context.createRange()},createText:function(t){return this._context.createTextNode(t)},parseHTML:function(t){return e.wrap(this.createRange().createContextualFragment(t).children)}}),Object.assign(a.prototype,{clone:function(t,e){var r=this;return e=_objectSpread({deep:!0},e),(t=this.parseNodes(t,{node:!0,fragment:!0})).map((function(t){return r.constructor._clone(t,e)}))},detach:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value,o=n.parentNode;o&&o.removeChild(n)}}catch(t){r.e(t)}finally{r.f()}return t},empty:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value;this.constructor._empty(n)}}catch(t){r.e(t)}finally{r.f()}},remove:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value,o=n.parentNode;o&&(this.constructor._remove(n),o.removeChild(n))}}catch(t){r.e(t)}finally{r.f()}},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,r){t=this.parseNodes(t,{node:!0}),r=this.parseNodes(r,{node:!0,fragment:!0,html:!0});var n,o=this.createFragment(),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.insertBefore(s,null)}}catch(t){i.e(t)}finally{i.f()}r=e.wrap(o.childNodes);var a,u=(t=t.filter((function(e){return!r.includes(e)&&!t.some((function(t){return!t.isSameNode(e)&&t.contains(e)}))})))[t.length-1],c=_createForOfIteratorHelper(t);try{for(c.s();!(a=c.n()).done;){var h=a.value,l=h.parentNode;if(l){var f,d=_createForOfIteratorHelper(r);try{for(d.s();!(f=d.n()).done;){var p=f.value;l.insertBefore(h.isSameNode(u)?p:this.constructor._clone(p,{deep:!0,events:!0,data:!0,animations:!0}),h)}}catch(t){d.e(t)}finally{d.f()}}}}catch(t){c.e(t)}finally{c.f()}var m,v=_createForOfIteratorHelper(t);try{for(v.s();!(m=v.n()).done;){var _=m.value,y=_.parentNode;y&&(this.constructor._remove(_),y.removeChild(_))}}catch(t){v.e(t)}finally{v.f()}}}),Object.assign(a.prototype,{after:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var r,n=t[t.length-1],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.parentNode;if(s){var a,u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.insertBefore(i.isSameNode(n)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),i.nextSibling)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){o.e(t)}finally{o.f()}},append:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,n=t[t.length-1],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i,s=r.value,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var u=i.value;s.insertBefore(s.isSameNode(n)?u:this.constructor._clone(u,{deep:!0,events:!0,data:!0,animations:!0}),null)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){o.e(t)}finally{o.f()}},appendTo:function(t,e){this.append(e,t)},before:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,n=t[t.length-1],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.parentNode;if(s){var a,u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.insertBefore(i.isSameNode(n)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),i)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){o.e(t)}finally{o.f()}},insertAfter:function(t,e){this.after(e,t)},insertBefore:function(t,e){this.before(e,t)},prepend:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,n=t[t.length-1],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i,s=r.value,a=s.firstChild,u=_createForOfIteratorHelper(e);try{for(u.s();!(i=u.n()).done;){var c=i.value;s.insertBefore(s.isSameNode(n)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),a)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){o.e(t)}finally{o.f()}},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(a.prototype,{unwrap:function(t,r){t=this.parseNodes(t,{node:!0}),r=this.parseFilter(r);var n,o=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value.parentNode;s&&(o.includes(s)||r&&!r(s)||o.push(s))}}catch(t){i.e(t)}finally{i.f()}for(var a=0,u=o;a<u.length;a++){var c=u[a],h=c.parentNode;if(h){var l,f=_createForOfIteratorHelper(e.wrap(c.childNodes));try{for(f.s();!(l=f.n()).done;){var d=l.value;h.insertBefore(d,c)}}catch(t){f.e(t)}finally{f.f()}this.constructor._remove(c),h.removeChild(c)}}},wrap:function(t,r){var n=this;t=this.parseNodes(t,{node:!0}),r=this.parseNodes(r,{fragment:!0,html:!0});var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s=o.value,a=s.parentNode;if(a){var u,c=r.map((function(t){return n.constructor._clone(t,{deep:!0,events:!0,data:!0,animations:!0})})),h=c.slice().shift(),l=this.constructor._deepest(e.isFragment(h)?h.firstChild:h),f=_createForOfIteratorHelper(c);try{for(f.s();!(u=f.n()).done;){var d=u.value;a.insertBefore(d,s)}}catch(t){f.e(t)}finally{f.f()}l.insertBefore(s,null)}}}catch(t){i.e(t)}finally{i.f()}},wrapAll:function(t,r){t=this.parseNodes(t,{node:!0}),r=this.parseNodes(r,{fragment:!0,html:!0});var n=this.clone(r,{events:!0,data:!0,animations:!0}),o=t[0];if(o){var i=o.parentNode;if(i){var s,a=n[0],u=this.constructor._deepest(e.isFragment(a)?a.firstChild:a),c=_createForOfIteratorHelper(n);try{for(c.s();!(s=c.n()).done;){var h=s.value;i.insertBefore(h,o)}}catch(t){c.e(t)}finally{c.f()}var l,f=_createForOfIteratorHelper(t);try{for(f.s();!(l=f.n()).done;){var d=l.value;u.insertBefore(d,null)}}catch(t){f.e(t)}finally{f.f()}}}},wrapInner:function(t,r){var n=this;t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),r=this.parseNodes(r,{fragment:!0,html:!0});var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s,a=o.value,u=e.wrap(a.childNodes),c=r.map((function(t){return n.constructor._clone(t,{deep:!0,events:!0,data:!0,animatinos:!0})})),h=c.slice().shift(),l=this.constructor._deepest(e.isFragment(h)?h.firstChild:h),f=_createForOfIteratorHelper(c);try{for(f.s();!(s=f.n()).done;){var d=s.value;a.insertBefore(d,null)}}catch(t){f.e(t)}finally{f.f()}var p,m=_createForOfIteratorHelper(u);try{for(m.s();!(p=m.n()).done;){var v=p.value;l.insertBefore(v,null)}}catch(t){m.e(t)}finally{m.f()}}}catch(t){i.e(t)}finally{i.f()}}}),Object.assign(a.prototype,{loadScript:function(t,e){var r=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e=_objectSpread({src:t,type:"text/javascript"},e),o||(e.src=n.appendQueryString(e.src,"_",Date.now())),new Promise((function(t,n){var o=r.create("script",{attributes:e});o.onload=function(e){return t()},o.onerror=function(t){return n()},r._context.head.appendChild(o)}))},loadScripts:function(t){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map((function(t){return e.isString(t)?r.loadScript(t,null,n):r.loadScript(null,t,n)})))}}),Object.assign(a.prototype,{loadStyle:function(t,e){var r=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e=_objectSpread({href:t,rel:"stylesheet"},e),o||(e.href=n.appendQueryString(e.href,"_",Date.now())),new Promise((function(t,n){var o=r.create("link",{attributes:e});o.onload=function(e){return t()},o.onerror=function(t){return n()},r._context.head.appendChild(o)}))},loadStyles:function(t){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map((function(t){return e.isString(t)?r.loadStyle(t,null,n):r.loadStyle(null,t,n)})))}}),Object.assign(a.prototype,{connected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return t.isConnected}))},equal:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return e.some((function(e){return t.isEqualNode(e)}))}))},filter:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t,r){return!e||e(t,r)}))},filterOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((function(t,r){return!e||e(t,r)}))||null},fixed:function(t){var r=this;return this.parseNodes(t,{node:!0}).filter((function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")||r.constructor._parents(t,(function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")}),!1,!0).length}))},hidden:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((function(t){return!e.constructor._isVisible(t)}))},not:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t,r){return e&&!e(t,r)}))},notOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((function(t,r){return e&&!e(t,r)}))||null},same:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return e.some((function(e){return t.isSameNode(e)}))}))},visible:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((function(t){return e.constructor._isVisible(t)}))},withAnimation:function(t){return this.parseNodes(t).filter((function(t){return i._animations.has(t)}))},withAttribute:function(t,e){return this.parseNodes(t).filter((function(t){return t.hasAttribute(e)}))},withChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((function(t){return!!t.childElementCount}))},withClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r=this.constructor._parseClasses(r),this.parseNodes(t).filter((function(t){return r.some((function(e){return t.classList.contains(e)}))}))},withCSSAnimation:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasCSSAnimation(t)}))},withCSSTransition:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasCSSTransition(t)}))},withData:function(t,e){var r=this;return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter((function(t){return r.constructor._hasData(t,e)}))},withDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((function(t,r){return!e||e(t,r)}))},withProperty:function(t,e){return this.parseNodes(t).filter((function(t){return t.hasOwnProperty(e)}))}}),Object.assign(a.prototype,{find:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(this.constructor._fastRegExp);return n?"#"===n[1]?this.findById(n[2],r):"."===n[1]?this.findByClass(n[2],r):this.findByTag(n[2],r):(t.match(this.constructor._complexRegExp)&&(t=this.constructor._prefixSelectors(t,":scope ")),e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?e.wrap(r.querySelectorAll(t)):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(t,r)))},findByClass:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r))return e.wrap(r.getElementsByClassName(t));if(e.isFragment(r)||e.isShadow(r))return e.wrap(r.querySelectorAll(".".concat(t)));var n,o=[],i=_createForOfIteratorHelper(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,e.isFragment(s)||e.isShadow(s)?s.querySelectorAll(".".concat(t)):s.getElementsByClassName(t))}}catch(t){i.e(t)}finally{i.f()}return r.length>1&&o.length>1?e.unique(o):o},findById:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?e.wrap(r.querySelectorAll("#".concat(t))):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector("#".concat(t),r))},findByTag:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r))return e.wrap(r.getElementsByTagName(t));if(e.isFragment(r)||e.isShadow(r))return e.wrap(r.querySelectorAll(t));var n,o=[],i=_createForOfIteratorHelper(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,e.isFragment(s)||e.isShadow(s)?s.querySelectorAll(t):s.getElementsByTagName(t))}}catch(t){i.e(t)}finally{i.f()}return r.length>1&&o.length>1?e.unique(o):o},findOne:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(this.constructor._fastRegExp);return n?"#"===n[1]?this.findOneById(n[2],r):"."===n[1]?this.findOneByClass(n[2],r):this.findOneByTag(n[2],r):(t.match(this.constructor._complexRegExp)&&(t=this.constructor._prefixSelectors(t,":scope ")),e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?r.querySelector(t):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(t,r):void 0)},findOneByClass:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r))return r.getElementsByClassName(t).item(0);if(e.isFragment(r)||e.isShadow(r))return r.querySelector(".".concat(t));if((r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length){var n,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=e.isFragment(i)||e.isShadow(i)?i.querySelector(".".concat(t)):i.getElementsByClassName(t).item(0);if(s)return s}}catch(t){o.e(t)}finally{o.f()}return null}},findOneById:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return e.isDocument(r)?r.getElementById(t):e.isElement(r)||e.isFragment(r)||e.isShadow(r)?r.querySelector("#".concat(t)):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector("#".concat(t),r):void 0},findOneByTag:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r))return r.getElementsByTagName(t).item(0);if(e.isFragment(r)||e.isShadow(r))return r.querySelector(t);if((r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length){var n,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=e.isFragment(i)||e.isShadow(i)?i.querySelector(t):i.getElementsByTagName(t).item(0);if(s)return s}}catch(t){o.e(t)}finally{o.f()}return null}}}),Object.assign(a.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r=this.parseFilter(r),e.isElement(t)||e.isDocument(t)||e.isFragment(t)||e.isShadow(t))return this.constructor._children(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}));try{for(a.s();!(i=a.n()).done;){var u=i.value;e.merge(s,this.constructor._children(u,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},closest:function(t,e,r){return this.parents(t,e,r,!0)},commonAncestor:function(t){if((t=this.sort(t)).length&&!t.some((function(t){return!t.parentNode}))){var e=this.createRange();return 1===t.length?e.selectNode(t.shift()):(e.setStartBefore(t.shift()),e.setEndAfter(t.pop())),e.commonAncestorContainer}},contents:function(t){return this.children(t,!1,!1,!1)},fragment:function(t){var e=this.parseNode(t);if(e)return e.content},next:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return this.constructor._next(t,r);var n,o=[],i=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,this.constructor._nextAll(s,r,null,!0))}}catch(t){i.e(t)}finally{i.f()}return t.length>1&&o.length>1?e.unique(o):o},nextAll:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return this.constructor._nextAll(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(i=a.n()).done;){var u=i.value;e.merge(s,this.constructor._nextAll(u,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},offsetParent:function(t){return this.forceShow(t,(function(t){return t.offsetParent}))},parent:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return this.constructor._parent(t,r);var n,o=[],i=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,this.constructor._parent(s,r))}}catch(t){i.e(t)}finally{i.f()}return t.length>1&&o.length>1?e.unique(o):o},parents:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return this.constructor._parents(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(i=a.n()).done;){var u=i.value;e.merge(s,this.constructor._parents(u,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},prev:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return this.constructor._prev(t,r);var n,o=[],i=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,this.constructor._prev(s,r))}}catch(t){i.e(t)}finally{i.f()}return t.length>1&&o.length>1?e.unique(o):o},prevAll:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return this.constructor._prevAll(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(i=a.n()).done;){var u=i.value;e.merge(s,this.constructor._prevAll(u,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},shadow:function(t){var e=this.parseNode(t);if(e)return e.shadowRoot},siblings:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=this.parseFilter(r),e.isNode(t))return this.constructor._siblings(t,r,n);var o,i=[],s=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(s.s();!(o=s.n()).done;){var a=o.value;e.merge(i,this.constructor._siblings(a,r,n))}}catch(t){s.e(t)}finally{s.f()}return t.length>1&&i.length>1?e.unique(i):i}}),Object.assign(a.prototype,{parseFilter:function(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?function(r){return e.isElement(r)&&r.matches(t)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return e.isSameNode(t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.includes(e)})},parseFilterContains:function(t){var r=this;return!!t&&(e.isFunction(t)?function(r){return e.wrap(r.querySelectorAll("*")).some(t)}:e.isString(t)?function(e){return!!r.findOne(t,e)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return e.contains(t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.some((function(t){return e.contains(t)}))})},parseNode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.parseNodesFactory(e);return this.parseNodesDeep(t,e.context||this._context,r,e.html,!0)},parseNodes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.parseNodesFactory(e);return this.parseNodesDeep(t,e.context||this._context,r,e.html)},parseNodesDeep:function(r,n,o){var i=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!r)return a?null:[];if(e.isString(r)){if(s&&"<"===r.trim().charAt(0))return this.parseHTML(r);if(!a)return this.find(r,n);var u=this.findOne(r,n);return u||null}if(o(r))return a?r:[r];if("QuerySet"in t&&r instanceof QuerySet){if(!a)return r.get().filter(o);var c=r.get(0);return c&&o(c)?c:null}if(r instanceof HTMLCollection)return a?r.length?r.item(0):null:e.wrap(r);if(e.isArray(r)){var h=this.constructor.parseNodesFactory({node:!0,fragment:!0,shadow:!0,document:!0,window:!0});r=r.flatMap((function(t){return i.parseNodesDeep(t,n,h,s)}))}else r=e.wrap(r);if(r.length&&(r=e.unique(r)),!a)return r.filter(o);var l=r.shift();return l&&o(l)?l:null}}),Object.assign(a.prototype,{afterSelection:function(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var r=t.getSelection();if(r.rangeCount){var n=r.getRangeAt(0);r.removeAllRanges(),n.collapse();var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.insertNode(s)}}catch(t){i.e(t)}finally{i.f()}}},beforeSelection:function(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var r=t.getSelection();if(r.rangeCount){var n=r.getRangeAt(0);r.removeAllRanges();var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.insertNode(s)}}catch(t){i.e(t)}finally{i.f()}}},extractSelection:function(){var r=t.getSelection();if(!r.rangeCount)return[];var n=r.getRangeAt(0);r.removeAllRanges();var o=n.extractContents();return e.wrap(o.childNodes)},getSelection:function(){var r=t.getSelection();if(!r.rangeCount)return[];var n=r.getRangeAt(0),o=e.wrap(n.commonAncestorContainer.querySelectorAll("*"));if(!o.length)return[n.commonAncestorContainer];if(1===o.length)return o;var i,s,a=n.startContainer,u=n.endContainer,c=e.isElement(a)?a:a.parentNode,h=e.isElement(u)?u:u.parentNode,l=[],f=_createForOfIteratorHelper(o.slice(o.indexOf(c),o.indexOf(h)+1));try{for(f.s();!(s=f.n()).done;){var d=s.value;i&&i.contains(d)||(i=d,l.push(d))}}catch(t){f.e(t)}finally{f.f()}return l},select:function(e){var r=this.parseNode(e,{node:!0});if(r&&"select"in r)return r.select();var n=t.getSelection();if(n.rangeCount>0&&n.removeAllRanges(),r){var o=this.createRange();o.selectNode(r),n.addRange(o)}},selectAll:function(e){e=this.sort(e);var r=t.getSelection();if(r.rangeCount&&r.removeAllRanges(),e.length){var n=this.createRange();1==e.length?n.selectNode(e.shift()):(n.setStartBefore(e.shift()),n.setEndAfter(e.pop())),r.addRange(n)}},wrapSelection:function(r){r=this.parseNodes(r,{fragment:!0,html:!0});var n=t.getSelection();if(n.rangeCount){var o=n.getRangeAt(0);n.removeAllRanges();var i,s=o.extractContents(),a=this.constructor._deepest(r.slice().shift()),u=_createForOfIteratorHelper(e.wrap(s.childNodes));try{for(u.s();!(i=u.n()).done;){var c=i.value;a.insertBefore(c,null)}}catch(t){u.e(t)}finally{u.f()}var h,l=_createForOfIteratorHelper(r);try{for(l.s();!(h=l.n()).done;){var f=h.value;o.insertNode(f)}}catch(t){l.e(t)}finally{l.f()}}}}),Object.assign(a.prototype,{hasAnimation:function(t){return this.parseNodes(t).some((function(t){return i._animations.has(t)}))},hasAttribute:function(t,e){return this.parseNodes(t).some((function(t){return t.hasAttribute(e)}))},hasChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((function(t){return!!t.childElementCount}))},hasClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r=this.constructor._parseClasses(r),this.parseNodes(t).some((function(t){return r.some((function(e){return t.classList.contains(e)}))}))},hasCSSAnimation:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasCSSAnimation(t)}))},hasCSSTransition:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasCSSTransition(t)}))},hasData:function(t,e){var r=this;return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some((function(t){return r.constructor._hasData(t,e)}))},hasDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((function(t){return!e||e(t)}))},hasFragment:function(t){return this.parseNodes(t).some((function(t){return!!t.content}))},hasProperty:function(t,e){return this.parseNodes(t).some((function(t){return t.hasOwnProperty(e)}))},hasShadow:function(t){return this.parseNodes(t).some((function(t){return!!t.shadowRoot}))},is:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return!e||e(t)}))},isConnected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return t.isConnected}))},isEqual:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return e.some((function(e){return t.isEqualNode(e)}))}))},isFixed:function(t){var r=this;return this.parseNodes(t,{node:!0}).some((function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")||r.constructor._parents(t,(function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")}),!1,!0).length}))},isHidden:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((function(t){return!e.constructor._isVisible(t)}))},isSame:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return e.some((function(e){return t.isSameNode(e)}))}))},isVisible:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((function(t){return e.constructor._isVisible(t)}))}}),Object.assign(a.prototype,{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(t,!1,e)},forceShow:function(t,e){var r=this.parseNode(t,{node:!0});if(r)return this.constructor._forceShow(r,e)},index:function(t){var r=this.parseNode(t,{node:!0});if(r)return e.wrap(r.parentNode.children).indexOf(r)},indexOf:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).findIndex((function(t){return!e||e(t)}))},normalize:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0}));try{for(r.s();!(e=r.n()).done;){e.value.normalize()}}catch(t){r.e(t)}finally{r.f()}},sanitize:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allowedTags,n=this.create("template",{html:t}),o=n.content,i=this.constructor._children(o,null,!1,!0),s=_createForOfIteratorHelper(i);try{for(s.s();!(e=s.n()).done;){var u=e.value;this.constructor._sanitize(u,o,r)}}catch(t){s.e(t)}finally{s.f()}return this.getHTML(n)},serialize:function(t){return n._parseParams(this.serializeArray(t))},serializeArray:function(t){var r=this;return this.parseNodes(t,{fragment:!0,shadow:!0}).reduce((function(t,n){if(e.isElement(n)&&n.matches("form")||e.isFragment(n)||e.isShadow(n))return t.concat(r.serializeArray(n.querySelectorAll("input, select, textarea")));if(e.isElement(n)&&n.matches("[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;var o=n.getAttribute("name");if(!o)return t;if(e.isElement(n)&&n.matches("select[multiple]")){var i,s=_createForOfIteratorHelper(n.selectedOptions);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.push({name:o,value:a.value||""})}}catch(t){s.e(t)}finally{s.f()}}else t.push({name:o,value:n.value||""});return t}),[])},sort:function(t){return(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0})).sort((function(t,r){if(e.isWindow(t))return 1;if(e.isWindow(r))return-1;if(e.isDocument(t))return 1;if(e.isDocument(r))return-1;if(e.isFragment(r))return 1;if(e.isFragment(t))return-1;if(e.isShadow(t)&&(t=t.host),e.isShadow(r)&&(r=r.host),t.isSameNode(r))return 0;var n=t.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}))},tagName:function(t){var e=this.parseNode(t);if(e)return e.tagName.toLowerCase()}}),Object.assign(a,{ajax:function(t){return new n(t)},delete:function(t,e){return new n(_objectSpread({url:t,method:"DELETE"},e))},get:function(t,e,r){return new n(_objectSpread({url:t,data:e},r))},patch:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"PATCH"},r))},post:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"POST"},r))},put:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"PUT"},r))}}),Object.assign(a,{_clearQueue:function(t){this._queues.has(t)&&this._queues.delete(t)},_dequeueNode:function(t){var e=this;if(this._queues.has(t)){var r=this._queues.get(t).shift();r?Promise.resolve(r(t)).then((function(r){return e._dequeueNode(t)})).catch((function(r){return e._clearQueue(t)})):this._queues.delete(t)}},_queue:function(t,e){var r=!this._queues.has(t);r&&this._queues.set(t,[function(t){return new Promise((function(t){return setTimeout(t,0)}))}]),this._queues.get(t).push(e),r&&this._dequeueNode(t)}}),Object.assign(a,{_getAttributes:function(t){var e,r={},n=_createForOfIteratorHelper(t.attributes);try{for(n.s();!(e=n.n()).done;){var o=e.value;r[o.nodeName]=o.nodeValue}}catch(t){n.e(t)}finally{n.f()}return r},_setAttributes:function(t,e){for(var r in e)t.setAttribute(r,e[r])},_setDataset:function(t,r){for(var n in r){var o=e.camelCase(n);t.dataset[o]=r[n]}}}),Object.assign(a,{_cloneData:function(t,e){this._data.has(t)&&this._setData(e,_objectSpread({},this._data.get(t)))},_getData:function(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData:function(t,e){if(this._data.has(t)){if(e){var r=this._data.get(t);if(delete r[e],Object.keys(r).length)return}this._data.delete(t)}},_setData:function(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(a,{_rect:function(e,r){return this._forceShow(e,(function(e){var n=e.getBoundingClientRect();return r&&(n.x+=t.scrollX,n.y+=t.scrollY),n}))}}),Object.assign(a,{_height:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(t,(function(t){e.isDocument(t)&&(t=t.documentElement);var o=t.clientHeight;return n===r.INNER&&(o-=parseInt(r._css(t,"padding-top"))+parseInt(r._css(t,"padding-bottom"))),n>=r.OUTER&&(o+=parseInt(r._css(t,"border-top-width"))+parseInt(r._css(t,"border-bottom-width"))),n===r.OUTER_MARGIN&&(o+=parseInt(r._css(t,"margin-top"))+parseInt(r._css(t,"margin-bottom"))),o}))},_width:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(t,(function(t){e.isDocument(t)&&(t=t.documentElement);var o=t.clientWidth;return n===r.INNER&&(o-=parseInt(r._css(t,"padding-left"))+parseInt(r._css(t,"padding-right"))),n>=r.OUTER&&(o+=parseInt(r._css(t,"border-left-width"))+parseInt(r._css(t,"border-right-width"))),n===r.OUTER_MARGIN&&(o+=parseInt(r._css(t,"margin-left"))+parseInt(r._css(t,"margin-right"))),o}))}}),Object.assign(a,{_css:function(r,n){return this._styles.has(r)||this._styles.set(r,t.getComputedStyle(r)),n?(n=e.kebabCase(n),this._styles.get(r).getPropertyValue(n)):_objectSpread({},this._styles.get(r))},_setStyles:function(t,r,n){for(var o in r){var i=r[o];o=e.kebabCase(o),i&&e.isNumeric(i)&&!this.cssNumberProperties.includes(o)&&(i+="px"),t.style.setProperty(o,i,n?"important":"")}}}),Object.assign(a,{_delegateFactory:function(t,r,n){var o=r.match(this._complexRegExp)?this._getDelegateContainsFactory(t,r):this._getDelegateMatchFactory(t,r);return function(r){if(!t.isSameNode(r.target)){var i=o(r.target);if(i){var s={},a=function(t){s[t]=e.isFunction(r[t])?function(){return r[t].apply(r,arguments)}:r[t]};for(var u in r)a(u);return s.currentTarget=i,s.delegateTarget=t,s.originalEvent=r,Object.freeze(s),n(s)}}}},_getDelegateContainsFactory:function(t,r){var n=this;return r=this._prefixSelectors(r,":scope "),function(o){var i=e.wrap(t.querySelectorAll(r));return!!i.length&&(i.includes(o)?o:n._parents(o,(function(t){return i.includes(t)}),(function(e){return e.isSameNode(t)}),!0).shift())}},_getDelegateMatchFactory:function(t,e){var r=this;return function(n){return n.matches(e)?n:r._parents(n,(function(t){return t.matches(e)}),(function(e){return e.isSameNode(t)}),!0).shift()}},_namespaceFactory:function(t,e){return function(r){if(!("namespaceRegExp"in r)||r.namespaceRegExp.test(t))return e(r)}},_preventFactory:function(t){return function(e){!1===t(e)&&e.preventDefault()}},_selfDestructFactory:function(t,e,r,n){var o=this;return function(i){return o._removeEvent(t,e,n,r),n(i)}}}),Object.assign(a,{_addEvent:function(t,e,r,n,o){this._events.has(t)||this._events.set(t,{});var i=this._events.get(t),s={delegate:n,callback:r,selfDestruct:o},a=this._parseEvent(e),u=r;o&&(u=this._selfDestructFactory(t,e,n,u)),u=this._preventFactory(u),n&&(u=this._delegateFactory(t,n,u)),u=this._namespaceFactory(e,u),s.realCallback=u,s.event=e,s.realEvent=a,i[a]||(i[a]=[]),i[a].push(s),t.addEventListener(a,u)},_cloneEvents:function(t,e){if(this._events.has(t)){var r=this._events.get(t);for(var n in r){var o,i=_createForOfIteratorHelper(r[n]);try{for(i.s();!(o=i.n()).done;){var s=o.value;this._addEvent(e,s.event,s.callback,s.delegate,s.selfDestruct)}}catch(t){i.e(t)}finally{i.f()}}}},_removeEvent:function(t,e,r,n){var o=this;if(this._events.has(t)){var i=this._events.get(t);if(e){var s=this._parseEvent(e);i[s]&&(i[s]=i[s].filter((function(i){if(n&&n!==i.delegate||r&&r!==i.callback)return!0;if(s!==e){var a=o._eventNamespacedRegExp(e);if(!i.event.match(a))return!0}return t.removeEventListener(i.realEvent,i.realCallback),!1})),i[s].length||delete i[s],Object.keys(i).length||this._events.delete(t))}else for(var a=0,u=Object.keys(i);a<u.length;a++){var c=u[a];this._removeEvent(t,c,r,n)}}},_triggerEvent:function(t,e,r){var n=this._parseEvent(e),o=new CustomEvent(n,_objectSpread({bubbles:!0,cancelable:!0},r));return n!==e&&(o.namespace=e.substring(n.length+1),o.namespaceRegExp=this._eventNamespacedRegExp(e)),t.dispatchEvent(o)}}),Object.assign(a,{_eventNamespacedRegExp:function(t){return new RegExp("^".concat(e.escapeRegExp(t),"(?:\\.|$)"),"i")},_parseClasses:function(t){return t.flat().flatMap((function(t){return t.split(" ")}))},_parseData:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.isObject(t)?t:_defineProperty({},t,r),i={};for(var s in o){var a=o[s];i[s]=n&&(e.isObject(a)||e.isArray(a))?JSON.stringify(a):a}return i},_parseDataset:function(t){if(e.isUndefined(t))return t;var r=t.toLowerCase().trim();if(["true","on"].includes(r))return!0;if(["false","off"].includes(r))return!1;if("null"===r)return null;if(e.isNumeric(r))return parseFloat(r);if(["{","["].includes(r.charAt(0)))try{return JSON.parse(t)}catch(t){}return t},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_prefixSelectors:function(t,e){var r=this;return t.split(this._splitRegExp).filter((function(t){return!!t})).map((function(t){return r._customSelectors.includes(t.trim().charAt(0))?"".concat(e," ").concat(t):t})).join(", ")}}),Object.assign(a,{_clone:function(t,e){var r=t.cloneNode(e.deep);return e.events&&this._cloneEvents(t,r),e.data&&this._cloneData(t,r),e.animations&&i.clone(t,r),e.deep&&this._deepClone(t,r,e),r},_deepClone:function(t,e,r){for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes.item(n),s=e.childNodes.item(n);r.events&&this._cloneEvents(o,s),r.data&&this._cloneData(o,s),r.animations&&i.clone(o,s),this._deepClone(o,s,r)}},_empty:function(t){var r,n=_createForOfIteratorHelper(e.wrap(t.childNodes));try{for(n.s();!(r=n.n()).done;){var o=r.value;this._remove(o),t.removeChild(o)}}catch(t){n.e(t)}finally{n.f()}t.shadowRoot&&this._remove(t.shadowRoot),t.content&&this._remove(t.content)},_remove:function(t){var r=new Event("remove");t.dispatchEvent(r),this._empty(t),e.isElement(t)&&(this._clearQueue(t),i.stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)}}),Object.assign(a,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(a,{_findBySelector:function(t,r){var n,o=[],i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,s.querySelectorAll(t))}}catch(t){i.e(t)}finally{i.f()}return r.length>1&&o.length>1?e.unique(o):o},_findOneBySelector:function(t,e){var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o=r.value.querySelector(t);if(o)return o}}catch(t){n.e(t)}finally{n.f()}return null}}),Object.assign(a,{_children:function(t,e){var r,n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=i?t.children:t.childNodes,a=[],u=_createForOfIteratorHelper(s);try{for(u.s();!(n=u.n()).done&&(r=n.value,e&&!e(r)||(a.push(r),!o)););}catch(t){u.e(t)}finally{u.f()}return a},_deepest:function(t){return e.wrap(t.querySelectorAll("*")).find((function(t){return!t.childElementCount}))||t},_next:function(t,r){for(var n=[];t=t.nextSibling;)if(e.isElement(t)){r&&!r(t)||n.push(t);break}return n},_nextAll:function(t,r,n){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];t=t.nextSibling;)if(e.isElement(t)){if(n&&n(t))break;if((!r||r(t))&&(i.push(t),o))break}return i},_parent:function(t,e){var r=[],n=t.parentNode;return n?(e&&!e(n)||r.push(n),r):r},_parents:function(t,r,n){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];(t=t.parentNode)&&!e.isDocument(t)&&(!n||!n(t))&&(r&&!r(t)||(i.unshift(t),!o)););return i},_prev:function(t,r){for(var n=[];t=t.previousSibling;)if(e.isElement(t)){r&&!r(t)||n.push(t);break}return n},_prevAll:function(t,r,n){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];t=t.previousSibling;)if(e.isElement(t)){if(n&&n(t))break;if((!r||r(t))&&(i.unshift(t),o))break}return i},_siblings:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],o=t.parentNode;if(!o)return n;var i,s,a=r?o.children:o.childNodes,u=_createForOfIteratorHelper(a);try{for(u.s();!(s=u.n()).done;)i=s.value,t.isSameNode(i)||e&&!e(i)||n.push(i)}catch(t){u.e(t)}finally{u.f()}return n}}),Object.assign(a,{parseNodesFactory:function(t){return t?function(r){return(t.node?e.isNode(r):e.isElement(r))||t.fragment&&e.isFragment(r)||t.shadow&&e.isShadow(r)||t.document&&e.isDocument(r)||t.window&&e.isWindow(r)}:e.isElement}}),Object.assign(a,{_hasCSSAnimation:function(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasCSSTransition:function(t){return!!parseFloat(this._css(t,"transition-duration"))},_hasData:function(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_isVisible:function(t){return e.isWindow(t)?"visible"===t.document.visibilityState:e.isDocument(t)?"visible"===t.visibilityState:!!t.offsetParent}}),Object.assign(a,{_forceShow:function(t,r){var n=this;if(this._isVisible(t))return r(t);var o=[];e.isElement(t)&&"none"===this._css(t,"display")&&o.push(t),e.merge(o,this._parents(t,(function(t){return e.isElement(t)&&"none"===n._css(t,"display")})));for(var i=new Map,s=0,a=o;s<a.length;s++){var u=a[s];i.set(u,u.getAttribute("style")),u.style.setProperty("display","initial","important")}var c,h=r(t),l=_createForOfIteratorHelper(i);try{for(l.s();!(c=l.n()).done;){var f=_slicedToArray(c.value,2),d=f[0],p=f[1];p?d.setAttribute("style",p):(d.getAttribute("style"),d.removeAttribute("style"))}}catch(t){l.e(t)}finally{l.f()}return h},_sanitize:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.allowedTags,n=t.tagName.toLowerCase();if(n in r){var o=[];"*"in r&&r["*"].length&&o.push.apply(o,_toConsumableArray(r["*"])),r[n].length&&o.push.apply(o,_toConsumableArray(r[n]));var i=this._getAttributes(t),s=function(e){!!o.find((function(t){return e.match(t)}))||t.removeAttribute(e)};for(var a in i)s(a);var u,c=this._children(t,null,!1,!0),h=_createForOfIteratorHelper(c);try{for(h.s();!(u=h.n()).done;){var l=u.value;this._sanitize(l,t,r)}}catch(t){h.e(t)}finally{h.f()}}else e.removeChild(t)}}),Object.assign(a,{_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cssNumberProperties:["font-weight","line-height","opacity","orphans","widows","z-index"],INNER:0,OUTER:2,OUTER_MARGIN:3,_complexRegExp:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,_customSelectors:[">","+","~"],_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_splitRegExp:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/}),{AjaxRequest:n,Animation:i,AnimationSet:s,DOM:a,dom:new a}})),function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(t,e(t))}(this||t,(function(t){if(!t)throw new Error("fQuery requires a Window.");if(!("DOM"in t))throw new Error("fQuery requires FrostDOM.");var e=t.DOM,r=t.dom,n=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;_classCallCheck(this,t),this._dom=n,this._nodes=e}return _createClass(t,[{key:"pushNode",value:function(t){return this.pushStack([t].filter((function(t){return t})))}},{key:"pushStack",value:function(t){return this._nodes=t,this}},{key:"length",get:function(){return this._nodes.length}}]),t}(),o=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"pushStack",value:function(t){return new r(t)}}]),r}(n);return Object.assign(n.prototype,{animate:function(t,e){var r=this;return this.queue((function(n){return r._dom.animate(n,t,e)}))},stop:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clearQueue(),this._dom.stop(this,t),this}}),Object.assign(n.prototype,{dropIn:function(t){var e=this;return this.queue((function(r){return e._dom.dropIn(r,t)}))},dropOut:function(t){var e=this;return this.queue((function(r){return e._dom.dropOut(r,t)}))},fadeIn:function(t){var e=this;return this.queue((function(r){return e._dom.fadeIn(r,t)}))},fadeOut:function(t){var e=this;return this.queue((function(r){return e._dom.fadeOut(r,t)}))},rotateIn:function(t){var e=this;return this.queue((function(r){return e._dom.rotateIn(r,t)}))},rotateOut:function(t){var e=this;return this.queue((function(r){return e._dom.rotateOut(r,t)}))},slideIn:function(t){var e=this;return this.queue((function(r){return e._dom.slideIn(r,t)}))},slideOut:function(t){var e=this;return this.queue((function(r){return e._dom.slideOut(r,t)}))},squeezeIn:function(t){var e=this;return this.queue((function(r){return e._dom.squeezeIn(r,t)}))},squeezeOut:function(t){var e=this;return this.queue((function(r){return e._dom.squeezeOut(r,t)}))}}),Object.assign(n.prototype,{clearQueue:function(){return this._dom.clearQueue(this),this},delay:function(t){return this.queue((function(e){return new Promise((function(e){return setTimeout(e,t)}))}))},queue:function(t){return this._dom.queue(this,t),this}}),Object.assign(n.prototype,{getAttribute:function(t){return this._dom.getAttribute(this,t)},getDataset:function(t){return this._dom.getDataset(this,t)},getHTML:function(){return this._dom.getHTML(this)},getProperty:function(t){return this._dom.getProperty(this,t)},getText:function(){return this._dom.getText(this)},getValue:function(){return this._dom.getValue(this)},removeAttribute:function(t){return this._dom.removeAttribute(this,t),this},removeDataset:function(t){return this._dom.removeDataset(this,t),this},removeProperty:function(t){return this._dom.removeProperty(this,t),this},setAttribute:function(t,e){return this._dom.setAttribute(this,t,e),this},setDataset:function(t,e){return this._dom.setDataset(this,t,e),this},setHTML:function(t){return this._dom.setHTML(this,t),this},setProperty:function(t,e){return this._dom.setProperty(this,t,e),this},setText:function(t){return this._dom.setText(this,t),this},setValue:function(t){return this._dom.setValue(this,t),this}}),Object.assign(n.prototype,{cloneData:function(t){return this._dom.cloneData(this,t),this},getData:function(t){return this._dom.getData(this,t)},removeData:function(t){return this._dom.removeData(this,t),this},setData:function(t,e){return this._dom.setData(this,t,e),this}}),Object.assign(n.prototype,{center:function(t){return this._dom.center(this,t)},constrain:function(t){return this._dom.constrain(this,t),this},distTo:function(t,e,r){return this._dom.distTo(this,t,e,r)},distToNode:function(t){return this._dom.distToNode(this,t)},nearestTo:function(t,e,r){var n=this._dom.nearestTo(this,t,e,r);return new this.constructor([n].filter((function(t){return t})))},nearestToNode:function(t){var e=this._dom.nearestToNode(this,t);return new this.constructor([e].filter((function(t){return t})))},percentX:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._dom.percentX(this,t,e,r)},percentY:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._dom.percentY(this,t,e,r)},position:function(t){return this._dom.position(this,t)},rect:function(t){return this._dom.rect(this,t)}}),Object.assign(n.prototype,{getScrollX:function(){return this._dom.getScrollX(this)},getScrollY:function(){return this._dom.getScrollY(this)},setScroll:function(t,e){return this._dom.setScroll(this,t,e),this},setScrollX:function(t){return this._dom.setScrollX(this,t),this},setScrollY:function(t){return this._dom.setScrollY(this,t),this}}),Object.assign(n.prototype,{height:function(t){return this._dom.height(this,t)},scrollHeight:function(){return this._dom.scrollHeight(this)},scrollWidth:function(){return this._dom.scrollWidth(this)},width:function(t){return this._dom.width(this,t)}}),Object.assign(n.prototype,{addClass:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=this._dom).addClass.apply(t,[this].concat(r)),this},css:function(t){return this._dom.css(this,t)},getStyle:function(t){return this._dom.getStyle(this,t)},hide:function(){return this._dom.hide(this),this},removeClass:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=this._dom).removeClass.apply(t,[this].concat(r)),this},setStyle:function(t,e,r){return this._dom.setStyle(this,t,e,r),this},show:function(){return this._dom.show(this),this},toggle:function(){return this._dom.toggle(this),this},toggleClass:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=this._dom).toggleClass.apply(t,[this].concat(r)),this}}),Object.assign(n.prototype,{blur:function(){return this._dom.blur(this),this},click:function(){return this._dom.click(this),this},focus:function(){return this._dom.focus(this),this}}),Object.assign(n.prototype,{addEvent:function(t,e){return this._dom.addEvent(this,t,e),this},addEventDelegate:function(t,e,r){return this._dom.addEventDelegate(this,t,e,r),this},addEventDelegateOnce:function(t,e,r){return this._dom.addEventDelegateOnce(this,t,e,r),this},addEventOnce:function(t,e){return this._dom.addEventOnce(this,t,e),this},cloneEvents:function(t){return this._dom.cloneEvents(this,t),this},removeEvent:function(t,e){return this._dom.removeEvent(this,t,e),this},removeEventDelegate:function(t,e,r){return this._dom.removeEventDelegate(this,t,e,r),this},triggerEvent:function(t,e){return this._dom.triggerEvent(this,t,e),this},triggerOne:function(t,e){return this._dom.triggerOne(this,t,e)}}),Object.assign(n.prototype,{attachShadow:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[],r=this._dom.attachShadow(this,t);return r&&e.push(r),new this.constructor(e,this._dom)}}),Object.assign(n.prototype,{clone:function(t){return new this.constructor(this._dom.clone(this,t))},detach:function(){return this._dom.detach(this),this},empty:function(){return this._dom.empty(this),this},remove:function(){return this._dom.remove(this),this.pushStack([])},replaceAll:function(t){return this._dom.replaceAll(this,t),this},replaceWith:function(t){return this._dom.replaceWith(this,t),this}}),Object.assign(n.prototype,{after:function(t){return this._dom.after(this,t),this},append:function(t){return this._dom.append(this,t),this},appendTo:function(t){return this._dom.appendTo(this,t),this},before:function(t){return this._dom.before(this,t),this},insertAfter:function(t){return this._dom.insertAfter(this,t),this},insertBefore:function(t){return this._dom.insertBefore(this,t),this},prepend:function(t){return this._dom.prepend(this,t),this},prependTo:function(t){return this._dom.prependTo(this,t),this}}),Object.assign(n.prototype,{unwrap:function(t){return this._dom.unwrap(this,t),this},wrap:function(t){return this._dom.wrap(this,t),this},wrapAll:function(t){return this._dom.wrapAll(this,t),this},wrapInner:function(t){return this._dom.wrapInner(this,t),this}}),Object.assign(n.prototype,{connected:function(){return this.pushStack(this._dom.connected(this))},equal:function(t){return this.pushStack(this._dom.equal(this,t))},filter:function(t){return this.pushStack(this._dom.filter(this,t))},filterOne:function(t){return this.pushNode(this._dom.filterOne(this,t))},fixed:function(){return this.pushStack(this._dom.fixed(this))},hidden:function(){return this.pushStack(this._dom.hidden(this))},not:function(t){return this.pushStack(this._dom.not(this,t))},notOne:function(t){return this.pushNode(this._dom.notOne(this,t))},same:function(t){return this.pushStack(this._dom.same(this,t))},visible:function(){return this.pushStack(this._dom.visible(this))},withAnimation:function(){return this.pushStack(this._dom.withAnimation(this))},withAttribute:function(t){return this.pushStack(this._dom.withAttribute(this,t))},withChildren:function(){return this.pushStack(this._dom.withChildren(this))},withClass:function(t){return this.pushStack(this._dom.withClass(this,t))},withCSSAnimation:function(){return this.pushStack(this._dom.withCSSAnimation(this))},withCSSTransition:function(){return this.pushStack(this._dom.withCSSTransition(this))},withData:function(t){return this.pushStack(this._dom.withData(this,t))},withDescendent:function(t){return this.pushStack(this._dom.withDescendent(this,t))},withProperty:function(t){return this.pushStack(this._dom.withProperty(this,t))}}),Object.assign(n.prototype,{find:function(t){return this.pushStack(this._dom.find(t,this))},findByClass:function(t){return this.pushStack(this._dom.findByClass(t,this))},findById:function(t){return this.pushStack(this._dom.findById(t,this))},findByTag:function(t){return this.pushStack(this._dom.findByTag(t,this))},findOne:function(t){return this.pushNode(this._dom.findOne(t,this))},findOneByClass:function(t){return this.pushNode(this._dom.findOneByClass(t,this))},findOneById:function(t){return this.pushNode(this._dom.findOneById(t,this))},findOneByTag:function(t){return this.pushNode(this._dom.findOneByTag(t,this))}}),Object.assign(n.prototype,{child:function(t){return this.pushStack(this._dom.child(this,t))},children:function(t){return this.pushStack(this._dom.children(this,t))},closest:function(t,e){return this.pushStack(this._dom.closest(this,t,e))},commonAncestor:function(){return this.pushNode(this._dom.commonAncestor(this))},contents:function(){return this.pushStack(this._dom.contents(this))},fragment:function(){return this.pushNode(this._dom.fragment(this))},next:function(t){return this.pushStack(this._dom.next(this,t))},nextAll:function(t,e){return this.pushStack(this._dom.nextAll(this,t,e))},offsetParent:function(){return this.pushNode(this._dom.offsetParent(this))},parent:function(t){return this.pushStack(this._dom.parent(this,t))},parents:function(t,e){return this.pushStack(this._dom.parents(this,t,e))},prev:function(t){return this.pushStack(this._dom.prev(this,t))},prevAll:function(t,e){return this.pushStack(this._dom.prevAll(this,t,e))},shadow:function(){return this.pushNode(this._dom.shadow(this))},siblings:function(t){return this.pushStack(this._dom.siblings(this,t))}}),Object.assign(n.prototype,{afterSelection:function(){return this._dom.afterSelection(this),this},beforeSelection:function(){return this._dom.beforeSelection(this),this},select:function(){return this._dom.select(this),this},selectAll:function(){return this._dom.selectAll(this),this},wrapSelection:function(){return this._dom.wrapSelection(this),this}}),Object.assign(n.prototype,{hasAnimation:function(){return this._dom.hasAnimation(this)},hasAttribute:function(t){return this._dom.hasAttribute(this,t)},hasChildren:function(){return this._dom.hasChildren(this)},hasClass:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=this._dom).hasClass.apply(t,[this].concat(r))},hasCSSAnimation:function(){return this._dom.hasCSSAnimation(this)},hasCSSTransition:function(){return this._dom.hasCSSTransition(this)},hasData:function(t){return this._dom.hasData(this,t)},hasDescendent:function(t){return this._dom.hasDescendent(this,t)},hasFragment:function(){return this._dom.hasFragment(this)},hasProperty:function(t){return this._dom.hasProperty(this,t)},hasShadow:function(){return this._dom.hasShadow(this)},is:function(t){return this._dom.is(this,t)},isConnected:function(){return this._dom.isConnected(this)},isEqual:function(t){return this._dom.isEqual(this,t)},isFixed:function(){return this._dom.isFixed(this)},isHidden:function(){return this._dom.isHidden(this)},isSame:function(t){return this._dom.isSame(this,t)},isVisible:function(){return this._dom.isVisible(this)}}),Object.assign(n.prototype,_defineProperty({add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Core.unique(Core.merge([],this._nodes,this._dom.query(t,e).get()));return this.pushStack(this._dom.sort(r))},each:function(t){return this._nodes.forEach((function(e,r){return t(e,r)})),this},eq:function(t){return this.pushNode(this.get(t))},first:function(){return this.eq(0)},forceShow:function(t){return this._dom.forceShow(this,t)},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this._nodes:t<0?this._nodes[t+this._nodes.length]:this._nodes[t]},index:function(){return this._dom.index(this)},indexOf:function(t){return this._dom.indexOf(this,t)},last:function(){return this.eq(-1)},map:function(t){return new this.constructor(this._nodes.map((function(e,r){return t(e,r)})))},normalize:function(){return this._dom.normalize(this),this},serialize:function(){return this._dom.serialize(this)},serializeArray:function(){return this._dom.serializeArray(this)},slice:function(t,e){return new this.constructor(this._nodes.slice(t,e))},sort:function(){return this.pushStack(this._dom.sort(this))},tagName:function(){return this._dom.tagName(this)}},Symbol.iterator,(function(){return this._nodes.values()}))),Object.assign(e.prototype,{query:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Core.isFunction(t))return this.ready(t);var i=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:e||this._context});return r?new n(i,this):new o(i,this)},queryMutable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.query(t,e,!0)},queryOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.parseNode(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:e||this._context}),s=[i].filter((function(t){return t}));return r?new n(s,this):new o(s,this)},queryOneMutable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.queryOne(t,e,!0)}}),{QuerySet:n,QuerySetImmutable:o}})),{AjaxRequest:t.AjaxRequest,Animation:t.Animation,AnimationSet:t.AnimationSet,Core:t.Core,DOM:t.DOM,dom:t.dom}}));