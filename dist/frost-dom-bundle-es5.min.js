"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t:t(void 0)}(0,(function(e){var t,r;return"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=null),t=this||e,r=function(e){var t={diff:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n=n.map(t.unique),e.filter((function(e){return!n.some((function(t){return t.includes(e)}))}))},intersect:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.unique(r.reduce((function(e,n,o){return n=t.unique(n),t.merge(e,n.filter((function(e){return r.every((function(t,r){return o==r||t.includes(e)}))})))}),[]))},merge:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return Array.prototype.push.apply(t,r),e}),e)},randomValue:function(e){return e.length?e[t.randomInt(e.length)]:null},range:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=Math.sign(r-e);return new Array(Math.abs(r-e)/n+1|0).fill().map((function(r,i){return e+t.toStep(i*n*o,n)}))},unique:function(e){return Array.from(new Set(e))},wrap:function(e){return t.isUndefined(e)?[]:t.isArray(e)?e:t.isArrayLike(e)?t.merge([],e):[e]},animation:function(r,n){var o,i,s,a=function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];i=a,s||(n&&r.apply(void 0,_toConsumableArray(i)),s=!0,o=t._requestAnimationFrame((function(e){n||r.apply(void 0,_toConsumableArray(i)),s=!1,o=null})))};return a.cancel=function(t){o&&("requestAnimationFrame"in e?e.cancelAnimationFrame(o):clearTimeout(o),s=!1,o=null)},a},compose:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},curry:function(e){return function t(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=e.length?e.apply(void 0,n):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,_toConsumableArray(n.concat(r)))}}},debounce:function(e,t,r){var n,o,i,s,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=function(){for(var c=Date.now(),u=o?o-c:null,l=arguments.length,f=new Array(l),h=0;h<l;h++)f[h]=arguments[h];if(r&&(null===u||u>=t))return o=c,void e.apply(void 0,f);i=f,!s&&a&&(s=!0,n=setTimeout((function(t){o=Date.now(),e.apply(void 0,_toConsumableArray(i)),s=!1,n=null}),u))};return c.cancel=function(e){n&&(clearTimeout(n),s=!1,n=null)},c},evaluate:function(e){return t.isFunction(e)?e():e},once:function(e){var t,r;return function(){return t?r:(t=!0,r=e.apply(void 0,arguments))}},partial:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply(void 0,_toConsumableArray(n.slice().map((function(e){return t.isUndefined(e)?o.shift():e})).concat(o)))}},pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},throttle:function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.debounce(e,r,n,o)},times:function(e,t){for(;t--&&!1!==e(););}};return t._requestAnimationFrame="requestAnimationFrame"in e?function(){return e.requestAnimationFrame.apply(e,arguments)}:function(e){return setTimeout(e,1e3/60)},t._splitString=function(e){return"".concat(e).split(/[^a-zA-Z0-9']|(?=[A-Z])/).reduce((function(e,t){return(t=t.replace(/[^\w]/,"").toLowerCase())&&e.push(t),e}),[])},t.clamp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(r,e))},t.clampPercent=function(e){return t.clamp(e,0,100)},t.dist=function(e,r,n,o){return t.len(e-n,r-o)},t.inverseLerp=function(e,t,r){return(r-e)/(t-e)},t.len=Math.hypot,t.lerp=function(e,t,r){return e*(1-r)+t*r},t.map=function(e,t,r,n,o){return(e-t)*(o-n)/(r-t)+n},t.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.isNull(r)?Math.random()*e:t.map(Math.random(),0,1,e,r)},t.randomInt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return 0|t.random(e,r)},t.toStep=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return parseFloat((Math.round(e/t)*t).toFixed("".concat(t).replace("d*.?/","").length))},t.extend=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((function(e,r){for(var n in r)t.isArray(r[n])?e[n]=t.extend(t.isArray(e[n])?e[n]:[],r[n]):t.isPlainObject(r[n])?e[n]=t.extend(t.isPlainObject(e[n])?e[n]:{},r[n]):e[n]=r[n];return e}),e)},t.forgetDot=function(e,r){for(var n=r.split(".");(r=n.shift())&&t.isObject(e)&&r in e;)n.length?e=e[r]:delete e[r]},t.getDot=function(e,r,n){for(var o=r.split(".");r=o.shift();){if(!t.isObject(e)||!(r in e))return n;e=e[r]}return e},t.hasDot=function(e,r){for(var n=r.split(".");r=n.shift();){if(!t.isObject(e)||!(r in e))return!1;e=e[r]}return!0},t.pluckDot=function(e,r,n){return e.map((function(e){return t.getDot(e,r,n)}))},t.setDot=function(e,r,n){for(var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=r.split(".");r=i.shift();){if("*"===r){for(var s in e)t.setDot(e,[s].concat(i).join("."),n,o);return}i.length?(t.isObject(e[r])&&r in e||(e[r]={}),e=e[r]):!o&&r in e||(e[r]=n)}},t.camelCase=function(e){return t._splitString(e).map((function(e,r){return r?t.capitalize(e):e})).join("")},t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},t.escape=function(e){return e.replace(t._escapeRegExp,(function(e){return t._escapeChars[e]}))},t.escapeRegExp=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},t.humanize=function(e){return t.capitalize(t._splitString(e).join(" "))},t.kebabCase=function(e){return t._splitString(e).join("-").toLowerCase()},t.pascalCase=function(e){return t._splitString(e).map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join("")},t.randomString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWYXZ0123456789";return new Array(e).fill().map((function(e){return r[0|t.random(r.length)]})).join("")},t.snakeCase=function(e){return t._splitString(e).join("_").toLowerCase()},t.unescape=function(e){return e.replace(t._unescapeRegExp,(function(e,r){return t._unescapeChars[r]}))},t.isArray=Array.isArray,t.isArrayLike=function(e){return t.isArray(e)||t.isObject(e)&&!t.isFunction(e)&&!t.isWindow(e)&&!t.isElement(e)&&(Symbol.iterator in e&&t.isFunction(e[Symbol.iterator])||"length"in e&&t.isNumeric(e.length)&&(!e.length||e.length-1 in e))},t.isBoolean=function(e){return e===!!e},t.isDocument=function(e){return!!e&&e.nodeType===t.DOCUMENT_NODE},t.isElement=function(e){return!!e&&e.nodeType===t.ELEMENT_NODE},t.isFragment=function(e){return!!e&&e.nodeType===t.DOCUMENT_FRAGMENT_NODE&&!e.host},t.isFunction=function(e){return"function"==typeof e},t.isNaN=Number.isNaN,t.isNode=function(e){return!!e&&(e.nodeType===t.ELEMENT_NODE||e.nodeType===t.TEXT_NODE||e.nodeType===t.COMMENT_NODE)},t.isNull=function(e){return null===e},t.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.isPlainObject=function(e){return!!e&&e.constructor===Object},t.isObject=function(e){return!!e&&e===Object(e)},t.isShadow=function(e){return!!e&&e.nodeType===t.DOCUMENT_FRAGMENT_NODE&&!!e.host},t.isString=function(e){return e==="".concat(e)},t.isUndefined=function(e){return void 0===e},t.isWindow=function(e){return!!e&&!!e.document&&e.document.defaultView===e},t.ELEMENT_NODE=1,t.TEXT_NODE=3,t.COMMENT_NODE=8,t.DOCUMENT_NODE=9,t.DOCUMENT_FRAGMENT_NODE=11,t._escapeRegExp=/[&<>"']/g,t._unescapeRegExp=/\&(amp|lt|gt|quot|apos);/g,t._escapeChars={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},t._unescapeChars={amp:"&",lt:"<",gt:">",quot:'"',apos:"'"},t},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=r(t):t.Core=r(t),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t:Object.assign(e,t(e))}(this||e,(function(e){if(!e)throw new Error("FrostDOM requires a Window.");if(!("Core"in e))throw new Error("FrostDOM requires FrostCore.");var t=e.Core,r=e.document,n=function(){function r(n){var o=this;_classCallCheck(this,r),this._options=t.extend({},this.constructor.defaults,n),this._options.url||(this._options.url=e.location.href),this._options.cache||(this._options.url=this.constructor.appendQueryString(this._options.url,"_",Date.now())),!("Content-Type"in this._options.headers)&&this._options.contentType&&(this._options.headers["Content-Type"]=this._options.contentType),null===this._options.isLocal&&(this._options.isLocal=this.constructor._localRegExp.test(location.protocol)),this._options.isLocal||"X-Requested-With"in this._options.headers||(this._options.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this.promise=new Promise((function(e,t){o._resolve=function(t){o._isResolved=!0,e(t)},o._reject=function(e){o._isRejected=!0,t(e)}})),this._build(),this._events(),this._send()}return _createClass(r,[{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request was cancelled";this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._options.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:e}))}},{key:"catch",value:function(e){return this.promise.catch(e)}},{key:"finally",value:function(e){return this.promise.finally(e)}},{key:"then",value:function(e,t){return this.promise.then(e,t)}}]),r}(),o=function(){function e(){_classCallCheck(this,e),this.data={headers:{}},this.status=200,this.timeout=0,this.upload={},this._response="Test"}return _createClass(e,[{key:"abort",value:function(){clearTimeout(this._uploadTimer),clearTimeout(this._progressTimer),clearTimeout(this._completeTimer)}},{key:"open",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.data.method=e,this.data.url=t,this.data.async=r,this.data.username=n,this.data.password=o}},{key:"overrideMimeType",value:function(e){this.data.mimeType=e}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.data.body=t,this.responseType&&(this.data.responseType=this.responseType),this.timeout&&(this.data.timeout=this.timeout),this.upload&&this.upload.onprogress&&(this._uploadTimer=setTimeout((function(t){e._uploadTimer=null;var r=new Event("progress");r.loaded=5e3,r.total=1e4,e.upload.onprogress(r)}),10)),this.onprogress&&(this._progressTimer=setTimeout((function(t){e._progressTimer=null;var r=new Event("progress");r.loaded=500,r.total=1e3,e.onprogress(r)}),10)),this._completeTimer=setTimeout((function(t){if(e._completeTimer=null,e.forceError){if(e.onerror){var r=new Event("error");e.onerror(r)}}else if(e.data.status=e.status,e.response=e._response,e.onload){var n=new Event("load");e.onload(n)}}),20)}},{key:"setRequestHeader",value:function(e,t){this.data.headers[e]=t}}]),e}();Object.assign(n.prototype,{_build:function(){for(var e in this._xhr=this.constructor.useMock?new o:new XMLHttpRequest,this._xhr.open(this._options.method,this._options.url,!0,this._options.username,this._options.password),this._options.headers)this._xhr.setRequestHeader(e,this._options.headers[e]);this._options.responseType&&(this._xhr.responseType=this._options.responseType),this._options.mimeType&&this._xhr.overrideMimeType(this._options.mimeType),this._options.timeout&&(this._xhr.timeout=this._options.timeout)},_events:function(){var e=this;this._xhr.onload=function(t){e._xhr.status>400?e._reject({status:e._xhr.status,xhr:e._xhr,event:t}):e._resolve({response:e._xhr.response,xhr:e._xhr,event:t})},this._isLocal||(this._xhr.onerror=function(t){return e._reject({status:e._xhr.status,xhr:e._xhr,event:t})}),this._options.onProgress&&(this._xhr.onprogress=function(t){return e._options.onProgress(t.loaded/t.total,e._xhr,t)}),this._options.onUploadProgress&&(this._xhr.upload.onprogress=function(t){return e._options.onUploadProgress(t.loaded/t.total,e._xhr,t)})},_send:function(){this._options.beforeSend&&this._options.beforeSend(this._xhr),this._options.data&&this._options.processData&&t.isObject(this._options.data)&&("application/json"===this._options.contentType?this._options.data=JSON.stringify(this._options.data):"application/x-www-form-urlencoded"===this._options.contentType?this._options.data=this.constructor._parseParams(this._options.data):this._options.data=this.constructor._parseFormData(this._options.data)),this._xhr.send(this._options.data),this._options.afterSend&&this._options.afterSend(this._xhr)}}),Object.assign(n,{appendQueryString:function(t,r,n){var o=(e.location.origin+e.location.pathname).replace(/\/$/,""),i=new URL(t,o);i.searchParams.append(r,n);var s=i.toString();if(s.substring(0,t.length)===t)return s;var a=s.indexOf(t);return s.substring(a)},_parseFormData:function(e){var t,r=this._parseValues(e),n=new FormData,o=_createForOfIteratorHelper(r);try{for(o.s();!(t=o.n()).done;){var i=_slicedToArray(t.value,2),s=i[0],a=i[1];"[]"===s.substring(s.length-2)?n.append(s,a):n.set(s,a)}}catch(e){o.e(e)}finally{o.f()}return n},_parseParams:function(e){var t=this._parseValues(e).map((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");return encodeURI(t)},_parseValue:function(e,r){if(t.isArray(r)){"[]"!==e.substring(e.length-2)&&(e+="[]");var n,o=[],i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.push.apply(o,_toConsumableArray(this._parseValue(e,s)))}}catch(e){i.e(e)}finally{i.f()}return o}if(t.isObject(r)){var a=[];for(var c in r)a.push.apply(a,_toConsumableArray(this._parseValue("".concat(e,"[").concat(c,"]"),r[c])));return a}return[[e,r]]},_parseValues:function(e){if(t.isArray(e)){var r,n=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push.apply(n,_toConsumableArray(this._parseValue(i.name,i.value)))}}catch(e){o.e(e)}finally{o.f()}return n}if(t.isObject(e)){var s=[];for(var a in e)s.push.apply(s,_toConsumableArray(this._parseValue(a,e[a])));return s}return e}}),Object.assign(n,{defaults:{afterSend:null,beforeSend:null,cache:!0,contentType:"application/x-www-form-urlencoded",data:null,headers:{},isLocal:null,method:"GET",onProgress:null,onUploadProgress:null,processData:!0,rejectOnCancel:!0,responseType:null,url:null},useMock:!1,_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(n.prototype,Promise.prototype);var i=function(){function e(t,r,n){var o=this;_classCallCheck(this,e),this._node=t,this._callback=r,this._options=_objectSpread(_objectSpread({},this.constructor.defaults),n),"start"in this._options||(this._options.start=performance.now()),this._options.debug&&(this._node.dataset.animationStart=this._options.start),this.promise=new Promise((function(e,t){o._resolve=e,o._reject=t})),this.constructor._animations.has(t)?this.constructor._animations.get(t).push(this):this.constructor._animations.set(t,[this])}return _createClass(e,[{key:"catch",value:function(e){return this.promise.catch(e)}},{key:"finally",value:function(e){return this.promise.finally(e)}},{key:"stop",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.constructor._animations.get(this._node).filter((function(t){return t!==e}));r.length?this.constructor._animations.set(this._node,r):this.constructor._animations.delete(this._node),this.update(!0,t)}},{key:"then",value:function(e,t){return this.promise.then(e,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&!r)return this._reject(this._node),!0;var n,o=performance.now();return r?n=1:(n=(o-this._options.start)/this._options.duration,this._options.infinite?n%=1:n=t.clamp(n),"ease-in"===this._options.type?n=Math.pow(n,2):"ease-out"===this._options.type?n=Math.sqrt(n):"ease-in-out"===this._options.type&&(n=n<=.5?2*Math.pow(n,2):1-2*Math.pow(1-n,2))),this._options.debug&&(this._node.dataset.animationNow=o,this._node.dataset.animationProgress=n),this._callback(this._node,n,this._options),n<1?void 0:(this._options.debug&&(delete this._node.dataset.animationStart,delete this._node.dataset.animationNow,delete this._node.dataset.animationProgress),this._resolve(this._node),!0)}}]),e}(),s=function(){function e(t){_classCallCheck(this,e),this._animations=t,this.promise=Promise.all(t)}return _createClass(e,[{key:"catch",value:function(e){return this.promise.catch(e)}},{key:"finally",value:function(e){return this.promise.finally(e)}},{key:"stop",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=_createForOfIteratorHelper(this._animations);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.stop(t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"then",value:function(e,t){return this.promise.then(e,t)}}]),e}();Object.assign(i,{clone:function(e,t){if(this._animations.has(e)){var r=this._animations.get(e).map((function(e){return new i(t,e._callback,e._options)}));this._animations.set(t,r)}},start:function(){this._animating||(this._animating=!0,this.update())},stop:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._animations.has(e)){var r,n=this._animations.get(e),o=_createForOfIteratorHelper(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.update(!0,t)}}catch(e){o.e(e)}finally{o.f()}this._animations.delete(e)}},update:function(){var t,r=this,n=_createForOfIteratorHelper(this._animations);try{for(n.s();!(t=n.n()).done;){var o=_slicedToArray(t.value,2),i=o[0],s=o[1];(s=s.filter((function(e){return!e.update()}))).length?this._animations.set(i,s):this._animations.delete(i)}}catch(e){n.e(e)}finally{n.f()}this._animations.size?this.useTimeout?setTimeout((function(e){return r.update()}),1e3/60):e.requestAnimationFrame((function(e){return r.update()})):this._animating=!1}}),Object.assign(i,{defaults:{duration:1e3,type:"ease-in-out",infinite:!1,debug:!1},useTimeout:!1,_animating:!1,_animations:new Map}),Object.setPrototypeOf(i.prototype,Promise.prototype),Object.setPrototypeOf(s.prototype,Promise.prototype);var a=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(_classCallCheck(this,e),!t.isDocument(n))throw new Error("Invalid document");this._context=n};return Object.assign(a.prototype,{animate:function(e,t,r){var n=(e=this.parseNodes(e)).map((function(e){return new i(e,t,r)}));return i.start(),new s(n)},stop:function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(n.s();!(t=n.n()).done;){var o=t.value;i.stop(o,r)}}catch(e){n.e(e)}finally{n.f()}}}),Object.assign(a.prototype,{dropIn:function(e,t){return this.slideIn(e,_objectSpread({direction:"top"},t))},dropOut:function(e,t){return this.slideOut(e,_objectSpread({direction:"top"},t))},fadeIn:function(e,t){return this.animate(e,(function(e,t){return e.style.setProperty("opacity",t<1?t.toFixed(2):"")}),t)},fadeOut:function(e,t){return this.animate(e,(function(e,t){return e.style.setProperty("opacity",t<1?(1-t).toFixed(2):"")}),t)},rotateIn:function(e,t){return this.animate(e,(function(e,t,r){var n=((90-90*t)*(r.inverse?-1:1)).toFixed(2);e.style.setProperty("transform",t<1?"rotate3d(".concat(r.x,", ").concat(r.y,", ").concat(r.z,", ").concat(n,"deg)"):"")}),_objectSpread({x:0,y:1,z:0},t))},rotateOut:function(e,t){return this.animate(e,(function(e,t,r){var n=(90*t*(r.inverse?-1:1)).toFixed(2);e.style.setProperty("transform",t<1?"rotate3d(".concat(r.x,", ").concat(r.y,", ").concat(r.z,", ").concat(n,"deg)"):"")}),_objectSpread({x:0,y:1,z:0},t))},slideIn:function(e,r){var n=this;return this.animate(e,(function(e,r,o){if(1===r)return e.style.setProperty("overflow",""),void(o.useGpu?e.style.setProperty("transform",""):(e.style.setProperty("margin-left",""),e.style.setProperty("margin-top","")));var i,s,a,c=t.evaluate(o.direction);["top","bottom"].includes(c)?(i=o.useGpu?"Y":"margin-top",s=n.constructor._height(e),a="top"===c):(i=o.useGpu?"X":"margin-left",s=n.constructor._width(e),a="left"===c);var u=((s-s*r)*(a?-1:1)).toFixed(2);o.useGpu?e.style.setProperty("transform","translate".concat(i,"(").concat(u,"px)")):e.style.setProperty(i,"".concat(u,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},r))},slideOut:function(e,r){var n=this;return this.animate(e,(function(e,r,o){if(1===r)return e.style.setProperty("overflow",""),void(o.useGpu?e.style.setProperty("transform",""):(e.style.setProperty("margin-left",""),e.style.setProperty("margin-top","")));var i,s,a,c=t.evaluate(o.direction);["top","bottom"].includes(c)?(i=o.useGpu?"Y":"margin-top",s=n.constructor._height(e),a="top"===c):(i=o.useGpu?"X":"margin-left",s=n.constructor._width(e),a="left"===c);var u=(s*r*(a?-1:1)).toFixed(2);o.useGpu?e.style.setProperty("transform","translate".concat(i,"(").concat(u,"px)")):e.style.setProperty(i,"".concat(u,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},r))},squeezeIn:function(e,r){e=this.parseNodes(e),r=_objectSpread({direction:"bottom",useGpu:!0},r);var n=e.map((function(e){var n=e.style.height,o=e.style.width;return e.style.setProperty("overflow","hidden"),new i(e,(function(e,r,i){if(e.style.setProperty("height",n),e.style.setProperty("width",o),1===r)return e.style.setProperty("overflow",""),void(i.useGpu?e.style.setProperty("transform",""):(e.style.setProperty("margin-left",""),e.style.setProperty("margin-top","")));var s,c,u=t.evaluate(i.direction);["top","bottom"].includes(u)?(s="height","top"===u&&(c=i.useGpu?"Y":"margin-top")):(s="width","left"===u&&(c=i.useGpu?"X":"margin-left"));var l=a["_".concat(s)](e),f=(l*r).toFixed(2);if(e.style.setProperty(s,"".concat(f,"px")),c){var h=(l-f).toFixed(2);i.useGpu?e.style.setProperty("transform","translate".concat(c,"(").concat(h,"px)")):e.style.setProperty(c,"".concat(h,"px"))}}),r)}));return i.start(),new s(n)},squeezeOut:function(e,r){e=this.parseNodes(e),r=_objectSpread({direction:"bottom",useGpu:!0},r);var n=e.map((function(e){var n=e.style.height,o=e.style.width;return e.style.setProperty("overflow","hidden"),new i(e,(function(e,r,i){if(e.style.setProperty("height",n),e.style.setProperty("width",o),1===r)return e.style.setProperty("overflow",""),void(i.useGpu?e.style.setProperty("transform",""):(e.style.setProperty("margin-left",""),e.style.setProperty("margin-top","")));var s,c,u=t.evaluate(i.direction);["top","bottom"].includes(u)?(s="height","top"===u&&(c=i.useGpu?"Y":"margin-top")):(s="width","left"===u&&(c=i.useGpu?"X":"margin-left"));var l=a["_".concat(s)](e),f=(l-l*r).toFixed(2);if(e.style.setProperty(s,"".concat(f,"px")),c){var h=(l-f).toFixed(2);i.useGpu?e.style.setProperty("transform","translate".concat(c,"(").concat(h,"px)")):e.style.setProperty(c,"".concat(h,"px"))}}),r)}));return i.start(),new s(n)}}),Object.assign(a.prototype,{clearQueue:function(e){var t,r=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(r.s();!(t=r.n()).done;){var n=t.value;this.constructor._clearQueue(n)}}catch(e){r.e(e)}finally{r.f()}},queue:function(e,t){var r,n=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._queue(o,t)}}catch(e){n.e(e)}finally{n.f()}}}),Object.assign(a.prototype,{getAttribute:function(e,t){var r=this.parseNode(e);if(r)return t?r.getAttribute(t):this.constructor._getAttributes(r,t)},getDataset:function(e,r){var n=this.parseNode(e);if(n){if(r)return r=t.camelCase(r),this.constructor._parseDataset(n.dataset[r]);var o={};for(var i in n.dataset)o[i]=this.constructor._parseDataset(n.dataset[i]);return o}},getHTML:function(e){return this.getProperty(e,"innerHTML")},getProperty:function(e,t){var r=this.parseNode(e);if(r)return r[t]},getText:function(e){return this.getProperty(e,"innerText")},getValue:function(e){return this.getProperty(e,"value")},removeAttribute:function(e,t){var r,n=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(n.s();!(r=n.n()).done;){r.value.removeAttribute(t)}}catch(e){n.e(e)}finally{n.f()}},removeDataset:function(e,r){var n,o=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(o.s();!(n=o.n()).done;){var i=n.value;r=t.camelCase(r),delete i.dataset[r]}}catch(e){o.e(e)}finally{o.f()}},removeProperty:function(e,t){var r,n=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(n.s();!(r=n.n()).done;){delete r.value[t]}}catch(e){n.e(e)}finally{n.f()}},setAttribute:function(e,t,r){e=this.parseNodes(e);var n,o=this.constructor._parseData(t,r),i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setAttributes(s,o)}}catch(e){i.e(e)}finally{i.f()}},setDataset:function(e,t,r){e=this.parseNodes(e);var n,o=this.constructor._parseData(t,r,!0),i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setDataset(s,o)}}catch(e){i.e(e)}finally{i.f()}},setHTML:function(e,t){this.empty(e),this.setProperty(e,"innerHTML",t)},setProperty:function(e,t,r){e=this.parseNodes(e);var n,o=this.constructor._parseData(t,r),i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;for(var a in o)s[a]=o[a]}}catch(e){i.e(e)}finally{i.f()}},setText:function(e,t){this.empty(e),this.setProperty(e,"innerText",t)},setValue:function(e,t){this.setProperty(e,"value",t)}}),Object.assign(a.prototype,{cloneData:function(e,t){e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0}),t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o,i=r.value,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._cloneData(i,a)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){n.e(e)}finally{n.f()}},getData:function(e,t){var r=this.parseNode(e,{fragment:!0,shadow:!0,document:!0,window:!0});if(r)return this.constructor._getData(r,t)},removeData:function(e,t){var r,n=_createForOfIteratorHelper(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0}));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._removeData(o,t)}}catch(e){n.e(e)}finally{n.f()}},setData:function(e,t,r){e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});var n,o=this.constructor._parseData(t,r),i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setData(s,o)}}catch(e){i.e(e)}finally{i.f()}}}),Object.assign(a.prototype,{center:function(e,t){var r=this.rect(e,t);if(r)return{x:r.left+r.width/2,y:r.top+r.height/2}},constrain:function(e,t){var r=this.rect(t);if(r){var n,o=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(o.s();!(n=o.n()).done;){var i=n.value,s=this.constructor._rect(i),a={};s.height>r.height&&(a.height=r.height),s.width>r.width&&(a.width=r.width);var c=void 0;if(s.left-r.left<0?c=s.left-r.left:s.right-r.right>0&&(c=s.right-r.right),c){var u=this.constructor._css(i,"left"),l=u&&"auto"!==u?parseFloat(u):0;a.left="".concat(l-c,"px")}var f=void 0;if(s.top-r.top<0?f=s.top-r.top:s.bottom-r.bottom>0&&(f=s.bottom-r.bottom),f){var h=this.constructor._css(i,"top"),d=h&&"auto"!==h?parseFloat(h):0;a.top="".concat(d-f,"px")}"static"===this.constructor._css(i,"position")&&(a.position="relative"),this.constructor._setStyles(i,a)}}catch(e){o.e(e)}finally{o.f()}}},distTo:function(e,r,n,o){var i=this.center(e,o);if(i)return t.dist(i.x,i.y,r,n)},distToNode:function(e,t){var r=this.center(t);if(r)return this.distTo(e,r.x,r.y)},nearestTo:function(e,t,r,n){var o,i,s=Number.MAX_VALUE,a=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(a.s();!(i=a.n()).done;){var c=i.value,u=this.distTo(c,t,r,n);u&&u<s&&(s=u,o=c)}}catch(e){a.e(e)}finally{a.f()}return o},nearestToNode:function(e,t){var r=this.center(t);if(r)return this.nearestTo(e,r.x,r.y)},percentX:function(e,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.rect(e,n);if(i){var s=(r-i.left)/i.width*100;return o?t.clampPercent(s):s}},percentY:function(e,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.rect(e,n);if(i){var s=(r-i.top)/i.height*100;return o?t.clampPercent(s):s}},position:function(e,t){var r=this.parseNode(e);if(r)return this.constructor._forceShow(r,(function(e){var r={x:e.offsetLeft,y:e.offsetTop};if(t)for(var n=e;n=n.offsetParent;)r.x+=n.offsetLeft,r.y+=n.offsetTop;return r}))},rect:function(e,t){var r=this.parseNode(e);if(r)return this.constructor._rect(r,t)}}),Object.assign(a.prototype,{getScrollX:function(e){var r=this.parseNode(e,{document:!0,window:!0});if(r)return t.isWindow(r)?r.scrollX:t.isDocument(r)?r.scrollingElement.scrollLeft:r.scrollLeft},getScrollY:function(e){var r=this.parseNode(e,{document:!0,window:!0});if(r)return t.isWindow(r)?r.scrollY:t.isDocument(r)?r.scrollingElement.scrollTop:r.scrollTop},setScroll:function(e,r,n){var o,i=_createForOfIteratorHelper(e=this.parseNodes(e,{document:!0,window:!0}));try{for(i.s();!(o=i.n()).done;){var s=o.value;t.isWindow(s)?s.scroll(r,n):t.isDocument(s)?(s.scrollingElement.scrollLeft=r,s.scrollingElement.scrollTop=n):(s.scrollLeft=r,s.scrollTop=n)}}catch(e){i.e(e)}finally{i.f()}},setScrollX:function(e,r){var n,o=_createForOfIteratorHelper(e=this.parseNodes(e,{document:!0,window:!0}));try{for(o.s();!(n=o.n()).done;){var i=n.value;t.isWindow(i)?i.scroll(r,i.scrollY):t.isDocument(i)?i.scrollingElement.scrollLeft=r:i.scrollLeft=r}}catch(e){o.e(e)}finally{o.f()}},setScrollY:function(e,r){var n,o=_createForOfIteratorHelper(e=this.parseNodes(e,{document:!0,window:!0}));try{for(o.s();!(n=o.n()).done;){var i=n.value;t.isWindow(i)?i.scroll(i.scrollX,r):t.isDocument(i)?i.scrollingElement.scrollTop=r:i.scrollTop=r}}catch(e){o.e(e)}finally{o.f()}}}),Object.assign(a.prototype,{height:function(e,r){var n=this.parseNode(e,{document:!0,window:!0});if(n)return t.isWindow(n)?r?n.outerHeight:n.innerHeight:(t.isUndefined(r)&&(r=1),this.constructor._height(n,r))},scrollHeight:function(e){var r=this.parseNode(e,{document:!0});if(r)return this.constructor._forceShow(r,(function(e){return t.isDocument(e)&&(e=e.documentElement),e.scrollHeight}))},scrollWidth:function(e){var r=this.parseNode(e,{document:!0});if(r)return this.constructor._forceShow(r,(function(e){return t.isDocument(e)&&(e=e.documentElement),e.scrollWidth}))},width:function(e,r){var n=this.parseNode(e,{document:!0,window:!0});if(n)return t.isWindow(n)?r?n.outerWidth:n.innerWidth:(t.isUndefined(r)&&(r=1),this.constructor._width(n,r))}}),Object.assign(a.prototype,{addClass:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e=this.parseNodes(e),(r=this.constructor._parseClasses(r)).length){var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s,a=o.value;(s=a.classList).add.apply(s,_toConsumableArray(r))}}catch(e){i.e(e)}finally{i.f()}}},css:function(e,t){var r=this.parseNode(e);if(r)return this.constructor._css(r,t)},getStyle:function(e,r){var n=this.parseNode(e);if(n){if(r)return r=t.kebabCase(r),n.style[r];var o,i={},s=_createForOfIteratorHelper(n.style);try{for(s.s();!(o=s.n()).done;){var a=o.value;i[a]=n.style[a]}}catch(e){s.e(e)}finally{s.f()}return i}},hide:function(e){this.setStyle(e,"display","none")},removeClass:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e=this.parseNodes(e),(r=this.constructor._parseClasses(r)).length){var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s,a=o.value;(s=a.classList).remove.apply(s,_toConsumableArray(r))}}catch(e){i.e(e)}finally{i.f()}}},setStyle:function(e,t,r,n){e=this.parseNodes(e);var o,i=this.constructor._parseData(t,r),s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._setStyles(a,i,n)}}catch(e){s.e(e)}finally{s.f()}},show:function(e){this.setStyle(e,"display","")},toggle:function(e){var t,r=_createForOfIteratorHelper(e=this.parseNodes(e));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.style.setProperty("display","none"===n.style.display?"":"none")}}catch(e){r.e(e)}finally{r.f()}},toggleClass:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e=this.parseNodes(e),(r=this.constructor._parseClasses(r)).length){var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s,a=o.value,c=_createForOfIteratorHelper(r);try{for(c.s();!(s=c.n()).done;){var u=s.value;a.classList.toggle(u)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){i.e(e)}finally{i.f()}}}}),Object.assign(a.prototype,{getCookie:function(e){var t=this._context.cookie.split(";").find((function(t){return t.trimStart().substring(0,e.length)===e})).trimStart();return t?decodeURIComponent(t.substring(e.length+1)):null},removeCookie:function(e,t){if(e){var r="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:00 UTC");t&&(t.path&&(r+=";path=".concat(t.path)),t.secure&&(r+=";secure")),this._context.cookie=r}},setCookie:function(e,t,r){if(e){var n="".concat(e,"=").concat(t);if(r){if(r.expires){var o=new Date;o.setTime(o.getTime()+1e3*r.expires),n+=";expires=".concat(o.toUTCString())}r.path&&(n+=";path=".concat(r.path)),r.secure&&(n+=";secure")}this._context.cookie=n}}}),Object.assign(a.prototype,{mouseDragFactory:function(r,n,o){var i=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n&&s&&(n=t.animation(n),o&&(o=t.animation(o))),function(t){if(r&&!1===r(t))return!1;n&&i.addEvent(e,"mousemove",n),(n||o)&&i.addEventOnce(e,"mouseup",(function(t){n&&i.removeEvent(e,"mousemove",n),o&&o(t)}))}}}),Object.assign(a.prototype,{blur:function(e){var t=this.parseNode(e);t&&t.blur()},click:function(e){var t=this.parseNode(e);t&&t.click()},focus:function(e){var t=this.parseNode(e);t&&t.focus()},ready:function(t){"complete"!==this._context.readyState?e.addEventListener("DOMContentLoaded",t,{once:!0}):t()}}),Object.assign(a.prototype,{addEvent:function(e,t,r,n,o){var i,s=_createForOfIteratorHelper(e=this.parseNodes(e,{shadow:!0,document:!0,window:!n}));try{for(s.s();!(i=s.n()).done;){var a,c=i.value,u=_createForOfIteratorHelper(this.constructor._parseEvents(t));try{for(u.s();!(a=u.n()).done;){var l=a.value;this.constructor._addEvent(c,l,r,n,o)}}catch(e){u.e(e)}finally{u.f()}}}catch(e){s.e(e)}finally{s.f()}},addEventDelegate:function(e,t,r,n){this.addEvent(e,t,n,r)},addEventDelegateOnce:function(e,t,r,n){this.addEvent(e,t,n,r,!0)},addEventOnce:function(e,t,r){this.addEvent(e,t,r,null,!0)},cloneEvents:function(e,t){e=this.parseNodes(e,{shadow:!0,document:!0,window:!0}),t=this.parseNodes(t,{shadow:!0,document:!0,window:!0});var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o,i=r.value,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._cloneEvents(i,a)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){n.e(e)}finally{n.f()}},removeEvent:function(e,t,r,n){e=this.parseNodes(e,{shadow:!0,document:!0,window:!n}),t=!!t&&this.constructor._parseEvents(t);var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(this.constructor._events.has(s))if(t){var a,c=_createForOfIteratorHelper(t);try{for(c.s();!(a=c.n()).done;){var u=a.value;this.constructor._removeEvent(s,u,r,n)}}catch(e){c.e(e)}finally{c.f()}}else this.constructor._removeEvent(s,t,r,n)}}catch(e){i.e(e)}finally{i.f()}},removeEventDelegate:function(e,t,r,n){this.removeEvent(e,t,n,r)},triggerEvent:function(e,t,r){e=this.parseNodes(e,{shadow:!0,document:!0,window:!0}),t=this.constructor._parseEvents(t);var n,o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var i,s=n.value,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var c=i.value;this.constructor._triggerEvent(s,c,r)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}},triggerOne:function(e,t,r){var n=this.parseNode(e,{shadow:!0,document:!0,window:!0});return this.constructor._triggerEvent(n,t,r)}}),Object.assign(a.prototype,{attachShadow:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.parseNode(e);if(r)return r.attachShadow({mode:t?"open":"closed"})},create:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1?arguments[1]:void 0,o=this._context.createElement(r);if(!n)return o;("html"in n?o.innerHTML=n.html:"text"in n&&(o.innerText=n.text),"class"in n)&&(e=o.classList).add.apply(e,_toConsumableArray(this.constructor._parseClasses(t.wrap(n.class))));if("style"in n&&this.constructor._setStyles(o,n.style),"value"in n&&(o.value=n.value),"attributes"in n&&this.constructor._setAttributes(o,n.attributes),"properties"in n)for(var i in n.properties)o[i]=n.properties[i];if("dataset"in n){var s=this.constructor._parseData(n.dataset,null,!0);this.constructor._setDataset(o,s)}return o},createComment:function(e){return this._context.createComment(e)},createFragment:function(){return this._context.createDocumentFragment()},createRange:function(){return this._context.createRange()},createText:function(e){return this._context.createTextNode(e)},parseHTML:function(e){return t.wrap(this.createRange().createContextualFragment(e).children)}}),Object.assign(a.prototype,{clone:function(e,t){var r=this;return t=_objectSpread({deep:!0},t),(e=this.parseNodes(e,{node:!0,fragment:!0})).map((function(e){return r.constructor._clone(e,t)}))},detach:function(e){var t,r=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.parentNode;o&&o.removeChild(n)}}catch(e){r.e(e)}finally{r.f()}return e},empty:function(e){var t,r=_createForOfIteratorHelper(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}));try{for(r.s();!(t=r.n()).done;){var n=t.value;this.constructor._empty(n)}}catch(e){r.e(e)}finally{r.f()}},remove:function(e){var t,r=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.parentNode;o&&(this.constructor._remove(n),o.removeChild(n))}}catch(e){r.e(e)}finally{r.f()}},replaceAll:function(e,t){this.replaceWith(t,e)},replaceWith:function(e,r){e=this.parseNodes(e,{node:!0}),r=this.parseNodes(r,{node:!0,fragment:!0,html:!0});var n,o=this.createFragment(),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.insertBefore(s,null)}}catch(e){i.e(e)}finally{i.f()}r=t.wrap(o.childNodes);var a,c=(e=e.filter((function(t){return!r.includes(t)&&!e.some((function(e){return!e.isSameNode(t)&&e.contains(t)}))})))[e.length-1],u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var l=a.value,f=l.parentNode;if(f){var h,d=_createForOfIteratorHelper(r);try{for(d.s();!(h=d.n()).done;){var p=h.value;f.insertBefore(l.isSameNode(c)?p:this.constructor._clone(p,{deep:!0,events:!0,data:!0,animations:!0}),l)}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){u.e(e)}finally{u.f()}var v,m=_createForOfIteratorHelper(e);try{for(m.s();!(v=m.n()).done;){var y=v.value,_=y.parentNode;_&&(this.constructor._remove(y),_.removeChild(y))}}catch(e){m.e(e)}finally{m.f()}}}),Object.assign(a.prototype,{after:function(e,t){e=this.parseNodes(e,{node:!0}),t=this.parseNodes(t,{node:!0,fragment:!0,html:!0}).reverse();var r,n=e[e.length-1],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.parentNode;if(s){var a,c=_createForOfIteratorHelper(t);try{for(c.s();!(a=c.n()).done;){var u=a.value;s.insertBefore(i.isSameNode(n)?u:this.constructor._clone(u,{deep:!0,events:!0,data:!0,animations:!0}),i.nextSibling)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){o.e(e)}finally{o.f()}},append:function(e,t){e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}),t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var r,n=e[e.length-1],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var i,s=r.value,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var c=i.value;s.insertBefore(s.isSameNode(n)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),null)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}},appendTo:function(e,t){this.append(t,e)},before:function(e,t){e=this.parseNodes(e,{node:!0}),t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var r,n=e[e.length-1],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.parentNode;if(s){var a,c=_createForOfIteratorHelper(t);try{for(c.s();!(a=c.n()).done;){var u=a.value;s.insertBefore(i.isSameNode(n)?u:this.constructor._clone(u,{deep:!0,events:!0,data:!0,animations:!0}),i)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){o.e(e)}finally{o.f()}},insertAfter:function(e,t){this.after(t,e)},insertBefore:function(e,t){this.before(t,e)},prepend:function(e,t){e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}),t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var r,n=e[e.length-1],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var i,s=r.value,a=s.firstChild,c=_createForOfIteratorHelper(t);try{for(c.s();!(i=c.n()).done;){var u=i.value;s.insertBefore(s.isSameNode(n)?u:this.constructor._clone(u,{deep:!0,events:!0,data:!0,animations:!0}),a)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}},prependTo:function(e,t){this.prepend(t,e)}}),Object.assign(a.prototype,{unwrap:function(e,r){e=this.parseNodes(e,{node:!0}),r=this.parseFilter(r);var n,o=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var s=n.value.parentNode;s&&(o.includes(s)||r&&!r(s)||o.push(s))}}catch(e){i.e(e)}finally{i.f()}for(var a=0,c=o;a<c.length;a++){var u=c[a],l=u.parentNode;if(l){var f,h=_createForOfIteratorHelper(t.wrap(u.childNodes));try{for(h.s();!(f=h.n()).done;){var d=f.value;l.insertBefore(d,u)}}catch(e){h.e(e)}finally{h.f()}this.constructor._remove(u),l.removeChild(u)}}},wrap:function(e,r){var n=this;e=this.parseNodes(e,{node:!0}),r=this.parseNodes(r,{fragment:!0,html:!0});var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s=o.value,a=s.parentNode;if(a){var c,u=r.map((function(e){return n.constructor._clone(e,{deep:!0,events:!0,data:!0,animations:!0})})),l=u.slice().shift(),f=this.constructor._deepest(t.isFragment(l)?l.firstChild:l),h=_createForOfIteratorHelper(u);try{for(h.s();!(c=h.n()).done;){var d=c.value;a.insertBefore(d,s)}}catch(e){h.e(e)}finally{h.f()}f.insertBefore(s,null)}}}catch(e){i.e(e)}finally{i.f()}},wrapAll:function(e,r){e=this.parseNodes(e,{node:!0}),r=this.parseNodes(r,{fragment:!0,html:!0});var n=this.clone(r,{events:!0,data:!0,animations:!0}),o=e[0];if(o){var i=o.parentNode;if(i){var s,a=n[0],c=this.constructor._deepest(t.isFragment(a)?a.firstChild:a),u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var l=s.value;i.insertBefore(l,o)}}catch(e){u.e(e)}finally{u.f()}var f,h=_createForOfIteratorHelper(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;c.insertBefore(d,null)}}catch(e){h.e(e)}finally{h.f()}}}},wrapInner:function(e,r){var n=this;e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),r=this.parseNodes(r,{fragment:!0,html:!0});var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var s,a=o.value,c=t.wrap(a.childNodes),u=r.map((function(e){return n.constructor._clone(e,{deep:!0,events:!0,data:!0,animatinos:!0})})),l=u.slice().shift(),f=this.constructor._deepest(t.isFragment(l)?l.firstChild:l),h=_createForOfIteratorHelper(u);try{for(h.s();!(s=h.n()).done;){var d=s.value;a.insertBefore(d,null)}}catch(e){h.e(e)}finally{h.f()}var p,v=_createForOfIteratorHelper(c);try{for(v.s();!(p=v.n()).done;){var m=p.value;f.insertBefore(m,null)}}catch(e){v.e(e)}finally{v.f()}}}catch(e){i.e(e)}finally{i.f()}}}),Object.assign(a.prototype,{loadScript:function(e,t){var r=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t=_objectSpread({src:e,type:"text/javascript"},t),o||(t.src=n.appendQueryString(t.src,"_",Date.now())),new Promise((function(e,n){var o=r.create("script",{attributes:t});o.onload=function(t){return e()},o.onerror=function(e){return n()},r._context.head.appendChild(o)}))},loadScripts:function(e){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(e.map((function(e){return t.isString(e)?r.loadScript(e,null,n):r.loadScript(null,e,n)})))}}),Object.assign(a.prototype,{loadStyle:function(e,t){var r=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t=_objectSpread({href:e,rel:"stylesheet"},t),o||(t.href=n.appendQueryString(t.href,"_",Date.now())),new Promise((function(e,n){var o=r.create("link",{attributes:t});o.onload=function(t){return e()},o.onerror=function(e){return n()},r._context.head.appendChild(o)}))},loadStyles:function(e){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(e.map((function(e){return t.isString(e)?r.loadStyle(e,null,n):r.loadStyle(null,e,n)})))}}),Object.assign(a.prototype,{connected:function(e){return this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).filter((function(e){return e.isConnected}))},equal:function(e,t){return t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).filter((function(e){return t.some((function(t){return e.isEqualNode(t)}))}))},filter:function(e,t){return t=this.parseFilter(t),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).filter((function(e,r){return!t||t(e,r)}))},filterOne:function(e,t){return t=this.parseFilter(t),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).find((function(e,r){return!t||t(e,r)}))||null},fixed:function(e){var r=this;return this.parseNodes(e,{node:!0}).filter((function(e){return t.isElement(e)&&"fixed"===r.constructor._css(e,"position")||r.constructor._parents(e,(function(e){return t.isElement(e)&&"fixed"===r.constructor._css(e,"position")}),!1,!0).length}))},hidden:function(e){var t=this;return this.parseNodes(e,{node:!0,document:!0,window:!0}).filter((function(e){return!t.constructor._isVisible(e)}))},not:function(e,t){return t=this.parseFilter(t),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).filter((function(e,r){return t&&!t(e,r)}))},notOne:function(e,t){return t=this.parseFilter(t),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).find((function(e,r){return t&&!t(e,r)}))||null},same:function(e,t){return t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).filter((function(e){return t.some((function(t){return e.isSameNode(t)}))}))},visible:function(e){var t=this;return this.parseNodes(e,{node:!0,document:!0,window:!0}).filter((function(e){return t.constructor._isVisible(e)}))},withAnimation:function(e){return this.parseNodes(e).filter((function(e){return i._animations.has(e)}))},withAttribute:function(e,t){return this.parseNodes(e).filter((function(e){return e.hasAttribute(t)}))},withChildren:function(e){return this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}).filter((function(e){return!!e.childElementCount}))},withClass:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r=this.constructor._parseClasses(r),this.parseNodes(e).filter((function(e){return r.some((function(t){return e.classList.contains(t)}))}))},withCSSAnimation:function(e){var t=this;return this.parseNodes(e).filter((function(e){return t.constructor._hasCSSAnimation(e)}))},withCSSTransition:function(e){var t=this;return this.parseNodes(e).filter((function(e){return t.constructor._hasCSSTransition(e)}))},withData:function(e,t){var r=this;return this.parseNodes(e,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter((function(e){return r.constructor._hasData(e,t)}))},withDescendent:function(e,t){return t=this.parseFilterContains(t),this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}).filter((function(e,r){return!t||t(e,r)}))},withProperty:function(e,t){return this.parseNodes(e).filter((function(e){return e.hasOwnProperty(t)}))}}),Object.assign(a.prototype,{find:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=e.match(this.constructor._fastRegExp);return n?"#"===n[1]?this.findById(n[2],r):"."===n[1]?this.findByClass(n[2],r):this.findByTag(n[2],r):(e.match(this.constructor._complexRegExp)&&(e=this.constructor._prefixSelectors(e,":scope ")),t.isDocument(r)||t.isElement(r)||t.isFragment(r)||t.isShadow(r)?t.wrap(r.querySelectorAll(e)):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(e,r)))},findByClass:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(t.isDocument(r)||t.isElement(r))return t.wrap(r.getElementsByClassName(e));if(t.isFragment(r)||t.isShadow(r))return t.wrap(r.querySelectorAll(".".concat(e)));var n,o=[],i=_createForOfIteratorHelper(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;t.merge(o,t.isFragment(s)||t.isShadow(s)?s.querySelectorAll(".".concat(e)):s.getElementsByClassName(e))}}catch(e){i.e(e)}finally{i.f()}return r.length>1&&o.length>1?t.unique(o):o},findById:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return t.isDocument(r)||t.isElement(r)||t.isFragment(r)||t.isShadow(r)?t.wrap(r.querySelectorAll("#".concat(e))):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector("#".concat(e),r))},findByTag:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(t.isDocument(r)||t.isElement(r))return t.wrap(r.getElementsByTagName(e));if(t.isFragment(r)||t.isShadow(r))return t.wrap(r.querySelectorAll(e));var n,o=[],i=_createForOfIteratorHelper(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;t.merge(o,t.isFragment(s)||t.isShadow(s)?s.querySelectorAll(e):s.getElementsByTagName(e))}}catch(e){i.e(e)}finally{i.f()}return r.length>1&&o.length>1?t.unique(o):o},findOne:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=e.match(this.constructor._fastRegExp);return n?"#"===n[1]?this.findOneById(n[2],r):"."===n[1]?this.findOneByClass(n[2],r):this.findOneByTag(n[2],r):(e.match(this.constructor._complexRegExp)&&(e=this.constructor._prefixSelectors(e,":scope ")),t.isDocument(r)||t.isElement(r)||t.isFragment(r)||t.isShadow(r)?r.querySelector(e):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(e,r):void 0)},findOneByClass:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(t.isDocument(r)||t.isElement(r))return r.getElementsByClassName(e).item(0);if(t.isFragment(r)||t.isShadow(r))return r.querySelector(".".concat(e));if((r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length){var n,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=t.isFragment(i)||t.isShadow(i)?i.querySelector(".".concat(e)):i.getElementsByClassName(e).item(0);if(s)return s}}catch(e){o.e(e)}finally{o.f()}return null}},findOneById:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return t.isDocument(r)?r.getElementById(e):t.isElement(r)||t.isFragment(r)||t.isShadow(r)?r.querySelector("#".concat(e)):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector("#".concat(e),r):void 0},findOneByTag:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(t.isDocument(r)||t.isElement(r))return r.getElementsByTagName(e).item(0);if(t.isFragment(r)||t.isShadow(r))return r.querySelector(e);if((r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length){var n,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=t.isFragment(i)||t.isShadow(i)?i.querySelector(e):i.getElementsByTagName(e).item(0);if(s)return s}}catch(e){o.e(e)}finally{o.f()}return null}}}),Object.assign(a.prototype,{child:function(e,t){return this.children(e,t,!0)},children:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r=this.parseFilter(r),t.isElement(e)||t.isDocument(e)||t.isFragment(e)||t.isShadow(e))return this.constructor._children(e,r,n,o);var i,s=[],a=_createForOfIteratorHelper(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;t.merge(s,this.constructor._children(c,r,n,o))}}catch(e){a.e(e)}finally{a.f()}return e.length>1&&s.length>1?t.unique(s):s},closest:function(e,t,r){return this.parents(e,t,r,!0)},commonAncestor:function(e){if((e=this.sort(e)).length&&!e.some((function(e){return!e.parentNode}))){var t=this.createRange();return 1===e.length?t.selectNode(e.shift()):(t.setStartBefore(e.shift()),t.setEndAfter(e.pop())),t.commonAncestorContainer}},contents:function(e){return this.children(e,!1,!1,!1)},fragment:function(e){var t=this.parseNode(e);if(t)return t.content},next:function(e,r){if(r=this.parseFilter(r),t.isNode(e))return this.constructor._next(e,r);var n,o=[],i=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;t.merge(o,this.constructor._next(s,r))}}catch(e){i.e(e)}finally{i.f()}return e.length>1&&o.length>1?t.unique(o):o},nextAll:function(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),t.isNode(e))return this.constructor._nextAll(e,r,n,o);var i,s=[],a=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;t.merge(s,this.constructor._nextAll(c,r,n,o))}}catch(e){a.e(e)}finally{a.f()}return e.length>1&&s.length>1?t.unique(s):s},offsetParent:function(e){return this.forceShow(e,(function(e){return e.offsetParent}))},parent:function(e,r){if(r=this.parseFilter(r),t.isNode(e))return this.constructor._parent(e,r);var n,o=[],i=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;t.merge(o,this.constructor._parent(s,r))}}catch(e){i.e(e)}finally{i.f()}return e.length>1&&o.length>1?t.unique(o):o},parents:function(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),t.isNode(e))return this.constructor._parents(e,r,n,o);var i,s=[],a=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;t.merge(s,this.constructor._parents(c,r,n,o))}}catch(e){a.e(e)}finally{a.f()}return e.length>1&&s.length>1?t.unique(s):s},prev:function(e,r){if(r=this.parseFilter(r),t.isNode(e))return this.constructor._prev(e,r);var n,o=[],i=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;t.merge(o,this.constructor._prev(s,r))}}catch(e){i.e(e)}finally{i.f()}return e.length>1&&o.length>1?t.unique(o):o},prevAll:function(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),t.isNode(e))return this.constructor._prevAll(e,r,n,o);var i,s=[],a=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;t.merge(s,this.constructor._prevAll(c,r,n,o))}}catch(e){a.e(e)}finally{a.f()}return e.length>1&&s.length>1?t.unique(s):s},shadow:function(e){var t=this.parseNode(e);if(t)return t.shadowRoot},siblings:function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=this.parseFilter(r),t.isNode(e))return this.constructor._siblings(e,r,n);var o,i=[],s=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0}));try{for(s.s();!(o=s.n()).done;){var a=o.value;t.merge(i,this.constructor._siblings(a,r,n))}}catch(e){s.e(e)}finally{s.f()}return e.length>1&&i.length>1?t.unique(i):i}}),Object.assign(a.prototype,{parseFilter:function(e){return!!e&&(t.isFunction(e)?e:t.isString(e)?function(r){return t.isElement(r)&&r.matches(e)}:t.isNode(e)||t.isFragment(e)||t.isShadow(e)?function(t){return t.isSameNode(e)}:!!(e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0})).length&&function(t){return e.includes(t)})},parseFilterContains:function(e){var r=this;return!!e&&(t.isFunction(e)?function(r){return t.wrap(r.querySelectorAll("*")).some(e)}:t.isString(e)?function(t){return!!r.findOne(e,t)}:t.isNode(e)||t.isFragment(e)||t.isShadow(e)?function(t){return t.contains(e)}:!!(e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0})).length&&function(t){return e.some((function(e){return t.contains(e)}))})},parseNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.parseNodesFactory(t);return this.parseNodesDeep(e,t.context||this._context,r,t.html,!0)},parseNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.parseNodesFactory(t);return this.parseNodesDeep(e,t.context||this._context,r,t.html)},parseNodesDeep:function(r,n,o){var i=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!r)return a?null:[];if(t.isString(r)){if(s&&"<"===r.trim().charAt(0))return this.parseHTML(r);if(!a)return this.find(r,n);var c=this.findOne(r,n);return c||null}if(o(r))return a?r:[r];if("QuerySet"in e&&r instanceof QuerySet){if(!a)return r.get().filter(o);var u=r.get(0);return u&&o(u)?u:null}if(r instanceof HTMLCollection)return a?r.length?r.item(0):null:t.wrap(r);if(t.isArray(r)){var l=this.constructor.parseNodesFactory({node:!0,fragment:!0,shadow:!0,document:!0,window:!0});r=r.flatMap((function(e){return i.parseNodesDeep(e,n,l,s)}))}else r=t.wrap(r);if(r.length&&(r=t.unique(r)),!a)return r.filter(o);var f=r.shift();return f&&o(f)?f:null}}),Object.assign(a.prototype,{afterSelection:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,html:!0}).reverse();var r=e.getSelection();if(r.rangeCount){var n=r.getRangeAt(0);r.removeAllRanges(),n.collapse();var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.insertNode(s)}}catch(e){i.e(e)}finally{i.f()}}},beforeSelection:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,html:!0}).reverse();var r=e.getSelection();if(r.rangeCount){var n=r.getRangeAt(0);r.removeAllRanges();var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.insertNode(s)}}catch(e){i.e(e)}finally{i.f()}}},extractSelection:function(){var r=e.getSelection();if(!r.rangeCount)return[];var n=r.getRangeAt(0);r.removeAllRanges();var o=n.extractContents();return t.wrap(o.childNodes)},getSelection:function(){var r=e.getSelection();if(!r.rangeCount)return[];var n=r.getRangeAt(0),o=t.wrap(n.commonAncestorContainer.querySelectorAll("*"));if(!o.length)return[n.commonAncestorContainer];if(1===o.length)return o;var i,s,a=n.startContainer,c=n.endContainer,u=t.isElement(a)?a:a.parentNode,l=t.isElement(c)?c:c.parentNode,f=[],h=_createForOfIteratorHelper(o.slice(o.indexOf(u),o.indexOf(l)+1));try{for(h.s();!(s=h.n()).done;){var d=s.value;i&&i.contains(d)||(i=d,f.push(d))}}catch(e){h.e(e)}finally{h.f()}return f},select:function(t){var r=this.parseNode(t,{node:!0});if(r&&"select"in r)return r.select();var n=e.getSelection();if(n.rangeCount>0&&n.removeAllRanges(),r){var o=this.createRange();o.selectNode(r),n.addRange(o)}},selectAll:function(t){t=this.sort(t);var r=e.getSelection();if(r.rangeCount&&r.removeAllRanges(),t.length){var n=this.createRange();1==t.length?n.selectNode(t.shift()):(n.setStartBefore(t.shift()),n.setEndAfter(t.pop())),r.addRange(n)}},wrapSelection:function(r){r=this.parseNodes(r,{fragment:!0,html:!0});var n=e.getSelection();if(n.rangeCount){var o=n.getRangeAt(0);n.removeAllRanges();var i,s=o.extractContents(),a=this.constructor._deepest(r.slice().shift()),c=_createForOfIteratorHelper(t.wrap(s.childNodes));try{for(c.s();!(i=c.n()).done;){var u=i.value;a.insertBefore(u,null)}}catch(e){c.e(e)}finally{c.f()}var l,f=_createForOfIteratorHelper(r);try{for(f.s();!(l=f.n()).done;){var h=l.value;o.insertNode(h)}}catch(e){f.e(e)}finally{f.f()}}}}),Object.assign(a.prototype,{hasAnimation:function(e){return this.parseNodes(e).some((function(e){return i._animations.has(e)}))},hasAttribute:function(e,t){return this.parseNodes(e).some((function(e){return e.hasAttribute(t)}))},hasChildren:function(e){return this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}).some((function(e){return!!e.childElementCount}))},hasClass:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r=this.constructor._parseClasses(r),this.parseNodes(e).some((function(e){return r.some((function(t){return e.classList.contains(t)}))}))},hasCSSAnimation:function(e){var t=this;return this.parseNodes(e).some((function(e){return t.constructor._hasCSSAnimation(e)}))},hasCSSTransition:function(e){var t=this;return this.parseNodes(e).some((function(e){return t.constructor._hasCSSTransition(e)}))},hasData:function(e,t){var r=this;return this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0}).some((function(e){return r.constructor._hasData(e,t)}))},hasDescendent:function(e,t){return t=this.parseFilterContains(t),this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}).some((function(e){return!t||t(e)}))},hasFragment:function(e){return this.parseNodes(e).some((function(e){return!!e.content}))},hasProperty:function(e,t){return this.parseNodes(e).some((function(e){return e.hasOwnProperty(t)}))},hasShadow:function(e){return this.parseNodes(e).some((function(e){return!!e.shadowRoot}))},is:function(e,t){return t=this.parseFilter(t),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).some((function(e){return!t||t(e)}))},isConnected:function(e){return this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).some((function(e){return e.isConnected}))},isEqual:function(e,t){return t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).some((function(e){return t.some((function(t){return e.isEqualNode(t)}))}))},isFixed:function(e){var r=this;return this.parseNodes(e,{node:!0}).some((function(e){return t.isElement(e)&&"fixed"===r.constructor._css(e,"position")||r.constructor._parents(e,(function(e){return t.isElement(e)&&"fixed"===r.constructor._css(e,"position")}),!1,!0).length}))},isHidden:function(e){var t=this;return this.parseNodes(e,{node:!0,document:!0,window:!0}).some((function(e){return!t.constructor._isVisible(e)}))},isSame:function(e,t){return t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).some((function(e){return t.some((function(t){return e.isSameNode(t)}))}))},isVisible:function(e){var t=this;return this.parseNodes(e,{node:!0,document:!0,window:!0}).some((function(e){return t.constructor._isVisible(e)}))}}),Object.assign(a.prototype,{exec:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(e,!1,t)},forceShow:function(e,t){var r=this.parseNode(e,{node:!0});if(r)return this.constructor._forceShow(r,t)},index:function(e){var r=this.parseNode(e,{node:!0});if(r)return t.wrap(r.parentNode.children).indexOf(r)},indexOf:function(e,t){return t=this.parseFilter(t),this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}).findIndex((function(e){return!t||t(e)}))},normalize:function(e){var t,r=_createForOfIteratorHelper(e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0,document:!0}));try{for(r.s();!(t=r.n()).done;){t.value.normalize()}}catch(e){r.e(e)}finally{r.f()}},sanitize:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.allowedTags,n=this.create("template",{html:e}),o=n.content,i=this.constructor._children(o,null,!1,!0),s=_createForOfIteratorHelper(i);try{for(s.s();!(t=s.n()).done;){var c=t.value;this.constructor._sanitize(c,o,r)}}catch(e){s.e(e)}finally{s.f()}return this.getHTML(n)},serialize:function(e){return n._parseParams(this.serializeArray(e))},serializeArray:function(e){var r=this;return this.parseNodes(e,{fragment:!0,shadow:!0}).reduce((function(e,n){if(t.isElement(n)&&n.matches("form")||t.isFragment(n)||t.isShadow(n))return e.concat(r.serializeArray(n.querySelectorAll("input, select, textarea")));if(t.isElement(n)&&n.matches("[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return e;var o=n.getAttribute("name");if(!o)return e;if(t.isElement(n)&&n.matches("select[multiple]")){var i,s=_createForOfIteratorHelper(n.selectedOptions);try{for(s.s();!(i=s.n()).done;){var a=i.value;e.push({name:o,value:a.value||""})}}catch(e){s.e(e)}finally{s.f()}}else e.push({name:o,value:n.value||""});return e}),[])},sort:function(e){return(e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0})).sort((function(e,r){if(t.isWindow(e))return 1;if(t.isWindow(r))return-1;if(t.isDocument(e))return 1;if(t.isDocument(r))return-1;if(t.isFragment(r))return 1;if(t.isFragment(e))return-1;if(t.isShadow(e)&&(e=e.host),t.isShadow(r)&&(r=r.host),e.isSameNode(r))return 0;var n=e.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}))},tagName:function(e){var t=this.parseNode(e);if(t)return t.tagName.toLowerCase()}}),Object.assign(a,{ajax:function(e){return new n(e)},delete:function(e,t){return new n(_objectSpread({url:e,method:"DELETE"},t))},get:function(e,t,r){return new n(_objectSpread({url:e,data:t},r))},patch:function(e,t,r){return new n(_objectSpread({url:e,data:t,method:"PATCH"},r))},post:function(e,t,r){return new n(_objectSpread({url:e,data:t,method:"POST"},r))},put:function(e,t,r){return new n(_objectSpread({url:e,data:t,method:"PUT"},r))}}),Object.assign(a,{_clearQueue:function(e){this._queues.has(e)&&this._queues.delete(e)},_dequeueNode:function(e){var t=this;if(this._queues.has(e)){var r=this._queues.get(e).shift();r?Promise.resolve(r(e)).then((function(r){return t._dequeueNode(e)})).catch((function(r){return t._clearQueue(e)})):this._queues.delete(e)}},_queue:function(e,t){var r=!this._queues.has(e);r&&this._queues.set(e,[function(e){return new Promise((function(e){return setTimeout(e,0)}))}]),this._queues.get(e).push(t),r&&this._dequeueNode(e)}}),Object.assign(a,{_getAttributes:function(e){var t,r={},n=_createForOfIteratorHelper(e.attributes);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.nodeName]=o.nodeValue}}catch(e){n.e(e)}finally{n.f()}return r},_setAttributes:function(e,t){for(var r in t)e.setAttribute(r,t[r])},_setDataset:function(e,r){for(var n in r){var o=t.camelCase(n);e.dataset[o]=r[n]}}}),Object.assign(a,{_cloneData:function(e,t){this._data.has(e)&&this._setData(t,_objectSpread({},this._data.get(e)))},_getData:function(e,t){if(this._data.has(e))return t?this._data.get(e)[t]:this._data.get(e)},_removeData:function(e,t){if(this._data.has(e)){if(t){var r=this._data.get(e);if(delete r[t],Object.keys(r).length)return}this._data.delete(e)}},_setData:function(e,t){this._data.has(e)||this._data.set(e,{}),Object.assign(this._data.get(e),t)}}),Object.assign(a,{_rect:function(t,r){return this._forceShow(t,(function(t){var n=t.getBoundingClientRect();return r&&(n.x+=e.scrollX,n.y+=e.scrollY),n}))}}),Object.assign(a,{_height:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(e,(function(e){t.isDocument(e)&&(e=e.documentElement);var o=e.clientHeight;return n===r.INNER&&(o-=parseInt(r._css(e,"padding-top"))+parseInt(r._css(e,"padding-bottom"))),n>=r.OUTER&&(o+=parseInt(r._css(e,"border-top-width"))+parseInt(r._css(e,"border-bottom-width"))),n===r.OUTER_MARGIN&&(o+=parseInt(r._css(e,"margin-top"))+parseInt(r._css(e,"margin-bottom"))),o}))},_width:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(e,(function(e){t.isDocument(e)&&(e=e.documentElement);var o=e.clientWidth;return n===r.INNER&&(o-=parseInt(r._css(e,"padding-left"))+parseInt(r._css(e,"padding-right"))),n>=r.OUTER&&(o+=parseInt(r._css(e,"border-left-width"))+parseInt(r._css(e,"border-right-width"))),n===r.OUTER_MARGIN&&(o+=parseInt(r._css(e,"margin-left"))+parseInt(r._css(e,"margin-right"))),o}))}}),Object.assign(a,{_css:function(r,n){return this._styles.has(r)||this._styles.set(r,e.getComputedStyle(r)),n?(n=t.kebabCase(n),this._styles.get(r).getPropertyValue(n)):_objectSpread({},this._styles.get(r))},_setStyles:function(e,r,n){for(var o in r){var i=r[o];o=t.kebabCase(o),i&&t.isNumeric(i)&&!this.cssNumberProperties.includes(o)&&(i+="px"),e.style.setProperty(o,i,n?"important":"")}}}),Object.assign(a,{_delegateFactory:function(e,r,n){var o=r.match(this._complexRegExp)?this._getDelegateContainsFactory(e,r):this._getDelegateMatchFactory(e,r);return function(r){if(!e.isSameNode(r.target)){var i=o(r.target);if(i){var s={},a=function(e){s[e]=t.isFunction(r[e])?function(){return r[e].apply(r,arguments)}:r[e]};for(var c in r)a(c);return s.currentTarget=i,s.delegateTarget=e,s.originalEvent=r,Object.freeze(s),n(s)}}}},_getDelegateContainsFactory:function(e,r){var n=this;return r=this._prefixSelectors(r,":scope "),function(o){var i=t.wrap(e.querySelectorAll(r));return!!i.length&&(i.includes(o)?o:n._parents(o,(function(e){return i.includes(e)}),(function(t){return t.isSameNode(e)}),!0).shift())}},_getDelegateMatchFactory:function(e,t){var r=this;return function(n){return n.matches(t)?n:r._parents(n,(function(e){return e.matches(t)}),(function(t){return t.isSameNode(e)}),!0).shift()}},_namespaceFactory:function(e,t){return function(r){if(!("namespaceRegExp"in r)||r.namespaceRegExp.test(e))return t(r)}},_preventFactory:function(e){return function(t){!1===e(t)&&t.preventDefault()}},_selfDestructFactory:function(e,t,r,n){var o=this;return function(i){return o._removeEvent(e,t,n,r),n(i)}}}),Object.assign(a,{_addEvent:function(e,t,r,n,o){this._events.has(e)||this._events.set(e,{});var i=this._events.get(e),s={delegate:n,callback:r,selfDestruct:o},a=this._parseEvent(t),c=r;o&&(c=this._selfDestructFactory(e,t,n,c)),c=this._preventFactory(c),n&&(c=this._delegateFactory(e,n,c)),c=this._namespaceFactory(t,c),s.realCallback=c,s.event=t,s.realEvent=a,i[a]||(i[a]=[]),i[a].push(s),e.addEventListener(a,c)},_cloneEvents:function(e,t){if(this._events.has(e)){var r=this._events.get(e);for(var n in r){var o,i=_createForOfIteratorHelper(r[n]);try{for(i.s();!(o=i.n()).done;){var s=o.value;this._addEvent(t,s.event,s.callback,s.delegate,s.selfDestruct)}}catch(e){i.e(e)}finally{i.f()}}}},_removeEvent:function(e,t,r,n){var o=this;if(this._events.has(e)){var i=this._events.get(e);if(t){var s=this._parseEvent(t);i[s]&&(i[s]=i[s].filter((function(i){if(n&&n!==i.delegate||r&&r!==i.callback)return!0;if(s!==t){var a=o._eventNamespacedRegExp(t);if(!i.event.match(a))return!0}return e.removeEventListener(i.realEvent,i.realCallback),!1})),i[s].length||delete i[s],Object.keys(i).length||this._events.delete(e))}else for(var a=0,c=Object.keys(i);a<c.length;a++){var u=c[a];this._removeEvent(e,u,r,n)}}},_triggerEvent:function(e,t,r){var n=this._parseEvent(t),o=new CustomEvent(n,_objectSpread({bubbles:!0,cancelable:!0},r));return n!==t&&(o.namespace=t.substring(n.length+1),o.namespaceRegExp=this._eventNamespacedRegExp(t)),e.dispatchEvent(o)}}),Object.assign(a,{_eventNamespacedRegExp:function(e){return new RegExp("^".concat(t.escapeRegExp(e),"(?:\\.|$)"),"i")},_parseClasses:function(e){return e.flat().flatMap((function(e){return e.split(" ")}))},_parseData:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.isObject(e)?e:_defineProperty({},e,r),i={};for(var s in o){var a=o[s];i[s]=n&&(t.isObject(a)||t.isArray(a))?JSON.stringify(a):a}return i},_parseDataset:function(e){if(t.isUndefined(e))return e;var r=e.toLowerCase().trim();if(["true","on"].includes(r))return!0;if(["false","off"].includes(r))return!1;if("null"===r)return null;if(t.isNumeric(r))return parseFloat(r);if(["{","["].includes(r.charAt(0)))try{return JSON.parse(e)}catch(e){}return e},_parseEvent:function(e){return e.split(".").shift()},_parseEvents:function(e){return e.split(" ")},_prefixSelectors:function(e,t){var r=this;return e.split(this._splitRegExp).filter((function(e){return!!e})).map((function(e){return r._customSelectors.includes(e.trim().charAt(0))?"".concat(t," ").concat(e):e})).join(", ")}}),Object.assign(a,{_clone:function(e,t){var r=e.cloneNode(t.deep);return t.events&&this._cloneEvents(e,r),t.data&&this._cloneData(e,r),t.animations&&i.clone(e,r),t.deep&&this._deepClone(e,r,t),r},_deepClone:function(e,t,r){for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes.item(n),s=t.childNodes.item(n);r.events&&this._cloneEvents(o,s),r.data&&this._cloneData(o,s),r.animations&&i.clone(o,s),this._deepClone(o,s,r)}},_empty:function(e){var r,n=_createForOfIteratorHelper(t.wrap(e.childNodes));try{for(n.s();!(r=n.n()).done;){var o=r.value;this._remove(o),e.removeChild(o)}}catch(e){n.e(e)}finally{n.f()}e.shadowRoot&&this._remove(e.shadowRoot),e.content&&this._remove(e.content)},_remove:function(e){var r=new Event("remove");e.dispatchEvent(r),this._empty(e),t.isElement(e)&&(this._clearQueue(e),i.stop(e),this._styles.has(e)&&this._styles.delete(e)),this._removeEvent(e),this._removeData(e)}}),Object.assign(a,{parseHTML:function(e){return(new DOMParser).parseFromString(e,"text/html")},parseXML:function(e){return(new DOMParser).parseFromString(e,"application/xml")}}),Object.assign(a,{_findBySelector:function(e,r){var n,o=[],i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.merge(o,s.querySelectorAll(e))}}catch(e){i.e(e)}finally{i.f()}return r.length>1&&o.length>1?t.unique(o):o},_findOneBySelector:function(e,t){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o=r.value.querySelector(e);if(o)return o}}catch(e){n.e(e)}finally{n.f()}return null}}),Object.assign(a,{_children:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=i?e.children:e.childNodes,a=[],c=_createForOfIteratorHelper(s);try{for(c.s();!(n=c.n()).done&&(r=n.value,t&&!t(r)||(a.push(r),!o)););}catch(e){c.e(e)}finally{c.f()}return a},_deepest:function(e){return t.wrap(e.querySelectorAll("*")).find((function(e){return!e.childElementCount}))||e},_next:function(e,t){var r=[];return(e=e.nextSibling)?(t&&!t(e)||r.push(e),r):r},_nextAll:function(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(e=e.nextSibling)&&(!r||!r(e))&&(t&&!t(e)||(o.push(e),!n)););return o},_parent:function(e,t){var r=[],n=e.parentNode;return n?(t&&!t(n)||r.push(n),r):r},_parents:function(e,r,n){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];(e=e.parentNode)&&!t.isDocument(e)&&(!n||!n(e))&&(r&&!r(e)||(i.unshift(e),!o)););return i},_prev:function(e,t){var r=[];return(e=e.previousSibling)?(t&&!t(e)||r.push(e),r):r},_prevAll:function(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(e=e.previousSibling)&&(!r||!r(e))&&(t&&!t(e)||(o.unshift(e),!n)););return o},_siblings:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],o=e.parentNode;if(!o)return n;var i,s,a=r?o.children:o.childNodes,c=_createForOfIteratorHelper(a);try{for(c.s();!(s=c.n()).done;)i=s.value,e.isSameNode(i)||t&&!t(i)||n.push(i)}catch(e){c.e(e)}finally{c.f()}return n}}),Object.assign(a,{parseNodesFactory:function(e){return e?function(r){return(e.node?t.isNode(r):t.isElement(r))||e.fragment&&t.isFragment(r)||e.shadow&&t.isShadow(r)||e.document&&t.isDocument(r)||e.window&&t.isWindow(r)}:t.isElement}}),Object.assign(a,{_hasCSSAnimation:function(e){return!!parseFloat(this._css(e,"animation-duration"))},_hasCSSTransition:function(e){return!!parseFloat(this._css(e,"transition-duration"))},_hasData:function(e,t){return this._data.has(e)&&(!t||this._data.get(e).hasOwnProperty(t))},_isVisible:function(e){return t.isWindow(e)?"visible"===e.document.visibilityState:t.isDocument(e)?"visible"===e.visibilityState:!!e.offsetParent}}),Object.assign(a,{_forceShow:function(e,r){var n=this;if(this._isVisible(e))return r(e);var o=[];t.isElement(e)&&"none"===this._css(e,"display")&&o.push(e),t.merge(o,this._parents(e,(function(e){return t.isElement(e)&&"none"===n._css(e,"display")})));for(var i=new Map,s=0,a=o;s<a.length;s++){var c=a[s];i.set(c,c.getAttribute("style")),c.style.setProperty("display","initial","important")}var u,l=r(e),f=_createForOfIteratorHelper(i);try{for(f.s();!(u=f.n()).done;){var h=_slicedToArray(u.value,2),d=h[0],p=h[1];p?d.setAttribute("style",p):(d.getAttribute("style"),d.removeAttribute("style"))}}catch(e){f.e(e)}finally{f.f()}return l},_sanitize:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.allowedTags,n=e.tagName.toLowerCase();if(n in r){var o=[];"*"in r&&r["*"].length&&o.push.apply(o,_toConsumableArray(r["*"])),r[n].length&&o.push.apply(o,_toConsumableArray(r[n]));var i=this._getAttributes(e),s=function(t){!!o.find((function(e){return t.match(e)}))||e.removeAttribute(t)};for(var a in i)s(a);var c,u=this._children(e,null,!1,!0),l=_createForOfIteratorHelper(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;this._sanitize(f,e,r)}}catch(e){l.e(e)}finally{l.f()}}else t.removeChild(e)}}),Object.assign(a,{_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cssNumberProperties:["font-weight","line-height","opacity","orphans","widows","z-index"],INNER:0,OUTER:2,OUTER_MARGIN:3,_complexRegExp:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,_customSelectors:[">","+","~"],_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_splitRegExp:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/}),{AjaxRequest:n,Animation:i,AnimationSet:s,DOM:a,dom:new a}})),{AjaxRequest:e.AjaxRequest,Animation:e.Animation,AnimationSet:e.AnimationSet,Core:e.Core,DOM:e.DOM,dom:e.dom}}));