"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(void 0,e(void 0))}(0,function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");if(!t.Core.isWindow(t))throw new Error("FrostDOM requires a valid Window object.");var e=t.Core,n=t.document,r=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;_classCallCheck(this,t),this._context=e,this._animating=!1,this._animations=new Map,this._queues=new WeakMap,this._data=new WeakMap,this._events=new WeakMap,this._styles=new WeakMap};return Object.assign(r.prototype,{ajax:function(e){if(!(e=_objectSpread({url:t.location,headers:{}},r.ajaxDefaults,e)).cache){var n=new URL(e.url);n.searchParams.append("_",Date.now()),e.url=n.toString()}return"Content-Type"in e.headers&&!e.headers["Content-Type"]&&(e.headers["Content-Type"]=e.contentType),"X-Requested-With"in e.headers||(e.headers["X-Requested-With"]="XMLHttpRequest"),new Promise(function(t,n){var i=new XMLHttpRequest;i.open(e.method,e.url,!0);var o=!0,a=!1,l=void 0;try{for(var s,u=e.headers[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;i.setRequestHeader(c,e.headers[c])}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}e.responseType&&(i.responseType=e.responseType),i.onload=function(e){i.status>400?n({status:i.status,xhr:i,event:e}):t({response:i.response,xhr:i,event:e})},i.onerror=function(t){return n({status:i.status,xhr:i,event:t})},e.uploadProgress&&(i.upload.onprogress=function(t){return e.uploadProgress(t.loaded/t.total,i,t)}),e.beforeSend&&e.beforeSend(i),e.data&&e.processData&&("application/json"===e.contentType?e.data=JSON.stringify(e.data):"application/x-www-form-urlencoded"===e.contentType?e.data=r._parseParams(e.data):e.data=r._parseFormData(e.data)),i.send(e.data)})},get:function(t,e){return this.ajax(_objectSpread({url:t},e))},post:function(t,e,n){return this.ajax(_objectSpread({url:t,data:e,method:"POST"},n))},upload:function(t,e,n){return this.ajax(_objectSpread({url:t,data:e,method:"POST",contentType:!1},n))}}),Object.assign(r.prototype,{loadScript:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.ajax(e,{cache:n}).then(function(e){return eval.apply(t,e.response)})},loadScripts:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(e.map(function(t){return n.ajax(t,{cache:r})})).then(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;eval.apply(t,l.response)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}})}}),Object.assign(r.prototype,{loadStyle:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.ajax(t,{cache:n}).then(function(t){return r._append(e._context.head,e.create("style",{text:t.response}))})},loadStyles:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map(function(t){return e.ajax(t,{cache:n})})).then(function(t){return r._append(e._context.head,e.create("style",{text:t.map(function(t){return t.response}).join("\r\n")}))})}}),Object.assign(r.prototype,{getCookie:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=decodeURIComponent(this._context.cookie).split(";").find(function(e){return e.trimStart().substring(0,t.length)===t});if(!n)return null;var r=n.trimStart().substring(t.length+1);return e?JSON.parse(r):r},removeCookie:function(t,e){this.setCookie(t,"",_objectSpread({expires:-1},e))},setCookie:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){r&&(e=JSON.stringify(e));var i="".concat(t,"=").concat(e);if(n){if(n.expires){var o=new Date;o.setTime(o.getTime()+1e3*n.expires),i+=";expires=".concat(o.toUTCString())}n.path&&(i+=";path=".concat(n.path)),n.secure&&(i+=";secure")}this._context.cookie=i}}}),Object.assign(r.prototype,{animate:function(t,e,n){var i=this;t=this._nodeFilter(t),n=_objectSpread({},r.animationDefaults,n);var o=t.map(function(t){return i._animate(t,e,n)});return this._start(),Promise.all(o)},stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=this._nodeFilter(t);var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._stop(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_animate:function(t,n,r){var i=this;this._animations.has(t)||this._animations.set(t,[]);var o=performance.now();return new Promise(function(a,l){i._animations.get(t).push(function(){var i,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s&&!u?(l(t),!0):(u?i=1:(i=(performance.now()-o)/r.duration,r.infinite?i%=1:i=e.clamp(i),"ease-in"===r.type?i=Math.pow(i,2):"ease-out"===r.type?i=Math.sqrt(i):"ease-in-out"===r.type&&(i=i<=.5?2*Math.pow(i,2):1-2*Math.pow(1-i,2))),n(t,i,r),1===i?(a(t),!0):void 0)})})},_animationFrame:function(){var e=this,n=!0,r=!1,i=void 0;try{for(var o,a=this._animations[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=_slicedToArray(o.value,2),s=l[0],u=l[1];(u=u.filter(function(t){return!t()})).length?this._animations.set(s,u):this._animations.delete(s)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._animations.size?t.requestAnimationFrame(function(t){return e._animationFrame()}):this._animating=!1},_start:function(){this._animating||(this._animating=!0,this._animationFrame())},_stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._animations.has(t)){var n=!0,r=!1,i=void 0;try{for(var o,a=this._animations.get(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){(0,o.value)(!0,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._animations.delete(t)}}}),Object.assign(r.prototype,{dropIn:function(t,e){return this.slideIn(t,_objectSpread({direction:"top"},e))},dropOut:function(t,e){return this.slideOut(t,_objectSpread({direction:"top"},e))},fadeIn:function(t,e){return this.animate(t,function(t,e){return r._setStyle(t,{opacity:e<1?e:""})},e)},fadeOut:function(t,e){return this.animate(t,function(t,e){return r._setStyle(t,{opacity:e<1?1-e:""})},e)},rotateIn:function(t,e){return this.animate(t,function(t,e,n){return r._setStyle(t,{transform:e<1?"rotate3d(".concat(n.x,", ").concat(n.y,", 0, ").concat((90-90*e)*(n.inverse?-1:1),"deg)"):""})},_objectSpread({x:0,y:1},e))},rotateOut:function(t,e){return this.animate(t,function(t,e,n){return r._setStyle(t,{transform:e<1?"rotate3d(".concat(n.x,", ").concat(n.y,", 0, ").concat(90*e*(n.inverse?-1:1),"deg)"):""})},_objectSpread({x:0,y:1},e))},slideIn:function(t,n){var i=this;return this.animate(t,function(t,n,o){var a;if(n<1){var l,s,u,c=e.isFunction(o.direction)?o.direction():o.direction;"top"===c||"bottom"===c?(l="Y",s=i._height(t),u="top"===c):(l="X",s=i._width(t),u="left"===c),a="translate".concat(l,"(").concat(Math.round(s-s*n)*(u?-1:1),"px)")}else a="";r._setStyle(t,{transform:a})},_objectSpread({direction:"bottom"},n))},slideOut:function(t,n){var i=this;return this.animate(t,function(t,n,o){var a;if(n<1){var l,s,u,c=e.isFunction(o.direction)?o.direction():o.direction;"top"===c||"bottom"===c?(l="Y",s=i._height(t),u="top"===c):(l="X",s=i._width(t),u="left"===c),a="translate".concat(l,"(").concat(Math.round(s*n)*(u?-1:1),"px)")}else a="";r._setStyle(t,{transform:a})},_objectSpread({direction:"bottom"},n))},squeezeIn:function(t,e){var n=this;t=this._nodeFilter(t),e=_objectSpread({},r.animationDefaults,{direction:"bottom"},e);var i=t.map(function(t){return n._squeezeIn(t,e)});return this._start(),Promise.all(i)},squeezeOut:function(t,e){var n=this;t=this._nodeFilter(t),e=_objectSpread({},r.animationDefaults,{direction:"bottom"},e);var i=t.map(function(t){return n._squeezeOut(t,e)});return this._start(),Promise.all(i)},_squeezeIn:function(t,n){var i=this,o=this.create("div",{style:{overflow:"hidden",position:"relative"}});this._wrap(t,o);var a=r._parent(t).shift();return this._animate(t,function(t,n,o){if(1===n)return r._before(a,r._children(a,!1,!1,!1)),void i._remove(a);var l,s,u=e.isFunction(o.direction)?o.direction():o.direction;"top"===u||"bottom"===u?(l="height","top"===u&&(s="Y")):"left"!==u&&"right"!==u||(l="width","left"===u&&(s="X"));var c=Math.round(i["_".concat(l)](t)),f=Math.round(c*n),d=_defineProperty({},l,f+"px");s&&(d.transform="translate".concat(s,"(").concat(c-f,"px)")),r._setStyle(a,d)},n)},_squeezeOut:function(t,n){var i=this,o=this.create("div",{style:{overflow:"hidden",position:"relative"}});this._wrap(t,o);var a=r._parent(t).shift();return this._animate(t,function(t,n,o){if(1===n)return r._before(a,r._children(a,!1,!1,!1)),void i._remove(a);var l,s,u=e.isFunction(o.direction)?o.direction():o.direction;"top"===u||"bottom"===u?(l="height","top"===u&&(s="Y")):"left"!==u&&"right"!==u||(l="width","left"===u&&(s="X"));var c=Math.round(i["_".concat(l)](t)),f=Math.round(c-c*n),d=_defineProperty({},l,f+"px");s&&(d.transform="translate".concat(s,"(").concat(c-f,"px)")),r._setStyle(a,d)},n)}}),Object.assign(r.prototype,{clearQueue:function(t){t=this._nodeFilter(t);var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._clearQueue(a)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}},queue:function(t,e){t=this._nodeFilter(t);var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._queue(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_clearQueue:function(t){this._queues.has(t)&&this._queues.delete(t)},_dequeueNode:function(t){var e=this;if(this._queues.has(t)){var n=this._queues.get(t).shift();n?Promise.resolve(n(t)).finally(function(n){return e._dequeueNode(t)}):this._queues.delete(t)}},_queue:function(t,e){var n=!this._queues.has(t);n&&this._queues.set(t,[]),this._queues.get(t).push(e),n&&this._dequeueNode(t)}}),Object.assign(r.prototype,{getAttribute:function(t,e){var n=this._nodeFind(t);if(n)return r._getAttribute(n,e)},getDataset:function(t,e){var n=this._nodeFind(t);if(n)return r._getDataset(n,e)},getHTML:function(t){return this.getProperty(t,"innerHTML")},getProperty:function(t,e){var n=this._nodeFind(t);if(n)return r._getProperty(n,e)},getText:function(t){return this.getProperty(t,"innerText")},getValue:function(t){return this.getProperty(t,"value")},removeAttribute:function(t,e){t=this._nodeFilter(t);var n=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;r._removeAttribute(s,e)}}catch(t){i=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}},removeProperty:function(t,e){t=this._nodeFilter(t);var n=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;r._removeProperty(s,e)}}catch(t){i=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}},setAttribute:function(t,e,n){t=this._nodeFilter(t);var i=r._parseData(e,n),o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r._setAttribute(c,i)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}},setDataset:function(t,e,n){t=this._nodeFilter(t);var i=r._parseData(e,n),o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r._setDataset(c,i)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty:function(t,e,n){t=this._nodeFilter(t);var i=r._parseData(e,n),o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r._setProperty(c,i)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},setValue:function(t,e){this.setProperty(t,"value",e)}}),Object.assign(r.prototype,{cloneData:function(t,e){t=this._nodeFilter(t,{node:!0,document:!0,window:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._cloneData(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},getData:function(t,e){var n=this._nodeFind(t,{node:!0,document:!0,window:!0});if(n)return this._getData(n,e)},removeData:function(t,e){t=this._nodeFilter(t,{node:!0,document:!0,window:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._removeData(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},setData:function(t,e,n){t=this._nodeFilter(t,{node:!0,document:!0,window:!0});var i=r._parseData(e,n),o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;this._setData(c,i)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}},_cloneData:function(t,e){this._data.has(t)&&this.setData(e,_objectSpread({},this._data.get(t)))},_getData:function(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData:function(t,e){if(this._data.has(t)){if(e){var n=this._data.get(t);if(delete n[e],Object.keys(n).length)return}this._data.delete(t)}},_setData:function(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(r.prototype,{center:function(t,e){var n=this.rect(t,e);if(n)return{x:n.left+n.width/2,y:n.top+n.height/2}},constrain:function(t,e){var n=this.rect(e);if(n){t=this._nodeFilter(t);var r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;this._constrain(s,n)}}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}},distTo:function(t,n,r,i){var o=this.center(t,i);if(o)return e.dist(o.x,o.y,n,r)},distToNode:function(t,e){var n=this.center(e);if(n)return this.distTo(t,n.x,n.y)},nearestTo:function(t,e,n,r){var i=null,o=Number.MAX_VALUE;t=this._nodeFilter(t);var a=!0,l=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,d=this.distTo(f,e,n,r);d&&d<o&&(o=d,i=f)}}catch(t){l=!0,s=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}return i},nearestToNode:function(t,e){var n=this.center(e);if(n)return this.nearestTo(t,n.x,n.y)},percentX:function(t,n,r){var i=this.rect(t,r);if(i)return e.clampPercent((n-i.left)/i.width*100)},percentY:function(t,n,r){var i=this.rect(t,r);if(i)return e.clampPercent((n-i.top)/i.height*100)},position:function(t,e){var n=this._nodeFind(t);if(n)return this._position(n,e)},rect:function(t,e){var n=this._nodeFind(t);if(n)return this._rect(n,e)},_constrain:function(t,e){var n=this._rect(t);n.height>e.height&&r._setStyle(t,{height:e.height}),n.width>e.width&&r._setStyle(t,{width:e.width}),n.top<e.top&&r._setStyle(t,{top:e.top}),n.right>e.right&&r._setStyle(t,{right:e.right-n.width}),n.bottom>e.bottom&&r._setStyle(t,{top:e.bottom-n.height}),n.left<e.left&&r._setStyle(t,{left:e.left})},_position:function(t,e){return this.forceShow(t,function(t){var n={x:t.offsetLeft,y:t.offsetTop};if(e)for(var r=t;r=r.offsetParent;)n.x+=r.offsetLeft,n.y+=r.offsetTop;return n})},_rect:function(e,n){return this.forceShow(e,function(e){var i=e.getBoundingClientRect();return n&&(i.x+=r._getScrollX(t),i.y+=r._getScrollY(t)),i})}}),Object.assign(r.prototype,{getScrollX:function(t){var e=this._nodeFind(t,{document:!0,window:!0});if(e)return r._getScrollX(e)},getScrollY:function(t){var e=this._nodeFind(t,{document:!0,window:!0});if(e)return r._getScrollY(e)},setScroll:function(t,e,n){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;r._setScroll(u,e,n)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}},setScrollX:function(t,e){t=this._nodeFilter(t,{document:!0,window:!0});var n=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;r._setScrollX(s,e)}}catch(t){i=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}},setScrollY:function(t,e){t=this._nodeFilter(t,{document:!0,window:!0});var n=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;r._setScrollY(s,e)}}catch(t){i=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}}}),Object.assign(r.prototype,{height:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this._nodeFind(t,{document:!0,window:!0});if(i)return this._height(i,e,n,r)},width:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this._nodeFind(t,{document:!0,window:!0});if(i)return this._width(i,e,n,r)},_height:function(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return e.isWindow(t)?r?t.outerHeight:t.innerHeight:(e.isDocument(t)&&(t=t.documentElement),this.forceShow(t,function(t){var e=t.clientHeight;return r||(e-=parseInt(n._css(t,"padding-top"))+parseInt(n._css(t,"padding-bottom"))),i&&(e+=parseInt(n._css(t,"border-top-width"))+parseInt(n._css(t,"border-bottom-width"))),o&&(e+=parseInt(n._css(t,"margin-top"))+parseInt(n._css(t,"margin-bottom"))),e}))},_width:function(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return e.isWindow(t)?r?t.outerWidth:t.innerWidth:(e.isDocument(t)&&(t=t.documentElement),this.forceShow(t,function(t){var e=t.clientWidth;return r||(e-=parseInt(n._css(t,"padding-left"))+parseInt(n._css(t,"padding-right"))),i&&(e+=parseInt(n._css(t,"border-left-width"))+parseInt(n._css(t,"border-right-width"))),o&&(e+=parseInt(n._css(t,"margin-left"))+parseInt(n._css(t,"margin-right"))),e}))}}),Object.assign(r.prototype,{addClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t=this._nodeFilter(t),(n=r._parseClasses(n)).length){var o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r._addClass(c,n)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}}},css:function(t,e){var n=this._nodeFind(t);if(n)return this._css(n,e)},getStyle:function(t,n){var i=this._nodeFind(t);if(i)return n=e.snakeCase(n),r._getStyle(i,n)},hide:function(t){this.setStyle(t,"display","none")},removeClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t=this._nodeFilter(t),(n=r._parseClasses(n)).length){var o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r._removeClass(c,n)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}}},setStyle:function(t,n,i,o){t=this._nodeFilter(t);var a=r._parseData(n,i),l={};for(var s in a){var u="".concat(a[s]);s=e.snakeCase(s),u&&e.isNumeric(u)&&!r.cssNumberProperties.includes(s)&&(u+="px"),l[s]=u}var c=!0,f=!1,d=void 0;try{for(var h,v=t[Symbol.iterator]();!(c=(h=v.next()).done);c=!0){var _=h.value;r._setStyle(_,l,o)}}catch(t){f=!0,d=t}finally{try{c||null==v.return||v.return()}finally{if(f)throw d}}},show:function(t){this.setStyle(t,"display","")},toggle:function(t){t=this._nodeFilter(t);var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value;r._toggle(l)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},toggleClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t=this._nodeFilter(t),(n=r._parseClasses(n)).length){var o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r._toggleClass(c,n)}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}}},_css:function(e,n){return this._styles.has(e)||this._styles.set(e,t.getComputedStyle(e)),this._styles.get(e).getPropertyValue(n)}}),Object.assign(r.prototype,{mouseDragFactory:function(n,r,i){var o=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r&&a&&(r=e.animationFactory(r),i&&(i=e.animationFactory(i))),function(e){if(n&&!1===n(e))return!1;r&&o._addEvent(t,"mousemove",r),(r||i)&&o._addEventOnce(t,"mouseup",function(e){r&&o._removeEvent(t,"mousemove",r),i&&i(e)})}},_delegateFactory:function(t,e,n){var i=e.match(r.complexRegex)?this._getDelegateContainsFactory(t,e):this._getDelegateMatchFactory(t,e);return function(e){if(!r._isSame(e.target,t)){var o=i(e.target);if(o)return e.delegateTarget=o,n(e)}}},_getDelegateContainsFactory:function(t,n){return n=r._prefixSelectors(selectors,"#".concat(r._tempId)),function(i){var o=e.merge([],r._findByCustom(n,t));return!!o.length&&(o.includes(i)?i:r._parents(i,function(t){return o.contains(t)},function(e){return r._isSame(t,e)},!0).shift())}},_getDelegateMatchFactory:function(t,e){return function(n){return r._is(n,e)?n:r._parents(n,function(t){return r._is(t,e)},function(e){return r._isSame(t,e)},!0).shift()}},_selfDestructFactory:function(t,e,n,r){var i=this;return function o(a){return n?i._removeEvent(t,e,r,n):i._removeEvent(t,e,o),r(a)}}}),Object.assign(r.prototype,{blur:function(t){var e=this._nodeFind(t);e&&r._blur(e)},click:function(t){var e=this._nodeFind(t);e&&r._click(e)},focus:function(t){var e=this._nodeFind(t);e&&r._focus(e)},ready:function(e){"complete"!==this._context.readyState?this._addEvent(t,"DOMContentLoaded",e):e()},triggerEvent:function(t,e,n){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;r._triggerEvent(u,e,n)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}}),Object.assign(r.prototype,{addEvent:function(t,e,n){t=this._nodeFilter(t,{document:!0,window:!0});var r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;this._addEvent(s,e,n)}}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}},addEventDelegate:function(t,e,n,r){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;this._addEvent(u,e,r,n)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}},addEventDelegateOnce:function(t,e,n,r){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;this._addEvent(u,e,r,n,!0)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}},addEventOnce:function(t,e,n){t=this._nodeFilter(t,{document:!0,window:!0});var r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;this._addEvent(s,e,n,null,!0)}}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}},cloneEvents:function(t,e){t=this._nodeFilter(t,{document:!0,window:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._cloneEvents(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},removeEvent:function(t,e,n){t=this._nodeFilter(t,{document:!0,window:!0});var r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;this._removeEvent(s,e,n)}}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}},removeEventDelegate:function(t,e,n,r){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;this._removeEvent(u,e,r,n)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}},_addEvent:function(t,e,n,i,o){var a=n;o&&(a=this._selfDestructFactory(t,e,i,a)),i&&(a=this._delegateFactory(t,i,a)),this._events.has(t)||this._events.set(t,{});var l=this._events.get(t),s={delegate:i,callback:n,realCallback:a,selfDestruct:o},u=!0,c=!1,f=void 0;try{for(var d,h=r._parseEvents(e)[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var v=d.value,_=r._parseEvent(v);if(s.event=v,s.realEvent=_,l[_]){if(l[_].includes(s))return}else l[_]=[];t.addEventListener(_,a),l[_].push(s)}}catch(t){c=!0,f=t}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}},_cloneEvents:function(t,e){if(this._events.has(t)){var n=this._events.get(t);for(var r in n){var i=!0,o=!1,a=void 0;try{for(var l,s=n[r][Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;this.addEvent(e,u.event,u.callback,u.delegate,u.selfDestruct)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}}},_removeEvent:function(t,e,n,i){if(this._events.has(t)){var o=this._events.get(t),a=e?r._parseEvents(e):Object.keys(o),l=!0,s=!1,u=void 0;try{for(var c,f=function(){var e=c.value,a=r._parseEvent(e);if(!o[a])return{v:void 0};o[a]=o[a].filter(function(r){return!!(a===e&&a!==r.realEvent||a!==e&&e!==r.event||i&&(i!==r.delegate||n&&n!==r.callback)||!i&&n&&n!==r.realCallback)||(t.removeEventListener(r.realEvent,r.realCallback),!1)}),o[a].length||delete o[a]},d=a[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=f();if("object"===_typeof(h))return h.v}}catch(t){s=!0,u=t}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}Object.keys(o).length||this._events.delete(t)}}}),Object.assign(r.prototype,{create:function(t,e){var n=r._create(this._context,t);return e?("html"in e?r._setProperty(n,{innerHTML:e.html}):"text"in e&&r._setProperty(n,{innerText:e.text}),"class"in e&&r._addClass(n,r._parseClasses(e.class)),"style"in e&&r._setStyle(n,e.style),"value"in e&&r._setProperty(n,{value:e.value}),"attributes"in e&&r._setAttribute(n,e.attributes),"properties"in e&&r._setProperty(n,e.properties),"dataset"in e&&r._setDataset(n,e.dataset),n):n},createComment:function(t){return r._createComment(this._context,t)},createRange:function(){return r._createRange(this._context)},createText:function(t){return r._createText(this._context,t)},parseHTML:function(t){return e.merge([],this.createRange().createContextualFragment(t).childNodes)}}),Object.assign(r.prototype,{clone:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(t=this._nodeFilter(t,{node:!0})).map(function(t){return e._clone(t,n,r,i)})},detach:function(t){t=this._nodeFilter(t,{node:!0});var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value;r._detach(l)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},empty:function(t){t=this._nodeFilter(t,{document:!0});var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._empty(a)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}},remove:function(t){t=this._nodeFilter(t,{node:!0});var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._remove(a)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,e){t=this._nodeFilter(t,{node:!0}),e=this._nodeFilter(e,{node:!0,html:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._replaceWith(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_clone:function(t,e,n,i){var o=r._clone(t,e);return n||i?(n&&this._cloneEvents(t,o),i&&this._cloneData(t,o),e&&this._deepClone(t,o,n,i),o):o},_deepClone:function(t,e,n,i){for(var o=r._children(t,!1,!1,!1),a=r._children(e,!1,!1,!1),l=0;l<o.length;l++)n&&this._cloneEvents(o[l],a[l]),i&&this._cloneData(o[l],a[l]),this._deepClone(o[l],a[l])},_empty:function(t){var e=r._children(t,!1,!1,!1),n=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;this._remove(s)}}catch(t){i=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}},_remove:function(t){e.isElement(t)&&this._empty(t),this._clearQueue(t),this._stop(t),this._styles.has(t)&&this._styles.delete(t),r._detach(t),r._triggerEvent(t,"remove"),this._removeEvent(t),this._removeData(t)},_replaceWith:function(t,e){r._before(t,this.clone(e,!0)),this._remove(t)}}),Object.assign(r.prototype,{after:function(t,e){var n=this._nodeFind(t,{node:!0});n&&(e=this._nodeFilter(e,{node:!0,html:!0}),r._after(n,e))},append:function(t,e){var n=this._nodeFind(t);n&&(e=this._nodeFilter(e,{node:!0,html:!0}),r._append(n,e))},appendTo:function(t,e){this.append(e,t)},before:function(t,e){var n=this._nodeFind(t,{node:!0});n&&(e=this._nodeFilter(e,{node:!0,html:!0}),r._before(n,e))},insertAfter:function(t,e){this.after(e,t)},insertBefore:function(t,e){this.before(e,t)},prepend:function(t,e){var n=this._nodeFind(t);n&&(e=this._nodeFilter(e,{node:!0,html:!0}),r._prepend(n,e))},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(r.prototype,{unwrap:function(t,e){t=this._nodeFilter(t,{node:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._unwrap(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},wrap:function(t,e){t=this._nodeFilter(t,{node:!0}),e=this._nodeFilter(e,{html:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._wrap(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},wrapAll:function(t,n){t=this._nodeFilter(t,{node:!0}),n=this._nodeFilter(n,{html:!0});var i=this.clone(n,!0);r._before(t,i);var o=i.shift(),a=e.merge([],r._findBySelector("*",o)).find(function(t){return!r._hasChildren(t)})||o;r._append(a,t)},wrapInner:function(t,e){t=this._nodeFilter(t,{node:!0}),e=this._nodeFilter(e,{html:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this._wrapInner(l,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_unwrap:function(t,e){var n=r._parent(t,e).shift();if(n){var i=r._children(n,!1,!1,!1);r._before(n,i),this._remove(n)}},_wrap:function(t,n){var i=this.clone(n,!0);r._before(t,i);var o=i.shift(),a=e.merge([],r._findBySelector("*",o)).find(function(t){return!r._hasChildren(t)})||o;r._append(a,[t])},_wrapInner:function(t,n){var i=r._children(t,!1,!1,!1),o=this.clone(n,!0);r._append(t,o);var a=o.shift(),l=e.merge([],r._findBySelector("*",a)).find(function(t){return!r._hasChildren(t)})||a;r._append(l,i)}}),Object.assign(r.prototype,{filter:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t).filter(function(t,n){return!e||e(t,n)})},filterOne:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t).find(function(t,n){return!e||e(t,n)})||null},has:function(t,e){return e=this._parseFilterContains(e),this._nodeFilter(t,{document:!0}).filter(function(t,n){return!e||e(t,n)})},hasOne:function(t,e){return e=this._parseFilterContains(e),this._nodeFilter(t,{document:!0}).find(function(t,n){return!e||e(t,n)})||null},hidden:function(t){var e=this;return this._nodeFilter(t,{document:!0,window:!0}).filter(function(t){return e.isHidden(t)})},hiddenOne:function(t){var e=this;return this._nodeFilter(t,{document:!0,window:!0}).find(function(t){return e.isHidden(t)})||null},not:function(t,e){return(e=this._parseFilter(e))?this._nodeFilter(t).filter(function(t,n){return!e(t,n)}):[]},notOne:function(t,e){return(e=this._parseFilter(e))&&this._nodeFilter(t).find(function(t,n){return!e(t,n)})||null},visible:function(t){var e=this;return this._nodeFilter(t,{document:!0,window:!0}).filter(function(t){return e.isVisible(t)})},visibleOne:function(t){var e=this;return this._nodeFilter(t,{document:!0,window:!0}).find(function(t){return e.isVisible(t)})||null}}),Object.assign(r.prototype,{find:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(r.fastRegex);return n?"#"===n[1]?this.findById(n[2],e):"."===n[1]?this.findByClass(n[2],e):this.findByTag(n[2],e):t.match(r.complexRegex)?this._findByCustom(t,e):this._findBySelector(t,e)},findByClass:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n))return e.merge([],r._findByClass(t,n));n=this._nodeFilter(n,{document:!0});var i=[],o=!0,a=!1,l=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;e.merge(i,r._findByClass(t,c))}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return n.length>1&&i.length>1?e.unique(i):i},findById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,i=r._findById(t,this._context);return i?e.isDocument(n)?[i]:e.isElement(n)?r._has(n,i)?[i]:[]:this.contains(n,i)?[i]:[]:[]},findByTag:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n))return e.merge([],r._findByTag(t,n));n=this._nodeFilter(n,{document:!0});var i=[],o=!0,a=!1,l=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;e.merge(i,r._findByTag(t,c))}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return n.length>1&&i.length>1?e.unique(i):i},findOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(r.fastRegex);return n?"#"===n[1]?this.findOneById(n[2],e):"."===n[1]?this.findOneByClass(n[2],e):this.findOneByTag(n[2],e):t.match(r.complexRegex)?this._findOneByCustom(t,e):this._findOneBySelector(t,e)},findOneByClass:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n))return r._findByClass(t,n).item(0);n=this._nodeFilter(n,{document:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value,c=r._findByClass(t,u).item(0);if(c)return c}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return null},findOneById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,i=r._findById(t,this._context);return i?e.isDocument(n)?i:e.isElement(n)?r._has(n,i)?i:null:this.contains(n,i)?i:null:null},findOneByTag:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n))return r._findByTag(t,n).item(0);n=this._nodeFilter(n,{document:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value,c=r._findByTag(t,u).item(0);if(c)return c}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return null},_findByCustom:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isString(n))return r._findBySelector(r._prefixSelectors(t,"".concat(n," ")),this._context);var i=r._prefixSelectors(t,"#".concat(r.tempId," "));if(e.isElement(n))return e.merge([],r._findByCustom(i,n));n=this._nodeFilter(n,{document:!0});var o=[],a=!0,l=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,r._findByCustom(i,f))}}catch(t){l=!0,s=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}return n.length>1&&o.length>1?e.unique(o):o},_findBySelector:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n))return e.merge([],r._findBySelector(t,n));n=this._nodeFilter(n,{document:!0});var i=[],o=!0,a=!1,l=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;e.merge(i,r._findBySelector(t,c))}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return n.length>1&&i.length>1?e.unique(i):i},_findOneByCustom:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isString(n))return r._findOneBySelector(r._prefixSelectors(t,"".concat(n," ")),this._context);var i=r._prefixSelectors(t,"#".concat(r.tempId," "));if(e.isElement(n))return r._findOneByCustom(i,n);n=this._nodeFilter(n,{document:!0});var o=!0,a=!1,l=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=r._findOneByCustom(i,c);if(f)return f}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return null},_findOneBySelector:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n))return r._findBySelector(t,n).item(0);n=this._nodeFilter(n,{document:!0});var i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value,c=r._findOneBySelector(t,u);if(c)return c}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return null}}),Object.assign(r.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n=this._parseFilter(n),e.isElement(t))return r._children(t,n,i,o);t=this._nodeFilter(t);var a=[],l=!0,s=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value;e.merge(a,r._children(d,n,i,o))}}catch(t){s=!0,u=t}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return t.length>1&&a.length>1?e.unique(a):a},closest:function(t,e,n){return this.parents(t,e,n,!0)},commonAncestor:function(t){if((t=this.sort(t)).length){var e=this._context.createRange();return 1==t.length?e.selectNode(t.shift()):(e.setStartBefore(t.shift()),e.setEndAfter(t.pop())),e.commonAncestorContainer}},contents:function(t){return this.children(t,!1,!1,!1)},next:function(t,n){if(n=this._parseFilter(n),e.isElement(t))return r._next(t,n);t=this._nodeFilter(t);var i=[],o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;e.merge(i,r._next(c,n))}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return t.length>1&&i.length>1?e.unique(i):i},nextAll:function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n=this._parseFilter(n),i=this._parseFilter(i),e.isElement(t))return r._nextAll(t,n,i,o);t=this._nodeFilter(t);var a=[],l=!0,s=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value;e.merge(a,r._nextAll(d,n,i,o))}}catch(t){s=!0,u=t}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return t.length>1&&a.length>1?e.unique(a):a},offsetParent:function(t){return this.forceShow(t,function(t){return t.offsetParent})},parent:function(t,n){if(n=this._parseFilter(n),e.isElement(t))return r._parent(t,n);t=this._nodeFilter(t,{node:!0});var i=[],o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;e.merge(i,r._parent(c,n))}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return t.length>1&&i.length>1?e.unique(i):i},parents:function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n=this._parseFilter(n),i=this._parseFilter(i),e.isElement(t))return r._parents(t,n,i,o);t=this._nodeFilter(t,{node:!0});var a=[],l=!0,s=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value;e.merge(a,r._parents(d,n,i,o))}}catch(t){s=!0,u=t}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return t.length>1&&a.length>1?e.unique(a):a},prev:function(t,n){if(n=this._parseFilter(n),e.isElement(t))return r._prev(t,n);t=this._nodeFilter(t);var i=[],o=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;e.merge(i,r._prev(c,n))}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return t.length>1&&i.length>1?e.unique(i):i},prevAll:function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n=this._parseFilter(n),i=this._parseFilter(i),e.isElement(t))return r._prevAll(t,n,i,o);t=this._nodeFilter(t);var a=[],l=!0,s=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value;e.merge(a,r._prevAll(d,n,i,o))}}catch(t){s=!0,u=t}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return t.length>1&&a.length?e.unique(a):a},siblings:function(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n=this._parseFilter(n),e.isElement(t))return r._siblings(t,n,i);t=this._nodeFilter(t);var o=[],a=!0,l=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,r._siblings(f,n,i))}}catch(t){l=!0,s=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}return t.length>1&&o.length>1?e.unique(o):o}}),Object.assign(r.prototype,{_nodeFilter:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t))return"html"in n&&n.html&&"<"===t.trim().charAt(0)?this.parseHTML(t):this.find(t,"context"in n?n.context:this._context);var r=this._nodeFilterFactory(n);return r(t)?[t]:e.wrap(t).filter(r)},_nodeFilterFactory:function(t){return(t=_objectSpread({node:!1,document:!1,window:!1},t)).window&&t.document?t.node?function(t){return e.isNode(t)||e.isDocument(t)||e.isWindow(t)}:function(t){return e.isElement(t)||e.isDocument(t)||e.isWindow(t)}:t.window?t.node?function(t){return e.isNode(t)||e.isWindow(t)}:function(t){return e.isElement(t)||e.isWindow(t)}:t.document?t.node?function(t){return e.isNode(t)||e.isDocument(t)}:function(t){return e.isElement(t)||e.isDocument(t)}:t.node?e.isNode:e.isElement},_nodeFind:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t)){if("html"in n&&n.html&&"<"===t.trim().charAt(0))return this.parseHTML(t).shift();var r=this.findOne(t,"context"in n?n.context:this._context);return r||null}var i=this._nodeFilterFactory(n),o=e.wrap(t).shift();return i(o)?o:null},_parseFilter:function(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?function(n){return e.isElement(n)&&r._is(n,t)}:e.isNode(t)?function(e){return r._isSame(e,t)}:!!(t=this._nodeFilter(t)).length&&function(e){return t.includes(e)})},_parseFilterContains:function(t){var n=this;return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return!!n.findOne(t,e)}:e.isElement(t)?function(e){return r._has(e,t)}:!!(t=this._nodeFilter(t)).length&&function(e){return t.some(function(t){return r._has(e,t)})})}}),Object.assign(r.prototype,{afterSelection:function(t){t=this._nodeFilter(t,{node:!0,html:!0});var e=r._getSelection();if(e.rangeCount){var n=r._getRange(e);r._removeRanges(e),r._collapseRange(n);var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;r._insert(n,u)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}},beforeSelection:function(t){t=this._nodeFilter(t,{node:!0,html:!0});var e=r._getSelection();if(e.rangeCount){var n=r._getRange(e);r._removeRanges(e);var i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;r._insert(n,u)}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}},extractSelection:function(){var t=r._getSelection();if(!t.rangeCount)return[];var n=r._getRange(t);return r._removeRanges(t),e.merge([],r._extract(n))},getSelection:function(){var t=r._getSelection();if(!t.rangeCount)return[];var n=r._getRange(t),i=e.merge([],r._findBySelector("*",n.commonAncestorContainer));if(!i.length)return[n.commonAncestorContainer];if(1===i.length)return i;var o=e.isElement(n.startContainer)?n.startContainer:r._parent(n.startContainer).shift(),a=e.isElement(n.endContainer)?n.endContainer:r._parent(n.endContainer).shift();return i.slice(i.indexOf(o),i.indexOf(a)+1)},select:function(t){var e=this._nodeFind(t,{node:!0});if(e&&"select"in e)return e.select();var n=r._getSelection();if(n.rangeCount>0&&r._removeRanges(n),e){var i=this.createRange();r._select(i,e),r._addRange(n,i)}},selectAll:function(t){t=this.sort(t);var e=r._getSelection();if(e.rangeCount&&r._removeRanges(e),t.length){var n=this.createRange();1==t.length?r._select(n,t.shift()):(r._setStartBefore(n,t.shift()),r._setEndAfter(n,t.pop())),r._addRange(e,n)}},wrapSelection:function(n){n=this._nodeFilter(n,{html:!0});var i=t.getSelection();if(i.rangeCount){var o=i.getRangeAt(0);i.removeAllRanges();var a=n.slice().shift(),l=e.merge([],r._findBySelector("*",a)).find(function(t){return!r._hasChildren(t)})||a,s=e.merge([],o.extractContents().childNodes);r._append(l,s);var u=!0,c=!1,f=void 0;try{for(var d,h=n[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var v=d.value;o.insertNode(v)}}catch(t){c=!0,f=t}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}}}}),Object.assign(r.prototype,{contains:function(t,e){return e=this._parseFilterContains(e),this._nodeFilter(t,{document:!0}).some(function(t){return!e||e(t)})},hasAnimation:function(t){var e=this;return this._nodeFilter(t).some(function(t){return!!parseFloat(e._css(t,"animation-duration"))})},hasAttribute:function(t,e){return this._nodeFilter(t).some(function(t){return t.hasAttribute(e)})},hasClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n=r._parseClasses(n),this._nodeFilter(t).some(function(t){return n.some(function(e){return t.classList.contains(e)})})},hasData:function(t,e){var n=this;return this._nodeFilter(t,{document:!0,window:!0}).some(function(t){return n.nodeData.has(t)&&(!e||n.nodeData.get(t).hasOwnProperty(e))})},hasProperty:function(t,e){return this._nodeFilter(t).some(function(t){return t.hasOwnProperty(e)})},hasTransition:function(t){var e=this;return this._nodeFilter(t).some(function(t){return!!parseFloat(e._css(t,"transition-duration"))})},is:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t).some(function(t){return!e||e(t)})},isConnected:function(t){return this._nodeFilter(t,{node:!0}).some(function(t){return r._isConnected(t)})},isEqual:function(t,e){return e=this._nodeFilter(e,{node:!0}),this._nodeFilter(t,{node:!0}).some(function(t){return e.find(function(e){return r._isEqual(t,e)})})},isFixed:function(t){var e=this;return this._nodeFilter(t).some(function(t){return"fixed"===e._css(t,"position")||e._parents(t,function(t){return"fixed"===e._css(t,"position")},!1,!0).length})},isHidden:function(t){return this._nodeFilter(t,{node:!0,document:!0,window:!0}).some(function(t){return!r._isVisible(t)})},isSame:function(t,e){return e=this._nodeFilter(e,{node:!0}),this._nodeFilter(t,{node:!0}).some(function(t){return e.find(function(e){return r._isSame(t,e)})})},isVisible:function(t){return this._nodeFilter(t,{node:!0,document:!0,window:!0}).some(function(t){return r._isVisible(t)})}}),Object.assign(r.prototype,{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(t,!1,e)},forceShow:function(t,n){var i=this,o=this._nodeFind(t,{node:!0,document:!0,window:!0});if(o){if(this.isVisible(o))return n(o);var a=new Map,l=[];"none"===this._css(o,"display")&&l.push(o),e.merge(l,r._parents(o,function(t){return"none"===i._css(t,"display")}));for(var s=0,u=l;s<u.length;s++){var c=u[s];a.set(c,r._getAttribute(c,"style")),r._setStyle(c,{display:"initial"},!0)}var f=n(o),d=!0,h=!1,v=void 0;try{for(var _,y=a[Symbol.iterator]();!(d=(_=y.next()).done);d=!0){var p=_slicedToArray(_.value,2),m=p[0],g=p[1];g?r._setAttribute(m,{style:g}):r._removeAttribute(m,"style")}}catch(t){h=!0,v=t}finally{try{d||null==y.return||y.return()}finally{if(h)throw v}}return f}},index:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t).findIndex(function(t){return!e||e(t)})},indexOf:function(t){var e=this._nodeFind(t);if(e)return this.children(this.parent(e)).indexOf(e)},normalize:function(t){t=this._nodeFilter(t,{node:!0});var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value;r._normalize(l)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},serialize:function(t){return r._parseParams(this.serializeArray(t))},serializeArray:function(t){var e=this;return this._nodeFilter(t).reduce(function(t,n){if(r._is(n,"form"))return t.concat(e.serializeArray(r._findBySelector("input, select, textarea",n)));if(r._is(n,"[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;var i=r._getAttribute(n,"name");if(!i)return t;var o=r._getAttribute(n,"value")||"";return t.push({name:i,value:o}),t},[])},sort:function(t){return this._nodeFilter(t,{node:!0}).sort(function(t,e){return r._compareNodes(t,e)})}}),Object.assign(r,{_getAttribute:function(t,e){return t.getAttribute(e)},_getDataset:function(t,e){return e?t.dataset[e]:t.dataset},_getProperty:function(t,e){return t[e]},_removeAttribute:function(t,e){t.removeAttribute(e)},_removeProperty:function(t,e){delete t[e]},_setAttribute:function(t,e){for(var n in e)t.setAttribute(n,e[n])},_setDataset:function(t,e){Object.assign(t.dataset,e)},_setProperty:function(t,e){Object.assign(t,e)}}),Object.assign(r,{_getScrollX:function(t){return e.isWindow(t)?t.scrollX:e.isDocument(t)?t.scrollingElement.scrollLeft:t.scrollLeft},_getScrollY:function(t){return e.isWindow(t)?t.scrollY:e.isDocument(t)?t.scrollingElement.scrollTop:t.scrollTop},_setScroll:function(t,n,r){return e.isWindow(t)?t.scroll(n,r):e.isDocument(t)?(t.scrollingElement.scrollLeft=n,void(t.scrollingElement.scrollTop=r)):(t.scrollLeft=n,void(t.scrollTop=r))},_setScrollX:function(t,n){if(e.isWindow(t))return t.scroll(n,t.scrollY);e.isDocument(t)?t.scrollingElement.scrollLeft=n:t.scrollLeft=n},_setScrollY:function(t,n){if(e.isWindow(t))return t.scroll(t.scrollX,n);e.isDocument(t)?t.scrollingElement.scrollTop=n:t.scrollTop=n}}),Object.assign(r,{_addClass:function(t,e){var n;(n=t.classList).add.apply(n,_toConsumableArray(e))},_removeClass:function(t,e){var n;(n=t.classList).remove.apply(n,_toConsumableArray(e))},_toggleClass:function(t,e){var n;(n=t.classList).toggle.apply(n,_toConsumableArray(e))},_getStyle:function(t,e){return t.style[e]},_setStyle:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";for(var r in e)t.style.setProperty(r,e[r],n?"important":"")},_toggle:function(t){"none"===this._getStyle(t,"display")?this._setStyle(t,{display:""}):this._setStyle(t,{display:"none"})}}),Object.assign(r,{_blur:function(t){t.blur()},_click:function(t){t.click()},_focus:function(t){t.focus()}}),Object.assign(r,{_triggerEvent:function(t,e,n){var r=!0,i=!1,o=void 0;try{for(var a,l=this._parseEvents(e)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value,u=this._parseEvent(s),c=new Event(u);n&&Object.assign(c,n),t.dispatchEvent(c)}}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}}),Object.assign(r,{_parseClasses:function(t){return t.flat().flatMap(function(t){return t.split(" ")})},_parseData:function(t,n){return e.isObject(t)?t:_defineProperty({},t,n)},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_parseFormData:function(t){var n=new FormData;if(e.isArray(t)){var r={},i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;r[u.name]=u.value}}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}t=r}return this._parseFormValues(t,n),n},_parseFormValues:function(t,n,r){var i;for(i in t){var o=t[i];if(r&&(i="".concat(r,"[").concat(i,"]")),e.isPlainObject(o))this._parseFormValues(o,n,i);else if(e.isArray(o)){var a=!0,l=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;n.append(i,f)}}catch(t){l=!0,s=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}}else n.set(i,o)}},_parseParams:function(t){var n=this,r=[];return e.isArray(t)?r=t.map(function(t){return n._parseParam(t.name,t.value)}):e.isObject(t)&&(r=Object.keys(t).map(function(e){return n._parseParam(e,t[e])})),r.flatMap(encodeURI).join("&")},_parseParam:function(t,n){var r=this;return e.isArray(n)?n.map(function(e){return r._parseParam(t,e)}).flat():e.isObject(n)?Object.keys(n).map(function(e){return r._parseParam(t+"["+e+"]",n[e])}).flat():t+"="+n},_prefixSelectors:function(t,e){return t.split(this.splitRegex).filter(function(t){return!!t}).map(function(t){return"".concat(e," ").concat(t)}).join(", ")}}),Object.assign(r,{_clone:function(t,e){return t.cloneNode(e)},_create:function(t,e){return t.createElement(e)},_createComment:function(t,e){return t.createCommentNode(e)},_createRange:function(t){return t.createRange()},_createText:function(t,e){return t.createTextNode(e)}}),Object.assign(r,{_detach:function(t){t.parentNode&&t.parentNode.removeChild(t)}}),Object.assign(r,{_after:function(t,e){if(t.parentNode){var n=!0,r=!1,i=void 0;try{for(var o,a=e.reverse()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;t.parentNode.insertBefore(l,t.nextSibling)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},_append:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;t.insertBefore(l,null)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_before:function(t,e){if(t.parentNode){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;t.parentNode.insertBefore(l,t)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},_prepend:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e.reverse()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;t.insertBefore(l,t.firstChild)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}),Object.assign(r,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(r,{_has:function(t,e){return t.contains(e)},_hasChildren:function(t){return!!t.childElementCount},_is:function(t,e){return t.matches(e)},_isConnected:function(t){return t.isConnected},_isEqual:function(t,e){return t.isEqualNode(e)},_isSame:function(t,e){return t.isSameNode(e)},_isVisible:function(t){return e.isWindow(t)?"visible"===t.document.visibilityState:e.isDocument(t)?"visible"===t.visibilityState:!!t.offsetParent}}),Object.assign(r,{_findByClass:function(t,e){return e.getElementsByClassName(t)},_findById:function(t,e){return e.getElementById(t)},_findByTag:function(t,e){return e.getElementsByTagName(t)},_findBySelector:function(t,e){return e.querySelectorAll(t)},_findOneBySelector:function(t,e){return e.querySelector(t)},_findByCustom:function(t,e){var n=this._getAttribute(e,"id");this._setAttribute(e,{id:this.tempId});var r=this._findBySelector(t,e);return n?this._setAttribute(e,{id:n}):this._removeAttribute(e,"id"),r},_findOneByCustom:function(t,e){var n=this._getAttribute(e,"id");this._setAttribute(e,{id:this.tempId});var r=this._findOneBySelector(t,e);return n?this._setAttribute(e,{id:n}):this._removeAttribute(e,"id"),r}}),Object.assign(r,{_children:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?t.children:t.childNodes,o=[],a=!0,l=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done)&&(n=u.value,e&&!e(n)||(o.push(n),!r));a=!0);}catch(t){l=!0,s=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}return o},_next:function(t,n){for(var r=[];(t=t.nextSibling)&&!e.isElement(t););return t?n&&!n(t)?r:(r.push(t),r):r},_nextAll:function(t,n,r){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];t=t.nextSibling;)if(e.isElement(t)){if(r&&r(t))break;if((!n||n(t))&&(o.push(t),i))break}return o},_parent:function(t,e){var n=[];return t.parentNode?e&&!e(t.parentNode)?n:(n.push(t.parentNode),n):n},_parents:function(t,n,r){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(t=t.parentNode)&&!(!e.isElement(t)||r&&r(t))&&(n&&!n(t)||(o.push(t),!i)););return o},_prev:function(t,n){for(var r=[];(t=t.previousSibling)&&!e.isElement(t););return t?n&&!n(t)?r:(r.push(t),r):r},_prevAll:function(t,n,r){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];t=t.previousSibling;)if(e.isElement(t)){if(r&&r(t))break;if((!n||n(t))&&(o.push(t),i))break}return o},_siblings:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];if(!t.parentNode)return i;var o,a=n?t.parentNode.children:t.parentNode.childNodes,l=!0,s=!1,u=void 0;try{for(var c,f=a[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)o=c.value,r._isSame(t,o)||e&&!e(o)||i.push(o)}catch(t){s=!0,u=t}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return i}}),Object.assign(r,{_addRange:function(t,e){t.addRange(e)},_collapse:function(t){t.collapse()},_extract:function(t){return t.extractContents().childNodes},_getRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getRangeAt(e)},_getSelection:function(){return t.getSelection()},_insert:function(t,e){t.insertNode(e)},_removeRanges:function(t){t.removeAllRanges()},_select:function(t,e){t.selectNode(e)},_setEndAfter:function(t,e){t.setEndAfter(e)},_setStartBefore:function(t,e){t.setStartBefore(e)}}),Object.assign(r,{_compareNodes:function(t,e){if(this._isSame(t,e))return 0;var n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0},_normalize:function(t){t.normalize()}}),Object.assign(r,{ajaxDefaults:{beforeSend:!1,cache:!0,contentType:"application/x-www-form-urlencoded",data:!1,method:"GET",processData:!0},animationDefaults:{duration:1e3,type:"ease-in-out",infinite:!1},cssNumberProperties:["font-weight","line-height","opacity","orphans","widows","z-index"],complexRegex:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,fastRegex:/^([\#\.]?)([\w\-]+)$/,splitRegex:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/,tempId:"frost"+Date.now().toString(16)}),{DOM:r,dom:new r}});