"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(void 0,e(void 0))}(0,function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");var e=t.Core,n=t.document,r=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;_classCallCheck(this,t),this._context=e,this._animating=!1,this._animations=new Map,this._queues=new WeakMap,this._data=new WeakMap,this._events=new WeakMap,this._styles=new WeakMap};return Object.assign(r.prototype,{ajax:function(e){e=_objectSpread({url:t.location,headers:{}},r.ajaxDefaults,e);var n=r.localRegex.test(location.protocol);if(!e.cache){var i=new URL(e.url);i.searchParams.append("_",Date.now()),e.url=i.toString()}return"Content-Type"in e.headers&&!e.headers["Content-Type"]&&(e.headers["Content-Type"]=e.contentType),n||"X-Requested-With"in e.headers||(e.headers["X-Requested-With"]="XMLHttpRequest"),new Promise(function(t,i){var o=new XMLHttpRequest;for(var a in o.open(e.method,e.url,!0),e.headers)o.setRequestHeader(a,e.headers[a]);e.responseType&&(o.responseType=e.responseType),o.onload=function(e){o.status>400?i({status:o.status,xhr:o,event:e}):t({response:o.response,xhr:o,event:e})},n||(o.onerror=function(t){return i({status:o.status,xhr:o,event:t})}),e.uploadProgress&&(o.upload.onprogress=function(t){return e.uploadProgress(t.loaded/t.total,o,t)}),e.beforeSend&&e.beforeSend(o),e.data&&e.processData&&("application/json"===e.contentType?e.data=JSON.stringify(e.data):"application/x-www-form-urlencoded"===e.contentType?e.data=r._parseParams(e.data):e.data=r._parseFormData(e.data)),o.send(e.data)})},get:function(t,e){return this.ajax(_objectSpread({url:t},e))},post:function(t,e,n){return this.ajax(_objectSpread({url:t,data:e,method:"POST"},n))},upload:function(t,e,n){return this.ajax(_objectSpread({url:t,data:e,method:"POST",contentType:!1},n))}}),Object.assign(r.prototype,{loadScript:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.ajax({url:e,cache:n}).then(function(e){return eval.call(t,e.response)})},loadScripts:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(e.map(function(t){return n.ajax({url:t,cache:r})})).then(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;eval.call(t,s.response)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}})}}),Object.assign(r.prototype,{loadStyle:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.ajax({url:t,cache:n}).then(function(t){return r._insertBefore(e._context.head,e.create("style",{html:t.response}))})},loadStyles:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map(function(t){return e.ajax({url:t,cache:n})})).then(function(t){var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r._insertBefore(e._context.head,e.create("style",{html:l.response}))}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}})}}),Object.assign(r.prototype,{getCookie:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=decodeURIComponent(this._context.cookie).split(";").find(function(e){return e.trimStart().substring(0,t.length)===t});if(!n)return null;var r=n.trimStart().substring(t.length+1);return e?JSON.parse(r):r},removeCookie:function(t,e){this.setCookie(t,"",_objectSpread({expires:-1},e))},setCookie:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){r&&(e=JSON.stringify(e));var i="".concat(t,"=").concat(e);if(n){if(n.expires){var o=new Date;o.setTime(o.getTime()+1e3*n.expires),i+=";expires=".concat(o.toUTCString())}n.path&&(i+=";path=".concat(n.path)),n.secure&&(i+=";secure")}this._context.cookie=i}}}),Object.assign(r.prototype,{animate:function(t,e,n){var i=this;t=this._nodeFilter(t),n=_objectSpread({},r.animationDefaults,n);var o=t.map(function(t){return i._animate(t,e,n)});return this._start(),Promise.all(o)},stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=this._nodeFilter(t);var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._stop(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_animate:function(t,n,r){var i=this;this._animations.has(t)||this._animations.set(t,[]);var o=performance.now();return new Promise(function(a,s){i._animations.get(t).push(function(){var i,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l&&!u?(s(t),!0):(u?i=1:(i=(performance.now()-o)/r.duration,r.infinite?i%=1:i=e.clamp(i),"ease-in"===r.type?i=Math.pow(i,2):"ease-out"===r.type?i=Math.sqrt(i):"ease-in-out"===r.type&&(i=i<=.5?2*Math.pow(i,2):1-2*Math.pow(1-i,2))),n(t,i,r),1===i?(a(t),!0):void 0)})})},_animationFrame:function(){var e=this,n=!0,r=!1,i=void 0;try{for(var o,a=this._animations[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=_slicedToArray(o.value,2),l=s[0],u=s[1];(u=u.filter(function(t){return!t()})).length?this._animations.set(l,u):this._animations.delete(l)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._animations.size?t.requestAnimationFrame(function(t){return e._animationFrame()}):this._animating=!1},_start:function(){this._animating||(this._animating=!0,this._animationFrame())},_stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._animations.has(t)){var n=this._animations.get(t),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){(0,a.value)(!0,e)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}this._animations.delete(t)}}}),Object.assign(r.prototype,{dropIn:function(t,e){return this.slideIn(t,_objectSpread({direction:"top"},e))},dropOut:function(t,e){return this.slideOut(t,_objectSpread({direction:"top"},e))},fadeIn:function(t,e){return this.animate(t,function(t,e){return r._setStyle(t,"opacity",e<1?e:"")},e)},fadeOut:function(t,e){return this.animate(t,function(t,e){return r._setStyle(t,"opacity",e<1?1-e:"")},e)},rotateIn:function(t,e){return this.animate(t,function(t,e,n){return r._setStyle(t,"transform",e<1?"rotate3d(".concat(n.x,", ").concat(n.y,", 0, ").concat((90-90*e)*(n.inverse?-1:1),"deg)"):"")},_objectSpread({x:0,y:1},e))},rotateOut:function(t,e){return this.animate(t,function(t,e,n){return r._setStyle(t,"transform",e<1?"rotate3d(".concat(n.x,", ").concat(n.y,", 0, ").concat(90*e*(n.inverse?-1:1),"deg)"):"")},_objectSpread({x:0,y:1},e))},slideIn:function(t,n){var i=this;return this.animate(t,function(t,n,o){var a;if(n<1){var s,l,u,c=e.isFunction(o.direction)?o.direction():o.direction;"top"===c||"bottom"===c?(s="Y",l=i._height(t),u="top"===c):(s="X",l=i._width(t),u="left"===c),a="translate".concat(s,"(").concat(Math.round(l-l*n)*(u?-1:1),"px)")}else a="";r._setStyle(t,"transform",a)},_objectSpread({direction:"bottom"},n))},slideOut:function(t,n){var i=this;return this.animate(t,function(t,n,o){var a;if(n<1){var s,l,u,c=e.isFunction(o.direction)?o.direction():o.direction;"top"===c||"bottom"===c?(s="Y",l=i._height(t),u="top"===c):(s="X",l=i._width(t),u="left"===c),a="translate".concat(s,"(").concat(Math.round(l*n)*(u?-1:1),"px)")}else a="";r._setStyle(t,"transform",a)},_objectSpread({direction:"bottom"},n))},squeezeIn:function(t,e){var n=this;t=this._nodeFilter(t),e=_objectSpread({},r.animationDefaults,{direction:"bottom"},e);var i=t.map(function(t){return n._squeezeIn(t,e)});return this._start(),Promise.all(i)},squeezeOut:function(t,e){var n=this;t=this._nodeFilter(t),e=_objectSpread({},r.animationDefaults,{direction:"bottom"},e);var i=t.map(function(t){return n._squeezeOut(t,e)});return this._start(),Promise.all(i)},_squeezeIn:function(t,n){var i=this,o=this.create("div",{style:{overflow:"hidden",position:"relative"}});this._wrap(t,o);var a=r._parent(t);return this._animate(t,function(t,n,o){if(1!==n){var s,l,u=e.isFunction(o.direction)?o.direction():o.direction;"top"===u||"bottom"===u?(s="height","top"===u&&(l="Y")):"left"!==u&&"right"!==u||(s="width","left"===u&&(l="X"));var c=Math.round(i["_".concat(s)](t)),f=Math.round(c*n);r._setStyle(a,s,f),l&&r._setStyle(a,"transform","translate".concat(l,"(").concat(c-f,"px)"))}else{var h=r._childNodes(a),d=e.wrap(h).shift();i._unwrap(d)}},n)},_squeezeOut:function(t,n){var i=this,o=this.create("div",{style:{overflow:"hidden",position:"relative"}});this._wrap(t,o);var a=r._parent(t);return this._animate(t,function(t,n,o){if(1!==n){var s,l,u=e.isFunction(o.direction)?o.direction():o.direction;"top"===u||"bottom"===u?(s="height","top"===u&&(l="Y")):"left"!==u&&"right"!==u||(s="width","left"===u&&(l="X"));var c=Math.round(i["_".concat(s)](t)),f=Math.round(c-c*n);r._setStyle(a,s,f),l&&r._setStyle(a,"transform","translate".concat(l,"(").concat(c-f,"px)"))}else{var h=r._childNodes(a),d=e.wrap(h).shift();i._unwrap(d)}},n)}}),Object.assign(r.prototype,{clearQueue:function(t){t=this._nodeFilter(t);var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._clearQueue(a)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}},queue:function(t,e){t=this._nodeFilter(t);var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._queue(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_clearQueue:function(t){this._queues.has(t)&&this._queues.delete(t)},_dequeueNode:function(t){var e=this;if(this._queues.has(t)){var n=this._queues.get(t).shift();n?Promise.resolve(n(t)).finally(function(n){return e._dequeueNode(t)}):this._queues.delete(t)}},_queue:function(t,e){var n=!this._queues.has(t);n&&this._queues.set(t,[]),this._queues.get(t).push(e),n&&this._dequeueNode(t)}}),Object.assign(r.prototype,{getAttribute:function(t,e){var n=this._nodeFind(t);if(n)return r._getAttribute(n,e)},getDataset:function(t,e){var n=this._nodeFind(t);if(n)return r._getDataset(n,e)},getHTML:function(t){return this.getProperty(t,"innerHTML")},getProperty:function(t,e){var n=this._nodeFind(t);if(n)return r._getProperty(n,e)},getText:function(t){return this.getProperty(t,"innerText")},getValue:function(t){return this.getProperty(t,"value")},removeAttribute:function(t,e){t=this._nodeFilter(t);var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r._removeAttribute(l,e)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},removeProperty:function(t,e){t=this._nodeFilter(t);var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r._removeProperty(l,e)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},setAttribute:function(t,e,n){t=this._nodeFilter(t);var i=r._parseData(e,n),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this._setAttribute(c,i)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},setDataset:function(t,e,n){t=this._nodeFilter(t);var i=r._parseData(e,n),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._setDataset(c,i)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty:function(t,e,n){t=this._nodeFilter(t);var i=r._parseData(e,n),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._setProperty(c,i)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},setValue:function(t,e){this.setProperty(t,"value",e)},_setAttribute:function(t,e){for(var n in e)r._setAttribute(t,n,e[n])}}),Object.assign(r.prototype,{cloneData:function(t,e){t=this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0,window:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._cloneData(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},getData:function(t,e){var n=this._nodeFind(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(n)return this._getData(n,e)},removeData:function(t,e){t=this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0,window:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._removeData(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},setData:function(t,e,n){t=this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0,window:!0});var i=r._parseData(e,n),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this._setData(c,i)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},_cloneData:function(t,e){this._data.has(t)&&this.setData(e,_objectSpread({},this._data.get(t)))},_getData:function(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData:function(t,e){if(this._data.has(t)){if(e){var n=this._data.get(t);if(delete n[e],Object.keys(n).length)return}this._data.delete(t)}},_setData:function(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(r.prototype,{center:function(t,e){var n=this.rect(t,e);if(n)return{x:n.left+n.width/2,y:n.top+n.height/2}},constrain:function(t,e){var n=this.rect(e);if(n){t=this._nodeFilter(t);var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this._constrain(l,n)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},distTo:function(t,n,r,i){var o=this.center(t,i);if(o)return e.dist(o.x,o.y,n,r)},distToNode:function(t,e){var n=this.center(e);if(n)return this.distTo(t,n.x,n.y)},nearestTo:function(t,e,n,r){var i=null,o=Number.MAX_VALUE;t=this._nodeFilter(t);var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,h=this.distTo(f,e,n,r);h&&h<o&&(o=h,i=f)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return i},nearestToNode:function(t,e){var n=this.center(e);if(n)return this.nearestTo(t,n.x,n.y)},percentX:function(t,n,r){var i=this.rect(t,r);if(i)return e.clampPercent((n-i.left)/i.width*100)},percentY:function(t,n,r){var i=this.rect(t,r);if(i)return e.clampPercent((n-i.top)/i.height*100)},position:function(t,e){var n=this._nodeFind(t);if(n)return this._position(n,e)},rect:function(t,e){var n=this._nodeFind(t);if(n)return this._rect(n,e)},_constrain:function(t,e){var n,r,i=this._rect(t),o={};i.height>e.height&&(o.height=e.height),i.width>e.width&&(o.width=e.width),i.left-e.left<0?n=i.left-e.left:i.right-e.right>0&&(n=i.right-e.right),n&&(o.left="".concat(parseFloat(this._css(t,"left"))-n,"px")),i.top-e.top<0?r=i.top-e.top:i.bottom-e.bottom>0&&(r=i.bottom-e.bottom),r&&(o.top="".concat(parseFloat(this._css(t,"top"))-r,"px")),this._setStyle(t,o)},_position:function(t,e){return this.forceShow(t,function(t){var n={x:t.offsetLeft,y:t.offsetTop};if(e)for(var r=t;r=r.offsetParent;)n.x+=r.offsetLeft,n.y+=r.offsetTop;return n})},_rect:function(e,n){return this.forceShow(e,function(e){var i=e.getBoundingClientRect();return n&&(i.x+=r._getScrollX(t),i.y+=r._getScrollY(t)),i})}}),Object.assign(r.prototype,{getScrollX:function(t){var n=this._nodeFind(t,{document:!0,window:!0});if(n)return e.isWindow(n)?r._getScrollXWindow(n):e.isDocument(n)?this._getScrollXDocument(n):r._getScrollX(n)},getScrollY:function(t){var n=this._nodeFind(t,{document:!0,window:!0});if(n)return e.isWindow(n)?r._getScrollYWindow(n):e.isDocument(n)?this._getScrollYDocument(n):r._getScrollY(n)},setScroll:function(t,n,i){t=this._nodeFilter(t,{document:!0,window:!0});var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.isWindow(c)?r._setScrollWindow(c,n,i):e.isDocument(c)?this._setScrollDocument(c,n,i):this._setScroll(c,n,i)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},setScrollX:function(t,n){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.isWindow(u)?this._setScrollXWindow(u,n):e.isDocument(u)?this._setScrollXDocument(u,n):r._setScrollX(u,n)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},setScrollY:function(t,n){t=this._nodeFilter(t,{document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.isWindow(u)?this._setScrollYWindow(u,n):e.isDocument(u)?this._setScrollYDocument(u,n):r._setScrollY(u,n)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},_getScrollXDocument:function(t){return r._getScrollX(r._scrollingElement(t))},_getScrollYDocument:function(t){return r._getScrollY(r._scrollingElement(t))},_setScroll:function(t,e,n){r._setScrollX(t,e),r._setScrollY(t,n)},_setScrollDocument:function(t,e,n){return this._setScroll(r._scrollingElement(t),e,n)},_setScrollXDocument:function(t,e){return r._setScrollX(r._scrollingElement(t),e)},_setScrollXWindow:function(t,e){return r._setScrollWindow(t,e,r._getScrollYWindow(t))},_setScrollYDocument:function(t,e){return r._setScrollY(r._scrollingElement(t),e)},_setScrollYWindow:function(t,e){return r._setScrollWindow(t,r._getScrollXWindow(t),e)}}),Object.assign(r.prototype,{height:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=this._nodeFind(t,{document:!0,window:!0});if(a)return e.isWindow(a)?r._heightWindow(a,n):e.isDocument(a)?this._height(r._documentElement(a),n,i,o):this._height(a,n,i,o)},width:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=this._nodeFind(t,{document:!0,window:!0});if(a)return e.isWindow(a)?r._widthWindow(a,n):e.isDocument(a)?this._width(r._documentElement(a),n,i,o):this._width(a,n,i,o)},_height:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this.forceShow(t,function(t){var o=t.clientHeight;return n||(o-=parseInt(e._css(t,"padding-top"))+parseInt(e._css(t,"padding-bottom"))),r&&(o+=parseInt(e._css(t,"border-top-width"))+parseInt(e._css(t,"border-bottom-width"))),i&&(o+=parseInt(e._css(t,"margin-top"))+parseInt(e._css(t,"margin-bottom"))),o})},_width:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this.forceShow(t,function(t){var o=t.clientWidth;return n||(o-=parseInt(e._css(t,"padding-left"))+parseInt(e._css(t,"padding-right"))),r&&(o+=parseInt(e._css(t,"border-left-width"))+parseInt(e._css(t,"border-right-width"))),i&&(o+=parseInt(e._css(t,"margin-left"))+parseInt(e._css(t,"margin-right"))),o})}}),Object.assign(r.prototype,{addClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t=this._nodeFilter(t),(n=r._parseClasses(n)).length){var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._addClass.apply(r,[c].concat(_toConsumableArray(n)))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}},css:function(t,e){var n=this._nodeFind(t);if(n)return this._css(n,e)},getStyle:function(t,n){var i=this._nodeFind(t);if(i)return n=e.snakeCase(n),r._getStyle(i,n)},hide:function(t){this.setStyle(t,"display","none")},removeClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t=this._nodeFilter(t),(n=r._parseClasses(n)).length){var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._removeClass.apply(r,[c].concat(_toConsumableArray(n)))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}},setStyle:function(t,e,n,i){t=this._nodeFilter(t);var o=r._parseData(e,n),a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;this._setStyle(f,o,i)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}},show:function(t){this.setStyle(t,"display","")},toggle:function(t){t=this._nodeFilter(t);var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;"none"===r._getStyle(s,"display")?r._setStyle(s,"display",""):r._setStyle(s,"display","none")}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},toggleClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t=this._nodeFilter(t),(n=r._parseClasses(n)).length){var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._toggleClass.apply(r,[c].concat(_toConsumableArray(n)))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}},_css:function(e,n){return this._styles.has(e)||this._styles.set(e,t.getComputedStyle(e)),n?this._styles.get(e).getPropertyValue(n):this._styles.get(e)},_setStyle:function(t,n,i){for(var o in n){var a=n[o];o=e.snakeCase(o),r._setStyle(t,o,a,i)}}}),Object.assign(r.prototype,{mouseDragFactory:function(n,r,i){var o=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r&&a&&(r=e.animation(r),i&&(i=e.animation(i))),function(e){if(n&&!1===n(e))return!1;r&&o._addEvent(t,"mousemove",r),(r||i)&&o._addEvent(t,"mouseup",function(e){r&&o._removeEvent(t,"mousemove",r),i&&i(e)},!1,!0)}},_delegateFactory:function(t,e,n){var i=e.match(r.complexRegex)?this._getDelegateContainsFactory(t,e):this._getDelegateMatchFactory(t,e);return function(e){if(!r._isSame(e.target,t)){var o=i(e.target);if(o)return e.delegateTarget=o,n(e)}}},_getDelegateContainsFactory:function(t,n){var i=this;return n=r._prefixSelectors(selectors,"#".concat(r._tempId)),function(o){var a=e.merge([],i.__findByCustom(n,t));return!!a.length&&(a.includes(o)?o:i._parents(o,function(t){return a.contains(t)},function(e){return r._isSame(t,e)},!0).shift())}},_getDelegateMatchFactory:function(t,e){var n=this;return function(i){return r._is(i,e)?i:n._parents(i,function(t){return r._is(t,e)},function(e){return r._isSame(t,e)},!0).shift()}},_selfDestructFactory:function(t,e,n,r){var i=this;return function o(a){return n?i._removeEvent(t,e,r,n):i._removeEvent(t,e,o),r(a)}}}),Object.assign(r.prototype,{blur:function(t){var e=this._nodeFind(t);e&&r._blur(e)},click:function(t){var e=this._nodeFind(t);e&&r._click(e)},focus:function(t){var e=this._nodeFind(t);e&&r._focus(e)},ready:function(e){"complete"!==this._context.readyState?this._addEvent(t,"DOMContentLoaded",e):e()}}),Object.assign(r.prototype,{addEvent:function(t,e,n){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this._addEvent(l,e,n)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}},addEventDelegate:function(t,e,n,r){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this._addEvent(u,e,r,n)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},addEventDelegateOnce:function(t,e,n,r){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this._addEvent(u,e,r,n,!0)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},addEventOnce:function(t,e,n){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this._addEvent(l,e,n,null,!0)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}},cloneEvents:function(t,e){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._cloneEvents(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},removeEvent:function(t,e,n){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this._removeEvent(l,e,n)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}},removeEventDelegate:function(t,e,n,r){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this._removeEvent(u,e,r,n)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},triggerEvent:function(t,e,n){t=this._nodeFilter(t,{shadow:!0,document:!0,window:!0}),e=r._parseEvents(e).map(function(t){return r._parseEvent(t)});var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=!0,f=!1,h=void 0;try{for(var d,_=e[Symbol.iterator]();!(c=(d=_.next()).done);c=!0){var v=d.value;r._triggerEvent(u,v,n)}}catch(t){f=!0,h=t}finally{try{c||null==_.return||_.return()}finally{if(f)throw h}}}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},_addEvent:function(t,e,n,i,o){var a=n;o&&(a=this._selfDestructFactory(t,e,i,a)),i&&(a=this._delegateFactory(t,i,a)),this._events.has(t)||this._events.set(t,{});var s=this._events.get(t),l={delegate:i,callback:n,realCallback:a,selfDestruct:o},u=!0,c=!1,f=void 0;try{for(var h,d=r._parseEvents(e)[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var _=h.value,v=r._parseEvent(_);if(l.event=_,l.realEvent=v,s[v]){if(s[v].includes(l))return}else s[v]=[];r._addEvent(t,v,a),s[v].push(l)}}catch(t){c=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}},_cloneEvents:function(t,e){if(this._events.has(t)){var n=this._events.get(t);for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=n[r][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.addEvent(e,u.event,u.callback,u.delegate,u.selfDestruct)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}}},_removeEvent:function(t,e,n,i){if(this._events.has(t)){var o=this._events.get(t),a=e?r._parseEvents(e):Object.keys(o),s=!0,l=!1,u=void 0;try{for(var c,f=function(){var e=c.value,a=r._parseEvent(e);if(!o[a])return{v:void 0};o[a]=o[a].filter(function(o){return!!(a===e&&a!==o.realEvent||a!==e&&e!==o.event||i&&(i!==o.delegate||n&&n!==o.callback)||!i&&n&&n!==o.realCallback)||(r._removeEvent(t,o.realEvent,o.realCallback),!1)}),o[a].length||delete o[a]},h=a[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var d=f();if("object"===_typeof(d))return d.v}}catch(t){l=!0,u=t}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}Object.keys(o).length||this._events.delete(t)}}}),Object.assign(r.prototype,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._nodeFind(t);if(n)return r._attachShadow(n,e)},create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=r._create(this._context,t);return n?("html"in n?r._setProperty(i,{innerHTML:n.html}):"text"in n&&r._setProperty(i,{innerText:n.text}),"class"in n&&r._addClass.apply(r,[i].concat(_toConsumableArray(r._parseClasses(e.wrap(n.class))))),"style"in n&&this._setStyle(i,n.style),"value"in n&&r._setProperty(i,{value:n.value}),"attributes"in n&&this._setAttribute(i,n.attributes),"properties"in n&&r._setProperty(i,n.properties),"dataset"in n&&r._setDataset(i,n.dataset),i):i},createComment:function(t){return r._createComment(this._context,t)},createFragment:function(){return r._createFragment(this._context)},createRange:function(){return r._createRange(this._context)},createText:function(t){return r._createText(this._context,t)},parseHTML:function(t){return e.wrap(r._children(this.createRange().createContextualFragment(t)))}}),Object.assign(r.prototype,{clone:function(t){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(t=this._nodeFilter(t,{node:!0,fragment:!0})).flatMap(function(t){return e.isShadow(t)?r._childNodes(t):t}).map(function(t){return n._clone(t,i,o,a)})},detach:function(t){t=this._nodeFilter(t,{node:!0});var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,l=r._parent(s);l&&r._removeChild(l,s)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},empty:function(t){t=this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0});var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._empty(a)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}},remove:function(t){t=this._nodeFilter(t,{node:!0});var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;this._empty(s),this._remove(s);var l=r._parent(s);l&&r._removeChild(l,s)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,e){t=this._nodeFilter(t,{node:!0,shadow:!0}),e=this._nodeFilter(e,{node:!0,fragment:!0,html:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._replaceWith(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_clone:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r._clone(t,e);return n||i?(n&&this._cloneEvents(t,o),i&&this._cloneData(t,o),e&&this._deepClone(t,o,n,i),o):o},_deepClone:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r._childNodes(t),a=r._childNodes(e),s=0;s<o.length;s++)n&&this._cloneEvents(o[s],a[s]),i&&this._cloneData(o[s],a[s]),this._deepClone(o[s],a[s])},_empty:function(t){var e=r._childNodes(t),n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;this._empty(l),this._remove(l)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}if(r._hasShadow(t)){var u=r._shadow(t);this._empty(u),this._remove(u)}if(r._hasFragment(t)){var c=r._fragment(t);this._empty(c),this._remove(c)}},_remove:function(t){r._triggerEvent(t,"remove"),e.isElement(t)&&(this._clearQueue(t),this._stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)},_replaceWith:function(t,e){var n=r._parent(t);if(n){var i=this.clone(e,!0),o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._insertBefore(n,c,t)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}this._remove(t)}}}),Object.assign(r.prototype,{after:function(t,e){var n=this._nodeFind(t,{node:!0,shadow:!0});if(n){var i=r._parent(n);if(i){e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0,html:!0});var o=!0,a=!1,s=void 0;try{for(var l,u=e.reverse()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._insertBefore(i,c,n.nextSibling)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}},append:function(t,e){var n=this._nodeFind(t,{fragment:!0,shadow:!0,document:!0});if(n){e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0,html:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r._insertBefore(n,u)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}},appendTo:function(t,e){this.append(e,t)},before:function(t,e){var n=this._nodeFind(t,{node:!0,shadow:!0});if(n){var i=r._parent(n);if(i){e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0,html:!0});var o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._insertBefore(i,c,n)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}},insertAfter:function(t,e){this.after(e,t)},insertBefore:function(t,e){this.before(e,t)},prepend:function(t,e){var n=this._nodeFind(t,{fragment:!0,shadow:!0,document:!0});if(n){e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0,html:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=e.reverse()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r._insertBefore(n,u,n.firstChild)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(r.prototype,{unwrap:function(t,e){t=this._nodeFilter(t,{node:!0}),e=this._parseFilter(e);var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._unwrap(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},wrap:function(t,e){t=this._nodeFilter(t,{node:!0}),e=this._nodeFilter(e,{fragment:!0,html:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._wrap(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},wrapAll:function(t,e){var n=(t=this._nodeFilter(t,{node:!0})).slice().shift();if(n){var i=r._parent(n);if(i){e=this._nodeFilter(e,{fragment:!0,html:!0});var o=this.clone(e,!0),a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;r._insertBefore(i,f,n)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=this._deepest(o.shift()),d=!0,_=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var g=y.value;r._insertBefore(h,g)}}catch(t){_=!0,v=t}finally{try{d||null==m.return||m.return()}finally{if(_)throw v}}}}},wrapInner:function(t,e){t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}),e=this._nodeFilter(e,{fragment:!0,html:!0});var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._wrapInner(s,e)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},_unwrap:function(t,e){var n=r._parent(t,e);if(n){var i=r._parent(n);if(n){var o=r._childNodes(n),a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;r._insertBefore(i,f,n)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}this._remove(n)}}},_wrap:function(t,e){var n=r._parent(t);if(n){var i=this.clone(e,!0),o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._insertBefore(n,c,t)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var f=this._deepest(i.shift());r._insertBefore(f,t)}},_wrapInner:function(t,e){var n=r._childNodes(t),i=this.clone(e,!0),o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._insertBefore(t,c)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var f=this._deepest(i.shift()),h=!0,d=!1,_=void 0;try{for(var v,y=n[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var m=v.value;r._insertBefore(f,m)}}catch(t){d=!0,_=t}finally{try{h||null==y.return||y.return()}finally{if(d)throw _}}}}),Object.assign(r.prototype,{connected:function(t){return this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t){return r._isConnected(t)})},equal:function(t,e){return e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0}),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t){return e.some(function(e){return r._isEqual(t,e)})})},filter:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t,n){return!e||e(t,n)})},filterOne:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).find(function(t,n){return!e||e(t,n)})||null},fixed:function(t){var n=this;return this._nodeFilter(t,{node:!0}).filter(function(t){return e.isElement(t)&&"fixed"===n._css(t,"position")||n._parents(t,function(t){return e.isElement(t)&&"fixed"===n._css(t,"position")},!1,!0).length})},hidden:function(t){var e=this;return this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0,window:!0}).filter(function(t){return!e._isVisible(t)})},not:function(t,e){return(e=this._parseFilter(e))?this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t,n){return!e(t,n)}):[]},same:function(t,e){return e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0}),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t){return e.some(function(e){return r._isSame(t,e)})})},visible:function(t){var e=this;return this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0,window:!0}).filter(function(t){return e._isVisible(t)})},withAnimation:function(t){var e=this;return this._nodeFilter(t).filter(function(t){return e._hasAnimation(t)})},withAttribute:function(t,e){return this._nodeFilter(t).filter(function(t){return r._hasAttribute(t,e)})},withChildren:function(t){return this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0}).filter(function(t){return r._hasChildren(t)})},withClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n=r._parseClasses(n),this._nodeFilter(t).filter(function(t){return n.some(function(e){return r._hasClass(t,e)})})},withData:function(t,e){var n=this;return this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter(function(t){return n._hasData(t,e)})},withDescendent:function(t,e){return e=this._parseFilterContains(e),this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0}).filter(function(t,n){return!e||e(t,n)})},withProperty:function(t,e){return this._nodeFilter(t).filter(function(t){return r._hasProperty(t,e)})},withTransition:function(t){var e=this;return this._nodeFilter(t).filter(function(t){return e._hasTransition(t)})}}),Object.assign(r.prototype,{find:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(r.fastRegex);return n?"#"===n[1]?this.findById(n[2],e):"."===n[1]?this.findByClass(n[2],e):this.findByTag(n[2],e):t.match(r.complexRegex)?this._findByCustom(t,e):this._findBySelector(t,e)},findByClass:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n)||e.isFragment(n)||e.isShadow(n))return e.merge([],r._findByClass(t,n));n=this._nodeFilter(n,{fragment:!0,shadow:!0,document:!0});var i=[],o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(i,r._findByClass(t,c))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n.length>1&&i.length>1?e.unique(i):i},findById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=this.findOneById(t,e);return n?[n]:[]},findByTag:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n)||e.isFragment(n)||e.isShadow(n))return e.merge([],r._findByTag(t,n));n=this._nodeFilter(n,{fragment:!0,shadow:!0,document:!0});var i=[],o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(i,r._findByTag(t,c))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n.length>1&&i.length>1?e.unique(i):i},findOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(r.fastRegex);return n?"#"===n[1]?this.findOneById(n[2],e):"."===n[1]?this.findOneByClass(n[2],e):this.findOneByTag(n[2],e):t.match(r.complexRegex)?this._findOneByCustom(t,e):this._findOneBySelector(t,e)},findOneByClass:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n)||e.isFragment(n)||e.isShadow(n))return r._findByClass(t,n).item(0);n=this._nodeFilter(n,{fragment:!0,shadow:!0,document:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=r._findByClass(t,u).item(0);if(c)return c}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null},findOneById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,i=r._findById(t,this._context);return i?e.isDocument(n)?i:e.isElement(n)?r._contains(n,i)?i:null:(n=r._nodeFilter(n)).some(function(t){return r._contains(t,i)})?i:null:null},findOneByTag:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n)||e.isFragment(n)||e.isShadow(n))return r._findByTag(t,n).item(0);n=this._nodeFilter(n,{fragment:!0,shadow:!0,document:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=r._findByTag(t,u).item(0);if(c)return c}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null},_findByCustom:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,i=r._prefixSelectors(t,"#".concat(r.tempId," ")),o=[];if(e.isElement(n))this.__findByCustom(i,n,o);else{n=this._nodeFilter(n);var a=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;this.__findByCustom(i,f,o)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}return(n.length>1||i.length>1)&&o.length>1?e.unique(o):o},_findBySelector:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n)||e.isFragment(n)||e.isShadow(n))return e.merge([],r._findBySelector(t,n));n=this._nodeFilter(n,{fragment:!0,shadow:!0,document:!0});var i=[],o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(i,r._findBySelector(t,c))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n.length>1&&i.length>1?e.unique(i):i},_findOneByCustom:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,i=r._prefixSelectors(t,"#".concat(r.tempId," "));if(e.isElement(n))return this.__findOneByCustom(i,n);n=this._nodeFilter(n);var o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,f=this.__findOneByCustom(i,c);if(f)return f}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return null},_findOneBySelector:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(n)||e.isElement(n)||e.isFragment(n)||e.isShadow(n))return r._findBySelector(t,n).item(0);n=this._nodeFilter(n,{fragment:!0,shadow:!0,document:!0});var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=r._findOneBySelector(t,u);if(c)return c}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null},__findByCustom:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=r._getAttribute(n,"id");r._setAttribute(n,"id",r.tempId);var a=r._parent(n),s=!0,l=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;e.merge(i,r._findBySelector(h,a))}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return o?r._setAttribute(n,"id",o):r._removeAttribute(n,"id"),i},__findOneByCustom:function(t,e){var n=r._getAttribute(e,"id");r._setAttribute(e,"id",r.tempId);var i=r._parent(e);if(!i)return null;var o=null,a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;if(o=r._findOneBySelector(f,i))break}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return n?r._setAttribute(e,"id",n):r._removeAttribute(e,"id"),o}}),Object.assign(r.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n=this._parseFilter(n),e.isElement(t)||e.isDocument(t)||e.isFragment(t)||e.isShadow(t))return this._children(t,n,r,i);t=this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0});var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,this._children(f,n,r,i))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return t.length>1&&o.length>1?e.unique(o):o},closest:function(t,e,n){return this.parents(t,e,n,!0)},commonAncestor:function(t){if((t=this.sort(t)).length){var e=this.createRange();return 1===t.length?r._select(e,t.shift()):(r._setStartBefore(e,t.shift()),r._setEndAfter(e,t.pop())),e.commonAncestorContainer}},contents:function(t){return this.children(t,!1,!1,!1)},fragment:function(t){var e=this._nodeFind(t);if(e)return r._fragment(e)},next:function(t,n){if(n=this._parseFilter(n),e.isNode(t)||e.isFragment(t)||e.isShadow(t))return this._next(t,n);t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0});var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.merge(r,this._next(u,n))}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return t.length>1&&r.length>1?e.unique(r):r},nextAll:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n=this._parseFilter(n),r=this._parseFilter(r),e.isNode(t)||e.isFragment(t)||e.isShadow(t))return this._nextAll(t,n,r,i);t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0});var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,this._nextAll(f,n,r,i))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return t.length>1&&o.length>1?e.unique(o):o},offsetParent:function(t){return this.forceShow(t,function(t){return t.offsetParent})},parent:function(t,n){if(n=this._parseFilter(n),e.isNode(t))return this._parent(t,n);t=this._nodeFilter(t,{node:!0});var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.merge(r,this._parent(u,n))}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return t.length>1&&r.length>1?e.unique(r):r},parents:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n=this._parseFilter(n),r=this._parseFilter(r),e.isNode(t))return this._parents(t,n,r,i);t=this._nodeFilter(t,{node:!0});var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,this._parents(f,n,r,i))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return t.length>1&&o.length>1?e.unique(o):o},prev:function(t,n){if(n=this._parseFilter(n),e.isNode(t)||e.isFragment(t)||e.isShadow(t))return this._prev(t,n);t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0});var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.merge(r,this._prev(u,n))}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return t.length>1&&r.length>1?e.unique(r):r},prevAll:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n=this._parseFilter(n),r=this._parseFilter(r),e.isNode(t)||e.isFragment(t)||e.isShadow(t))return this._prevAll(t,n,r,i);t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0});var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,this._prevAll(f,n,r,i))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return t.length>1&&o.length?e.unique(o):o},shadow:function(t){var e=this._nodeFind(t);if(e)return r._shadow(e)},siblings:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n=this._parseFilter(n),e.isNode(t)||e.isFragment(t)||e.isShadow(t))return this._siblings(t,n,r);t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0});var i=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(i,this._siblings(c,n,r))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t.length>1&&i.length>1?e.unique(i):i},_children:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?r._children(t):r._childNodes(t),a=[],s=!0,l=!1,u=void 0;try{for(var c,f=o[Symbol.iterator]();!(s=(c=f.next()).done)&&(n=c.value,e&&!e(n)||(a.push(n),!i));s=!0);}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return a},_deepest:function(t){return e.merge([],r._findBySelector("*",t)).find(function(t){return!r._hasChildren(t)})||t},_next:function(t,e){var n=[];return(t=r._next(t))?e&&!e(t)?n:(n.push(t),n):n},_nextAll:function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(t=r._next(t))&&(!n||!n(t))&&(e&&!e(t)||(o.push(t),!i)););return o},_parent:function(t,e){var n=[],i=r._parent(t);return i?e&&!e(i)?n:(n.push(i),n):n},_parents:function(t,n,i){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[];(t=r._parent(t))&&!e.isDocument(t)&&(!i||!i(t))&&(n&&!n(t)||(a.push(t),!o)););return a},_prev:function(t,e){var n=[];return(t=r._prev(t))?e&&!e(t)?n:(n.push(t),n):n},_prevAll:function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(t=r._prev(t))&&(!n||!n(t))&&(e&&!e(t)||(o.push(t),!i)););return o},_siblings:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],o=r._parent(t);if(!o)return i;var a,s=n?o.children:o.childNodes,l=!0,u=!1,c=void 0;try{for(var f,h=s[Symbol.iterator]();!(l=(f=h.next()).done);l=!0)a=f.value,r._isSame(t,a)||e&&!e(a)||i.push(a)}catch(t){u=!0,c=t}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return i}}),Object.assign(r.prototype,{_nodeFilter:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t))return"html"in n&&n.html&&"<"===t.trim().charAt(0)?this.parseHTML(t):this.find(t,"context"in n?n.context:this._context);var r=this._nodeFilterFactory(n);return r(t)?[t]:e.wrap(t).filter(r)},_nodeFilterFactory:function(t){return t?function(n){return(t.node?e.isNode(n):e.isElement(n))||t.fragment&&e.isFragment(n)||t.shadow&&e.isShadow(n)||t.document&&e.isDocument(n)||t.window&&e.isWindow(n)}:e.isElement},_nodeFind:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t)){if("html"in n&&n.html&&"<"===t.trim().charAt(0))return this.parseHTML(t).shift();var r=this.findOne(t,"context"in n?n.context:this._context);return r||null}var i=this._nodeFilterFactory(n);if(i(t))return t;var o=e.wrap(t).slice().shift();return o&&i(o)?o:null},_parseFilter:function(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return r._is(e,t)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return r._isSame(e,t)}:!!(t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.includes(e)})},_parseFilterContains:function(t){var n=this;return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return!!n.findOne(t,e)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return r._contains(e,t)}:!!(t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.some(function(t){return r._contains(e,t)})})}}),Object.assign(r.prototype,{afterSelection:function(t){t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0,html:!0});var e=r._getSelection();if(e.rangeCount){var n=r._getRange(e);r._removeRanges(e),r._collapse(n);var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r._insert(n,u)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}},beforeSelection:function(t){t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0,html:!0});var e=r._getSelection();if(e.rangeCount){var n=r._getRange(e);r._removeRanges(e);var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r._insert(n,u)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}},extractSelection:function(){var t=r._getSelection();if(!t.rangeCount)return[];var n=r._getRange(t);r._removeRanges(t);var i=r._extract(n);return e.merge([],r._childNodes(i))},getSelection:function(){var t=r._getSelection();if(!t.rangeCount)return[];var n=r._getRange(t),i=e.merge([],r._findBySelector("*",n.commonAncestorContainer));if(!i.length)return[n.commonAncestorContainer];if(1===i.length)return i;var o=e.isElement(n.startContainer)?n.startContainer:r._parent(n.startContainer).shift(),a=e.isElement(n.endContainer)?n.endContainer:r._parent(n.endContainer).shift();return i.slice(i.indexOf(o),i.indexOf(a)+1)},select:function(t){var e=this._nodeFind(t,{node:!0,fragment:!0,shadow:!0});if(e&&"select"in e)return e.select();var n=r._getSelection();if(n.rangeCount>0&&r._removeRanges(n),e){var i=this.createRange();r._select(i,e),r._addRange(n,i)}},selectAll:function(t){t=this.sort(t);var e=r._getSelection();if(e.rangeCount&&r._removeRanges(e),t.length){var n=this.createRange();1==t.length?r._select(n,t.shift()):(r._setStartBefore(n,t.shift()),r._setEndAfter(n,t.pop())),r._addRange(e,n)}},wrapSelection:function(n){n=this._nodeFilter(n,{fragment:!0,html:!0});var i=t.getSelection();if(i.rangeCount){var o=i.getRangeAt(0);i.removeAllRanges();var a=r._extract(o),s=this._deepest(n.slice().shift()),l=e.merge([],r._childNodes(a)),u=!0,c=!1,f=void 0;try{for(var h,d=l[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var _=h.value;r._insertBefore(s,_)}}catch(t){c=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}var v=!0,y=!1,m=void 0;try{for(var g,p=n[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){var w=g.value;r._insert(o,w)}}catch(t){y=!0,m=t}finally{try{v||null==p.return||p.return()}finally{if(y)throw m}}}}}),Object.assign(r.prototype,{hasAnimation:function(t){var e=this;return this._nodeFilter(t).some(function(t){return e._hasAnimation(t)})},hasAttribute:function(t,e){return this._nodeFilter(t).some(function(t){return r._hasAttribute(t,e)})},hasChildren:function(t){return this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0}).some(function(t){return r._hasChildren(t)})},hasClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n=r._parseClasses(n),this._nodeFilter(t).some(function(t){return n.some(function(e){return r._hasClass(t,e)})})},hasData:function(t,e){var n=this;return this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some(function(t){return n._hasData(t,e)})},hasDescendent:function(t,e){return e=this._parseFilterContains(e),this._nodeFilter(t,{fragment:!0,shadow:!0,document:!0}).some(function(t){return!e||e(t)})},hasFragment:function(t){return this._nodeFilter(t).some(function(t){return r._hasFragment(t)})},hasProperty:function(t,e){return this._nodeFilter(t).some(function(t){return r._hasProperty(t,e)})},hasShadow:function(t){return this._nodeFilter(t).some(function(t){return r._hasFragment(t)})},hasTransition:function(t){var e=this;return this._nodeFilter(t).some(function(t){return e._hasTransition(t)})},is:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return!e||e(t)})},isConnected:function(t){return this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return r._isConnected(t)})},isEqual:function(t,e){return e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0}),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return e.some(function(e){return r._isEqual(t,e)})})},isFixed:function(t){var n=this;return this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return e.isElement(t)&&"fixed"===n._css(t,"position")||n._parents(t,function(t){return"fixed"===n._css(t,"position")},!1,!0).length})},isHidden:function(t){var e=this;return this._nodeFilter(t,{node:!0,document:!0,window:!0}).some(function(t){return!e._isVisible(t)})},isSame:function(t,e){return e=this._nodeFilter(e,{node:!0,fragment:!0,shadow:!0}),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return e.some(function(e){return r._isSame(t,e)})})},isVisible:function(t){var e=this;return this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).some(function(t){return e._isVisible(t)})},_hasAnimation:function(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasData:function(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_hasTransiton:function(t){return!!parseFloat(this._css(t,"transition-duration"))},_isVisible:function(t){return e.isWindow(t)?r._isVisibleWindow(t):e.isDocument(t)?r._isVisibleDocument(t):r._isVisible(t)}}),Object.assign(r.prototype,{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(t,!1,e)},forceShow:function(t,n){var i=this,o=this._nodeFind(t,{node:!0,document:!0,window:!0});if(o){if(e.isDocument(o)||e.isWindow(o)||r._isVisible(o))return n(o);var a=[];e.isElement(o)&&"none"===this._css(o,"display")&&a.push(o),e.merge(a,this._parents(o,function(t){return e.isElement(t)&&"none"===i._css(t,"display")}));for(var s=new Map,l=0,u=a;l<u.length;l++){var c=u[l];s.set(c,r._getAttribute(c,"style")),r._setStyle(c,"display","initial",!0)}var f=n(o),h=!0,d=!1,_=void 0;try{for(var v,y=s[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var m=_slicedToArray(v.value,2),g=m[0],p=m[1];p?r._setAttribute(g,"style",p):r._removeAttribute(g,"style")}}catch(t){d=!0,_=t}finally{try{h||null==y.return||y.return()}finally{if(d)throw _}}return f}},index:function(t,e){return e=this._parseFilter(e),this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).findIndex(function(t){return!e||e(t)})},indexOf:function(t){var e=this._nodeFind(t,{node:!0});if(e)return r._children(r._parent(e).shift()).indexOf(e)},normalize:function(t){t=this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0,document:!0});var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;r._normalize(s)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},serialize:function(t){return r._parseParams(this.serializeArray(t))},serializeArray:function(t){var n=this;return this._nodeFilter(t,{fragment:!0,shadow:!0}).reduce(function(t,i){if(r._is(i,"form")||e.isFragment(i)||e.isShadow(i))return t.concat(n.serializeArray(r._findBySelector("input, select, textarea",i)));if(r._is(i,"[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;var o=r._getAttribute(i,"name");if(!o)return t;var a=r._getAttribute(i,"value")||"";return t.push({name:o,value:a}),t},[])},sort:function(t){return this._nodeFilter(t,{node:!0,fragment:!0,shadow:!0}).sort(function(t,e){if(r._isSame(t,e))return 0;var n=r._comparePosition(t,e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0})}}),Object.assign(r,{_getAttribute:function(t,e){return t.getAttribute(e)},_getDataset:function(t,e){return e?t.dataset[e]:t.dataset},_getProperty:function(t,e){return t[e]},_removeAttribute:function(t,e){t.removeAttribute(e)},_removeProperty:function(t,e){delete t[e]},_setAttribute:function(t,e,n){t.setAttribute(e,n)},_setDataset:function(t,e){Object.assign(t.dataset,e)},_setProperty:function(t,e){Object.assign(t,e)}}),Object.assign(r,{_getScrollX:function(t){return t.scrollLeft},_getScrollXWindow:function(t){return t.scrollX},_getScrollY:function(t){return t.scrollTop},_getScrollYWindow:function(t){return t.scrollY},_setScrollWindow:function(t,e,n){return t.scroll(e,n)},_setScrollX:function(t,e){t.scrollLeft=e},_setScrollY:function(t,e){t.scrollTop=e}}),Object.assign(r,{_height:function(t){return t.clientHeight},_heightWindow:function(t,e){return e?t.outerHeight:t.innerHeight},_width:function(t){return t.clientWidth},_widthWindow:function(t,e){return e?t.outerWeight:t.innerWidth}}),Object.assign(r,{_addClass:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=t.classList).add.apply(e,r)},_removeClass:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=t.classList).remove.apply(e,r)},_toggleClass:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=t.classList).toggle.apply(e,r)},_getStyle:function(t,e){return e?t.style[e]:t.style},_setStyle:function(t,n,r,i){r&&e.isNumeric(r)&&!this.cssNumberProperties.includes(n)&&(r+="px"),t.style.setProperty(n,r,i?"important":"")}}),Object.assign(r,{_blur:function(t){t.blur()},_click:function(t){t.click()},_focus:function(t){t.focus()}}),Object.assign(r,{_addEvent:function(t,e,n){t.addEventListener(e,n)},_removeEvent:function(t,e,n){t.removeEventListener(e,n)},_triggerEvent:function(t,e,n){var r=new Event(e);n&&Object.assign(r,n),t.dispatchEvent(r)}}),Object.assign(r,{_parseClasses:function(t){return t.flat().flatMap(function(t){return t.split(" ")})},_parseData:function(t,n){return e.isObject(t)?t:_defineProperty({},t,n)},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_parseFormData:function(t){var n=new FormData;if(e.isArray(t)){var r={},i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r[u.name]=u.value}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}t=r}return this._parseFormValues(t,n),n},_parseFormValues:function(t,n,r){var i;for(i in t){var o=t[i];if(r&&(i="".concat(r,"[").concat(i,"]")),e.isPlainObject(o))this._parseFormValues(o,n,i);else if(e.isArray(o)){var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;n.append(i,f)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}else n.set(i,o)}},_parseParams:function(t){var n=this,r=[];return e.isArray(t)?r=t.map(function(t){return n._parseParam(t.name,t.value)}):e.isObject(t)&&(r=Object.keys(t).map(function(e){return n._parseParam(e,t[e])})),r.flatMap(encodeURI).join("&")},_parseParam:function(t,n){var r=this;return e.isArray(n)?n.map(function(e){return r._parseParam(t,e)}).flat():e.isObject(n)?Object.keys(n).map(function(e){return r._parseParam(t+"["+e+"]",n[e])}).flat():t+"="+n},_prefixSelectors:function(t,e){return t.split(this.splitRegex).filter(function(t){return!!t}).map(function(t){return"".concat(e," ").concat(t)})}}),Object.assign(r,{_attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attachShadow({mode:e?"open":"closed"})},_clone:function(t,e){return t.cloneNode(e)},_create:function(t,e){return t.createElement(e)},_createComment:function(t,e){return t.createCommentNode(e)},_createFragment:function(t){return t.createDocumentFragment()},_createRange:function(t){return t.createRange()},_createText:function(t,e){return t.createTextNode(e)}}),Object.assign(r,{_detach:function(t){var e=r._parent(t);e||this._removeChild(e,t)},_removeChild:function(t,e){t.removeChild(e)}}),Object.assign(r,{_insertBefore:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.insertBefore(e,n)}}),Object.assign(r,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(r,{_findByClass:function(t,e){return e.getElementsByClassName(t)},_findById:function(t,e){return e.getElementById(t)},_findByTag:function(t,e){return e.getElementsByTagName(t)},_findBySelector:function(t,e){return e.querySelectorAll(t)},_findOneBySelector:function(t,e){return e.querySelector(t)}}),Object.assign(r,{_childNodes:function(t){return t.childNodes},_children:function(t){return t.children},_documentElement:function(t){return t.documentElement},_fragment:function(t){return t.content},_next:function(t){return t.nextSibling},_parent:function(t){return t.parentNode},_prev:function(t){return t.previousSibling},_scrollingElement:function(t){return t.scrollingElement},_shadow:function(t){return t.shadowRoot}}),Object.assign(r,{_addRange:function(t,e){t.addRange(e)},_collapse:function(t){t.collapse()},_extract:function(t){return t.extractContents()},_getRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getRangeAt(e)},_getSelection:function(){return t.getSelection()},_insert:function(t,e){t.insertNode(e)},_removeRanges:function(t){t.removeAllRanges()},_select:function(t,e){t.selectNode(e)},_setEndAfter:function(t,e){t.setEndAfter(e)},_setStartBefore:function(t,e){t.setStartBefore(e)}}),Object.assign(r,{_contains:function(t,e){return t.contains(e)},_hasAttribute:function(t,e){return t.hasAttribute(e)},_hasChildren:function(t){return!!t.childElementCount},_hasClass:function(t,e){return t.classList.contains(e)},_hasFragment:function(t){return!!t.content},_hasProperty:function(t,e){return t.hasOwnProperty(e)},_hasShadow:function(t){return!!t.shadowRoot},_is:function(t,n){return e.isElement(t)&&t.matches(n)},_isConnected:function(t){return t.isConnected},_isEqual:function(t,e){return t.isEqualNode(e)},_isSame:function(t,e){return t.isSameNode(e)},_isVisible:function(t){return!!t.offsetParent},_isVisibleDocument:function(t){return"visible"===t.visibilityState},_isVisibleWindow:function(t){return this._isVisibleDocument(t.document)}}),Object.assign(r,{_comparePosition:function(t,e){return t.compareDocumentPosition(e)},_normalize:function(t){t.normalize()}}),Object.assign(r,{ajaxDefaults:{beforeSend:!1,cache:!0,contentType:"application/x-www-form-urlencoded",data:!1,method:"GET",processData:!0},animationDefaults:{duration:1e3,type:"ease-in-out",infinite:!1},cssNumberProperties:["font-weight","line-height","opacity","orphans","widows","z-index"],complexRegex:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,fastRegex:/^([\#\.]?)([\w\-]+)$/,localRegex:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,splitRegex:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/,tempId:"frost"+Date.now().toString(16)}),{DOM:r,dom:new r}});