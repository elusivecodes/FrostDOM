"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(void 0,e(void 0))}(0,function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");var e=t.Core,r=t.document,n=function(){function r(n){var i=this;if(_classCallCheck(this,r),this._settings=e.extend({},r.defaults,n),this._settings.url||(this._settings.url=t.location),!this._settings.cache){var o=new URL(this._settings.url);o.searchParams.append("_",Date.now()),this._settings.url=o.toString()}"Content-Type"in this._settings.headers||!this._settings.contentType||(this._settings.headers["Content-Type"]=this._settings.contentType),this._isLocal=r._localRegExp.test(location.protocol),this._isLocal||"X-Requested-With"in this._settings.headers||(this._settings.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._promise=new Promise(function(t,e){i._resolve=function(e){i._isResolved=!0,t(e)},i._reject=function(t){i._isRejected=!0,e(t)}}),this._build(),this._events(),this._send()}return _createClass(r,[{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request was cancelled";this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._settings.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:t}))}},{key:"catch",value:function(t){return this._promise.catch(t)}},{key:"finally",value:function(t){return this._promise.finally(t)}},{key:"then",value:function(t,e){return this._promise.then(t,e)}}]),r}();Object.assign(n.prototype,{_build:function(){for(var t in this._xhr=new XMLHttpRequest,this._xhr.open(this._settings.method,this._settings.url,!0),this._settings.headers)this._xhr.setRequestHeader(t,this._settings.headers[t]);this._settings.responseType&&(this._xhr.responseType=this._settings.responseType)},_events:function(){var t=this;this._xhr.onload=function(e){t._xhr.status>400?t._reject({status:t._xhr.status,xhr:t._xhr,event:e}):t._resolve({response:t._xhr.response,xhr:t._xhr,event:e})},this._isLocal||(this._xhr.onerror=function(e){return t._reject({status:t._xhr.status,xhr:t._xhr,event:e})}),this._settings.onProgress&&(this._xhr.onprogress=function(e){return t._settings.onProgress(e.loaded/e.total,t._xhr,e)}),this._settings.onUploadProgress&&(this._xhr.upload.onprogress=function(e){return t._settings.onUploadProgress(e.loaded/e.total,t._xhr,e)})},_send:function(){this._settings.beforeSend&&this._settings.beforeSend(this._xhr),this._settings.data&&this._settings.processData&&("application/json"===this._settings.contentType?this._settings.data=JSON.stringify(this._settings.data):"application/x-www-form-urlencoded"===this._settings.contentType?this._settings.data=n._parseParams(this._settings.data):this._settings.data=n._parseFormData(this._settings.data)),this._xhr.send(this._settings.data),this._settings.afterSend&&this._settings.afterSend(this._xhr)}}),Object.assign(n,{_parseFormData:function(t){var r=new FormData;if(e.isArray(t)){var n={},i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;n[u.name]=u.value}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}t=n}return this._parseFormValues(t,r),r},_parseFormValues:function(t,r,n){var i;for(i in t){var o=t[i];if(n&&(i="".concat(n,"[").concat(i,"]")),e.isPlainObject(o))this._parseFormValues(o,r,i);else if(e.isArray(o)){var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;r.append(i,f)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}else r.set(i,o)}},_parseParam:function(t,r){var n=this;return e.isArray(r)?r.map(function(e){return n._parseParam(t,e)}).flat():e.isObject(r)?Object.keys(r).map(function(e){return n._parseParam("".concat(t,"[").concat(e,"]"),r[e])}).flat():"".concat(t,"=").concat(r)},_parseParams:function(t){var r=this,n=[];return e.isArray(t)?n=t.map(function(t){return r._parseParam(t.name,t.value)}):e.isObject(t)&&(n=Object.keys(t).map(function(e){return r._parseParam(e,t[e])})),n.flatMap(encodeURI).join("&")}}),Object.assign(n,{defaults:{afterSend:!1,beforeSend:!1,cache:!0,contentType:"application/x-www-form-urlencoded",data:!1,headers:{},method:"GET",onProgress:!1,onUploadProgress:!1,processData:!0,rejectOnCancel:!0,responseType:!1,url:!1},_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(n.prototype,Promise.prototype);var i=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;_classCallCheck(this,t),this._context=e};Object.assign(i.prototype,{ajax:function(t){return new n(t)},delete:function(t,e){return new n(_objectSpread({url:t,method:"DELETE"},e))},get:function(t,e){return new n(_objectSpread({url:t},e))},patch:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"PATCH"},r))},post:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"POST"},r))},put:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"PUT"},r))},upload:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"POST",contentType:!1},r))}}),Object.assign(i.prototype,{loadScript:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new n({url:e,cache:r}).then(function(e){return eval.call(t,e.response)})},loadScripts:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(e.map(function(t){return new n({url:t,cache:r})})).then(function(e){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;eval.call(t,s.response)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}})}}),Object.assign(i.prototype,{loadStyle:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new n({url:t,cache:r}).then(function(t){return o.insertBefore(e._context.head,e.create("style",{html:t.response}))})},loadStyles:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map(function(t){return new n({url:t,cache:r})})).then(function(t){var r=!0,n=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;o.insertBefore(e._context.head,e.create("style",{html:l.response}))}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}})}}),Object.assign(i.prototype,{getCookie:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=decodeURIComponent(this._context.cookie).split(";").find(function(e){return e.trimStart().substring(0,t.length)===t});if(!r)return null;var n=r.trimStart().substring(t.length+1);return e?JSON.parse(n):n},removeCookie:function(t,e){this.setCookie(t,"",_objectSpread({expires:-1},e))},setCookie:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){n&&(e=JSON.stringify(e));var i="".concat(t,"=").concat(e);if(r){if(r.expires){var o=new Date;o.setTime(o.getTime()+1e3*r.expires),i+=";expires=".concat(o.toUTCString())}r.path&&(i+=";path=".concat(r.path)),r.secure&&(i+=";secure")}this._context.cookie=i}}}),Object.assign(i.prototype,{animate:function(t,e,r){t=this.parseNodes(t),r=_objectSpread({},i.animationDefaults,{},r);var n=t.map(function(t){return i._animate(t,e,r)});return i._start(),Promise.all(n)},stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=this.parseNodes(t);var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._stop(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}}),Object.assign(i.prototype,{dropIn:function(t,e){return this.slideIn(t,_objectSpread({direction:"top"},e))},dropOut:function(t,e){return this.slideOut(t,_objectSpread({direction:"top"},e))},fadeIn:function(t,e){return this.animate(t,function(t,e){return o.setStyle(t,"opacity",e<1?e:"")},e)},fadeOut:function(t,e){return this.animate(t,function(t,e){return o.setStyle(t,"opacity",e<1?1-e:"")},e)},rotateIn:function(t,e){return this.animate(t,function(t,e,r){return o.setStyle(t,"transform",e<1?"rotate3d(".concat(r.x,", ").concat(r.y,", 0, ").concat((90-90*e)*(r.inverse?-1:1),"deg)"):"")},_objectSpread({x:0,y:1},e))},rotateOut:function(t,e){return this.animate(t,function(t,e,r){return o.setStyle(t,"transform",e<1?"rotate3d(".concat(r.x,", ").concat(r.y,", 0, ").concat(90*e*(r.inverse?-1:1),"deg)"):"")},_objectSpread({x:0,y:1},e))},slideIn:function(t,r){return this.animate(t,function(t,r,n){if(1===r)return o.setStyle(t,"overflow",""),void(n.useGpu?o.setStyle(t,"transform",""):(o.setStyle(t,"margin-left",""),o.setStyle(t,"margin-top","")));var a,s,l,u=e.isFunction(n.direction)?n.direction():n.direction;"top"===u||"bottom"===u?(a=n.useGpu?"Y":"margin-top",s=i._height(t),l="top"===u):(a=n.useGpu?"X":"margin-left",s=i._width(t),l="left"===u);var c=(s-s*r)*(l?-1:1);n.useGpu?o.setStyle(t,"transform","translate".concat(a,"(").concat(c,"px)")):o.setStyle(t,a,"".concat(c,"px"))},_objectSpread({direction:"bottom",useGpu:!0},r))},slideOut:function(t,r){return this.animate(t,function(t,r,n){if(1===r)return o.setStyle(t,"overflow",""),void(n.useGpu?o.setStyle(t,"transform",""):(o.setStyle(t,"margin-left",""),o.setStyle(t,"margin-top","")));var a,s,l,u=e.isFunction(n.direction)?n.direction():n.direction;"top"===u||"bottom"===u?(a=n.useGpu?"Y":"margin-top",s=i._height(t),l="top"===u):(a=n.useGpu?"X":"margin-left",s=i._width(t),l="left"===u);var c=s*r*(l?-1:1);n.useGpu?o.setStyle(t,"transform","translate".concat(a,"(").concat(c,"px)")):o.setStyle(t,a,"".concat(c,"px"))},_objectSpread({direction:"bottom",useGpu:!0},r))},squeezeIn:function(t,r){t=this.parseNodes(t),r=_objectSpread({},i.animationDefaults,{direction:"bottom",useGpu:!0},r);var n=t.map(function(t){var n=o.getStyle(t,"height"),a=o.getStyle(t,"width");return o.setStyle(t,"overflow","hidden"),i._animate(t,function(t,r,s){if(o.setStyle(t,"height",n),o.setStyle(t,"width",a),1===r)return o.setStyle(t,"overflow",""),void(s.useGpu?o.setStyle(t,"transform",""):(o.setStyle(t,"margin-left",""),o.setStyle(t,"margin-top","")));var l,u,c=e.isFunction(s.direction)?s.direction():s.direction;"top"===c||"bottom"===c?(l="height","top"===c&&(u=s.useGpu?"Y":"margin-top")):"left"!==c&&"right"!==c||(l="width","left"===c&&(u=s.useGpu?"X":"margin-left"));var f=i["_".concat(l)](t),h=f*r;if(o.setStyle(t,l,"".concat(h,"px")),u){var d=f-h;s.useGpu?o.setStyle(t,"transform","translate".concat(u,"(").concat(d,"px)")):o.setStyle(t,u,"".concat(d,"px"))}},r)});return i._start(),Promise.all(n)},squeezeOut:function(t,r){t=this.parseNodes(t),r=_objectSpread({},i.animationDefaults,{direction:"bottom",useGpu:!0},r);var n=t.map(function(t){var n=o.getStyle(t,"height"),a=o.getStyle(t,"width");return o.setStyle(t,"overflow","hidden"),i._animate(t,function(t,r,s){if(o.setStyle(t,"height",n),o.setStyle(t,"width",a),1===r)return o.setStyle(t,"overflow",""),void(s.useGpu?o.setStyle(t,"transform",""):(o.setStyle(t,"margin-left",""),o.setStyle(t,"margin-top","")));var l,u,c=e.isFunction(s.direction)?s.direction():s.direction;"top"===c||"bottom"===c?(l="height","top"===c&&(u=s.useGpu?"Y":"margin-top")):"left"!==c&&"right"!==c||(l="width","left"===c&&(u=s.useGpu?"X":"margin-left"));var f=i["_".concat(l)](t),h=f-f*r;if(o.setStyle(t,l,"".concat(h,"px")),u){var d=f-h;s.useGpu?o.setStyle(t,"transform","translate".concat(u,"(").concat(d,"px)")):o.setStyle(t,u,"".concat(d,"px"))}},r)});return i._start(),Promise.all(n)}}),Object.assign(i.prototype,{clearQueue:function(t){t=this.parseNodes(t);var e=!0,r=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;i._clearQueue(s)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}},queue:function(t,e){t=this.parseNodes(t);var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._queue(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}}),Object.assign(i.prototype,{getAttribute:function(t,e){var r=this.parseNode(t);if(r)return i._getAttribute(r,e)},getDataset:function(t,e){var r=this.parseNode(t);if(r)return i._getDataset(r,e)},getHTML:function(t){return this.getProperty(t,"innerHTML")},getProperty:function(t,e){var r=this.parseNode(t);if(r)return o.getProperty(r,e)},getText:function(t){return this.getProperty(t,"innerText")},getValue:function(t){return this.getProperty(t,"value")},removeAttribute:function(t,e){t=this.parseNodes(t);var r=!0,n=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;o.removeAttribute(l,e)}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}},removeDataset:function(t,e){t=this.parseNodes(t);var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._removeDataset(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}},removeProperty:function(t,e){t=this.parseNodes(t);var r=!0,n=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;o.removeProperty(l,e)}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}},setAttribute:function(t,e,r){t=this.parseNodes(t);var n=i._parseData(e,r),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i._setAttribute(c,n)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},setDataset:function(t,e,r){t=this.parseNodes(t);var n=i._parseData(e,r,!0),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i._setDataset(c,n)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty:function(t,e,r){t=this.parseNodes(t);var n=i._parseData(e,r),a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;for(var h in n)o.setProperty(f,h,n[h])}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},setValue:function(t,e){this.setProperty(t,"value",e)}}),Object.assign(i.prototype,{cloneData:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=!0,c=!1,f=void 0;try{for(var h,d=e[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var v=h.value;i._cloneData(l,v)}}catch(t){c=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}},getData:function(t,e){var r=this.parseNode(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(r)return i._getData(r,e)},removeData:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._removeData(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}},setData:function(t,e,r){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});var n=i._parseData(e,r),o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i._setData(c,n)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}),Object.assign(i.prototype,{center:function(t,e){var r=this.rect(t,e);if(r)return{x:r.left+r.width/2,y:r.top+r.height/2}},constrain:function(t,e){var r=this.rect(e);if(r){t=this.parseNodes(t);var n=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;i._constrain(u,r)}}catch(t){o=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}}},distTo:function(t,r,n,i){var o=this.center(t,i);if(o)return e.dist(o.x,o.y,r,n)},distToNode:function(t,e){var r=this.center(e);if(r)return this.distTo(t,r.x,r.y)},nearestTo:function(t,e,r,n){var i=null,o=Number.MAX_VALUE;t=this.parseNodes(t);var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,h=this.distTo(f,e,r,n);h&&h<o&&(o=h,i=f)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return i},nearestToNode:function(t,e){var r=this.center(e);if(r)return this.nearestTo(t,r.x,r.y)},percentX:function(t,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.rect(t,n);if(o){var a=(r-o.left)/o.width*100;return i?e.clampPercent(a):a}},percentY:function(t,r,n){var i=this.rect(t,n);if(i){var o=(r-i.top)/i.height*100;return clamp?e.clampPercent(o):o}},position:function(t,e){var r=this.parseNode(t);if(r)return i._position(r,e)},rect:function(t,e){var r=this.parseNode(t);if(r)return i._rect(r,e)}}),Object.assign(i.prototype,{getScrollX:function(t){var r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?o.getScrollXWindow(r):e.isDocument(r)?i._getScrollXDocument(r):o.getScrollX(r)},getScrollY:function(t){var r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?o.getScrollYWindow(r):e.isDocument(r)?i._getScrollYDocument(r):o.getScrollY(r)},setScroll:function(t,r,n){t=this.parseNodes(t,{document:!0,window:!0});var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.isWindow(f)?o.setScrollWindow(f,r,n):e.isDocument(f)?i._setScrollDocument(f,r,n):i._setScroll(f,r,n)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}},setScrollX:function(t,r){t=this.parseNodes(t,{document:!0,window:!0});var n=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;e.isWindow(c)?i._setScrollXWindow(c,r):e.isDocument(c)?i._setScrollXDocument(c,r):o.setScrollX(c,r)}}catch(t){a=!0,s=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw s}}},setScrollY:function(t,r){t=this.parseNodes(t,{document:!0,window:!0});var n=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;e.isWindow(c)?i._setScrollYWindow(c,r):e.isDocument(c)?i._setScrollYDocument(c,r):o.setScrollY(c,r)}}catch(t){a=!0,s=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw s}}}}),Object.assign(i.prototype,{height:function(t,r,n,a){var s=this.parseNode(t,{document:!0,window:!0});if(s)return e.isWindow(s)?o.heightWindow(s,!e.isUndefined(r)&&r):e.isDocument(s)?i._height(o.documentElement(s),!!e.isUndefined(r)||r,n,a):i._height(s,r,n,a)},width:function(t,r,n,a){var s=this.parseNode(t,{document:!0,window:!0});if(s)return e.isWindow(s)?o.widthWindow(s,!e.isUndefined(r)&&r):e.isDocument(s)?i._width(o.documentElement(s),!!e.isUndefined(r)||r,n,a):i._width(s,r,n,a)}}),Object.assign(i.prototype,{addClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=i._parseClasses(r)).length){var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;o.addClass.apply(o,[f].concat(_toConsumableArray(r)))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},css:function(t,e){var r=this.parseNode(t);if(r)return i._css(r,e)},getStyle:function(t,e){var r=this.parseNode(t);if(r)return i._getStyle(r,e)},hide:function(t){this.setStyle(t,"display","none")},removeClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=i._parseClasses(r)).length){var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;o.removeClass.apply(o,[f].concat(_toConsumableArray(r)))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},setStyle:function(t,e,r,n){t=this.parseNodes(t);var o=i._parseData(e,r),a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;i._setStyle(f,o,n)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}},show:function(t){this.setStyle(t,"display","")},toggle:function(t){t=this.parseNodes(t);var e=!0,r=!1,n=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;"none"===o.getStyle(s,"display")?o.setStyle(s,"display",""):o.setStyle(s,"display","none")}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}},toggleClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=i._parseClasses(r)).length){var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;o.toggleClass.apply(o,[f].concat(_toConsumableArray(r)))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}}}),Object.assign(i.prototype,{mouseDragFactory:function(r,n,o){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n&&a&&(n=e.animation(n),o&&(o=e.animation(o))),function(e){if(r&&!1===r(e))return!1;n&&i._addEvent(t,"mousemove",n),(n||o)&&i._addEvent(t,"mouseup",function(e){n&&i._removeEvent(t,"mousemove",n),o&&o(e)},!1,!0)}}}),Object.assign(i.prototype,{blur:function(t){var e=this.parseNode(t);e&&o.blur(e)},click:function(t){var e=this.parseNode(t);e&&o.click(e)},focus:function(t){var e=this.parseNode(t);e&&o.focus(e)},ready:function(e){"complete"!==this._context.readyState?i._addEvent(t,"DOMContentLoaded",e):e()}}),Object.assign(i.prototype,{addEvent:function(t,e,r,n,o){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0});var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,h=!0,d=!1,v=void 0;try{for(var p,y=i._parseEvents(e)[Symbol.iterator]();!(h=(p=y.next()).done);h=!0){var m=p.value;i._addEvent(f,m,r,n,o)}}catch(t){d=!0,v=t}finally{try{h||null==y.return||y.return()}finally{if(d)throw v}}}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}},addEventDelegate:function(t,e,r,n){this.addEvent(t,e,n,r)},addEventDelegateOnce:function(t,e,r,n){this.addEvent(t,e,n,r,!0)},addEventOnce:function(t,e,r){this.addEvent(t,e,r,null,!0)},cloneEvents:function(t,e){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{shadow:!0,document:!0,window:!0});var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=!0,c=!1,f=void 0;try{for(var h,d=e[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var v=h.value;i._cloneEvents(l,v)}}catch(t){c=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}},removeEvent:function(t,e,r,n){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=!!e&&i._parseEvents(e);var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(i._events.has(c))if(e){var f=!0,h=!1,d=void 0;try{for(var v,p=e[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var y=v.value;i._removeEvent(c,y,r,n)}}catch(t){h=!0,d=t}finally{try{f||null==p.return||p.return()}finally{if(h)throw d}}}else i._removeEvent(c,e,r,n)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}},removeEventDelegate:function(t,e,r,n){this.removeEvent(t,e,n,r)},triggerEvent:function(t,e,r,n){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=i._parseEvents(e);var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,f=!0,h=!1,d=void 0;try{for(var v,p=e[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var y=v.value;i._triggerEvent(c,y,r,n)}}catch(t){h=!0,d=t}finally{try{f||null==p.return||p.return()}finally{if(h)throw d}}}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}),Object.assign(i.prototype,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.parseNode(t);if(r)return o.attachShadow(r,e)},create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1?arguments[1]:void 0,n=o.create(this._context,t);return r?("html"in r?o.setProperty(n,"innerHTML",r.html):"text"in r&&o.setProperty(n,"innerText",r.text),"class"in r&&o.addClass.apply(o,[n].concat(_toConsumableArray(i._parseClasses(e.wrap(r.class))))),"style"in r&&i._setStyle(n,r.style),"value"in r&&o.setProperty(n,"value",r.value),"attributes"in r&&i._setAttribute(n,r.attributes),"properties"in r&&i._setProperty(n,r.properties),"dataset"in r&&i._setDataset(n,r.dataset),n):n},createComment:function(t){return o.createComment(this._context,t)},createFragment:function(){return o.createFragment(this._context)},createRange:function(){return o.createRange(this._context)},createText:function(t){return o.createText(this._context,t)},parseHTML:function(t){return e.wrap(o.children(this.createRange().createContextualFragment(t)))}}),Object.assign(i.prototype,{clone:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(t=this.parseNodes(t,{node:!0,fragment:!0})).map(function(t){return i._clone(t,e,r,n)})},detach:function(t){t=this.parseNodes(t,{node:!0});var e=!0,r=!1,n=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,l=o.parent(s);l&&o.removeChild(l,s)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}},empty:function(t){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0});var e=!0,r=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;i._empty(s)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}},remove:function(t){t=this.parseNodes(t,{node:!0});var e=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var l=a.value,u=o.parent(l);u&&(i._remove(l),o.removeChild(u,l))}}catch(t){r=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._replaceWith(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}}),Object.assign(i.prototype,{after:function(t,e){var r=this.parseNode(t,{node:!0});if(r){var n=o.parent(r);if(n){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var i=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;o.insertBefore(n,c,o.next(r))}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}}},append:function(t,e){var r=this.parseNode(t,{fragment:!0,shadow:!0,document:!0});if(r){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var n=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;o.insertBefore(r,u)}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}}},appendTo:function(t,e){this.append(e,t)},before:function(t,e){var r=this.parseNode(t,{node:!0});if(r){var n=o.parent(r);if(n){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var i=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;o.insertBefore(n,c,r)}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}}},insertAfter:function(t,e){this.after(e,t)},insertBefore:function(t,e){this.before(e,t)},prepend:function(t,e){var r=this.parseNode(t,{fragment:!0,shadow:!0,document:!0});if(r){var n=o.firstChild(r);e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var i=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;o.insertBefore(r,c,n)}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(i.prototype,{unwrap:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseFilter(e);var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._unwrap(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}},wrap:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._wrap(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}},wrapAll:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r=this.clone(e,!0);i._wrapAll(t,r)},wrapInner:function(t,e){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i._wrapInner(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}}),Object.assign(i.prototype,{connected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t){return o.isConnected(t)})},equal:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t){return e.some(function(e){return o.isEqual(t,e)})})},filter:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t,r){return!e||e(t,r)})},filterOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find(function(t,r){return!e||e(t,r)})||null},fixed:function(t){return this.parseNodes(t,{node:!0}).filter(function(t){return e.isElement(t)&&"fixed"===i._css(t,"position")||i._parents(t,function(t){return e.isElement(t)&&"fixed"===i._css(t,"position")},!1,!0).length})},hidden:function(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter(function(t){return!i._isVisible(t)})},not:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t,r){return e&&!e(t,r)})},notOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find(function(t,r){return e&&!e(t,r)})},same:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(function(t){return e.some(function(e){return o.isSame(t,e)})})},visible:function(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter(function(t){return i._isVisible(t)})},withAnimation:function(t){return this.parseNodes(t).filter(function(t){return i._hasAnimation(t)})},withAttribute:function(t,e){return this.parseNodes(t).filter(function(t){return o.hasAttribute(t,e)})},withChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter(function(t){return o.hasChildren(t)})},withClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r=i._parseClasses(r),this.parseNodes(t).filter(function(t){return r.some(function(e){return o.hasClass(t,e)})})},withCSSAnimation:function(t){return this.parseNodes(t).filter(function(t){return i._hasCSSAnimation(t)})},withCSSTransition:function(t){return this.parseNodes(t).filter(function(t){return i._hasCSSTransition(t)})},withData:function(t,e){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter(function(t){return i._hasData(t,e)})},withDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter(function(t,r){return!e||e(t,r)})},withProperty:function(t,e){return this.parseNodes(t).filter(function(t){return o.hasProperty(t,e)})}}),Object.assign(i.prototype,{find:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(i._fastRegExp);if(n)return"#"===n[1]?this.findById(n[2],r):"."===n[1]?this.findByClass(n[2],r):this.findByTag(n[2],r);if(t.match(i._complexRegExp)){var a=i._prefixSelectors(t,"#".concat(i._tempId," "));return e.isElement(r)?i.__findByCustom(a,r):(r=this.parseNodes(r),i._findByCustom(a,r))}return e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?e.wrap(o.findBySelector(t,r)):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),i._findBySelector(t,r))},findByClass:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return e.wrap(o.findByClass(t,r));r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0});var n=[],i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;e.merge(n,o.findByClass(t,c))}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return r.length>1&&n.length>1?e.unique(n):n},findById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,r=this.findOneById(t,e);return r?[r]:[]},findByTag:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return e.wrap(o.findByTag(t,r));r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0});var n=[],i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;e.merge(n,o.findByTag(t,c))}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return r.length>1&&n.length>1?e.unique(n):n},findOne:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(i._fastRegExp);if(n)return"#"===n[1]?this.findOneById(n[2],r):"."===n[1]?this.findOneByClass(n[2],r):this.findOneByTag(n[2],r);if(t.match(i._complexRegExp)){var a=i._prefixSelectors(t,"#".concat(i._tempId," "));return e.isElement(r)?i.__findOneByCustom(a,r):(r=this.parseNodes(r),i._findOneByCustom(a,r))}return e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?o.findOneBySelector(t,r):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),i._findOneBySelector(t,r))},findOneByClass:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return o.findByClass(t,r).item(0);r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0});var n=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value,c=o.findByClass(t,u).item(0);if(c)return c}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return null},findOneById:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=o.findById(t,this._context);return n?e.isDocument(r)?n:e.isElement(r)?o.contains(r,n)?n:null:(r=this.parseNodes(r)).some(function(t){return o.contains(t,n)})?n:null:null},findOneByTag:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return o.findByTag(t,r).item(0);r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0});var n=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value,c=o.findByTag(t,u).item(0);if(c)return c}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return null}}),Object.assign(i.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r=this.parseFilter(r),e.isElement(t)||e.isDocument(t)||e.isFragment(t)||e.isShadow(t))return i._children(t,r,n,o);t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0});var a=[],s=!0,l=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;e.merge(a,i._children(h,r,n,o))}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return t.length>1&&a.length>1?e.unique(a):a},closest:function(t,e,r){return this.parents(t,e,r,!0)},commonAncestor:function(t){if((t=this.sort(t)).length){var e=this.createRange();return 1===t.length?o.select(e,t.shift()):(o.setStartBefore(e,t.shift()),o.setEndAfter(e,t.pop())),e.commonAncestorContainer}},contents:function(t){return this.children(t,!1,!1,!1)},fragment:function(t){var e=this.parseNode(t);if(e)return o.fragment(e)},next:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return i._next(t,r);t=this.parseNodes(t,{node:!0});var n=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(n,i._next(c,r))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t.length>1&&n.length>1?e.unique(n):n},nextAll:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return i._nextAll(t,r,n,o);t=this.parseNodes(t,{node:!0});var a=[],s=!0,l=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;e.merge(a,i._nextAll(h,r,n,o))}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return t.length>1&&a.length>1?e.unique(a):a},offsetParent:function(t){return this.forceShow(t,function(t){return o.offsetParent(t)})},parent:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return i._parent(t,r);t=this.parseNodes(t,{node:!0});var n=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(n,i._parent(c,r))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t.length>1&&n.length>1?e.unique(n):n},parents:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return i._parents(t,r,n,o);t=this.parseNodes(t,{node:!0});var a=[],s=!0,l=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;e.merge(a,i._parents(h,r,n,o))}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return t.length>1&&a.length>1?e.unique(a):a},prev:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return i._prev(t,r);t=this.parseNodes(t,{node:!0});var n=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;e.merge(n,i._prev(c,r))}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t.length>1&&n.length>1?e.unique(n):n},prevAll:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return i._prevAll(t,r,n,o);t=this.parseNodes(t,{node:!0});var a=[],s=!0,l=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;e.merge(a,i._prevAll(h,r,n,o))}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return t.length>1&&a.length?e.unique(a):a},shadow:function(t){var e=this.parseNode(t);if(e)return o.shadow(e)},siblings:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=this.parseFilter(r),e.isNode(t))return i._siblings(t,r,n);t=this.parseNodes(t,{node:!0});var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e.merge(o,i._siblings(f,r,n))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return t.length>1&&o.length>1?e.unique(o):o}}),Object.assign(i.prototype,{parseFilter:function(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return o.is(e,t)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return o.isSame(e,t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.includes(e)})},parseFilterContains:function(t){var r=this;return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return!!r.findOne(t,e)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return o.contains(e,t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.some(function(t){return o.contains(e,t)})})},parseNode:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t)){if("html"in r&&r.html&&"<"===t.trim().charAt(0))return this.parseHTML(t).shift();var n=this.findOne(t,"context"in r?r.context:this._context);return n||null}var o=i.parseNodesFactory(r);if(o(t))return t;var a=e.wrap(t).slice().shift();return a&&o(a)?a:null},parseNodes:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t))return"html"in r&&r.html&&"<"===t.trim().charAt(0)?this.parseHTML(t):this.find(t,"context"in r?r.context:this._context);var n=i.parseNodesFactory(r);return n(t)?[t]:e.wrap(t).filter(n)}}),Object.assign(i.prototype,{afterSelection:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var e=o.getSelection();if(o.rangeCount(e)){var r=o.getRange(e);o.removeRanges(e),o.collapse(r);var n=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;o.insert(r,u)}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}}},beforeSelection:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var e=o.getSelection();if(o.rangeCount(e)){var r=o.getRange(e);o.removeRanges(e);var n=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;o.insert(r,u)}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}}},extractSelection:function(){var t=o.getSelection();if(!o.rangeCount(t))return[];var r=o.getRange(t);o.removeRanges(t);var n=o.extract(r);return e.wrap(o.childNodes(n))},getSelection:function(){var t=o.getSelection();if(!o.rangeCount(t))return[];var r=o.getRange(t),n=e.wrap(o.findBySelector("*",r.commonAncestorContainer));if(!n.length)return[r.commonAncestorContainer];if(1===n.length)return n;var i=o.startContainer(r),a=o.endContainer(r),s=e.isElement(i)?i:o.parent(i),l=e.isElement(a)?a:o.parent(a);return n.slice(n.indexOf(s),n.indexOf(l)+1)},select:function(t){var e=this.parseNode(t,{node:!0,fragment:!0,shadow:!0});if(e&&"select"in e)return e.select();var r=o.getSelection();if(o.rangeCount(r)>0&&o.removeRanges(r),e){var n=this.createRange();o.select(n,e),o.addRange(r,n)}},selectAll:function(t){t=this.sort(t);var e=o.getSelection();if(o.rangeCount(e)&&o.removeRanges(e),t.length){var r=this.createRange();1==t.length?o.select(r,t.shift()):(o.setStartBefore(r,t.shift()),o.setEndAfter(r,t.pop())),o.addRange(e,r)}},wrapSelection:function(t){t=this.parseNodes(t,{fragment:!0,html:!0});var r=o.getSelection();if(o.rangeCount(r)){var n=o.getRange(r);o.removeRanges(r);var a=o.extract(n),s=i._deepest(t.slice().shift()),l=e.wrap(o.childNodes(a)),u=!0,c=!1,f=void 0;try{for(var h,d=l[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var v=h.value;o.insertBefore(s,v)}}catch(t){c=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}var p=!0,y=!1,m=void 0;try{for(var g,_=t[Symbol.iterator]();!(p=(g=_.next()).done);p=!0){var w=g.value;o.insert(n,w)}}catch(t){y=!0,m=t}finally{try{p||null==_.return||_.return()}finally{if(y)throw m}}}}}),Object.assign(i.prototype,{hasAnimation:function(t){return this.parseNodes(t).some(function(t){return i._hasAnimation(t)})},hasAttribute:function(t,e){return this.parseNodes(t).some(function(t){return o.hasAttribute(t,e)})},hasChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some(function(t){return o.hasChildren(t)})},hasClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r=i._parseClasses(r),this.parseNodes(t).some(function(t){return r.some(function(e){return o.hasClass(t,e)})})},hasCSSAnimation:function(t){return this.parseNodes(t).some(function(t){return i._hasCSSAnimation(t)})},hasCSSTransition:function(t){return this.parseNodes(t).some(function(t){return i._hasCSSTransition(t)})},hasData:function(t,e){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some(function(t){return i._hasData(t,e)})},hasDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some(function(t){return!e||e(t)})},hasFragment:function(t){return this.parseNodes(t).some(function(t){return i._hasFragment(t)})},hasProperty:function(t,e){return this.parseNodes(t).some(function(t){return o.hasProperty(t,e)})},hasShadow:function(t){return this.parseNodes(t).some(function(t){return i._hasShadow(t)})},is:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return!e||e(t)})},isConnected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return o.isConnected(t)})},isEqual:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return e.some(function(e){return o.isEqual(t,e)})})},isFixed:function(t){return this.parseNodes(t,{node:!0}).some(function(t){return e.isElement(t)&&"fixed"===i._css(t,"position")||i._parents(t,function(t){return e.isElement(t)&&"fixed"===i._css(t,"position")},!1,!0).length})},isHidden:function(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).some(function(t){return!i._isVisible(t)})},isSame:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(function(t){return e.some(function(e){return o.isSame(t,e)})})},isVisible:function(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).some(function(t){return i._isVisible(t)})}}),Object.assign(i.prototype,{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(t,!1,e)},forceShow:function(t,e){var r=this.parseNode(t,{node:!0,document:!0,window:!0});if(r)return i._forceShow(r,e)},index:function(t){var r=this.parseNode(t,{node:!0});if(r)return e.wrap(o.children(o.parent(r))).indexOf(r)},indexOf:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).findIndex(function(t){return!e||e(t)})},normalize:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0});var e=!0,r=!1,n=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;o.normalize(s)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}},sanitize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.allowedTags,r=this.create("template",{html:t}),n=o.fragment(r),a=o.children(n),s=!0,l=!1,u=void 0;try{for(var c,f=a[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;i._sanitize(h,n,e)}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return this.getHTML(r)},serialize:function(t){return n._parseParams(this.serializeArray(t))},serializeArray:function(t){var r=this;return this.parseNodes(t,{fragment:!0,shadow:!0}).reduce(function(t,n){if(o.is(n,"form")||e.isFragment(n)||e.isShadow(n))return t.concat(r.serializeArray(o.findBySelector("input, select, textarea",n)));if(o.is(n,"[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;var i=o.getAttribute(n,"name");if(!i)return t;var a=o.getAttribute(n,"value")||"";return t.push({name:i,value:a}),t},[])},sort:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).sort(function(t,e){if(o.isSame(t,e))return 0;var r=o.comparePosition(t,e);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0})},tagName:function(t){var e=this.parseNode(t);if(e)return o.tagName(e)}}),Object.assign(i,{_animate:function(t,r,n){var o=this;i._hasAnimation(t)||this._animations.set(t,[]);var a=performance.now();return new Promise(function(i,s){o._animations.get(t).push(function(){var o,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l&&!u?(s(t),!0):(u?o=1:(o=(performance.now()-a)/n.duration,n.infinite?o%=1:o=e.clamp(o),"ease-in"===n.type?o=Math.pow(o,2):"ease-out"===n.type?o=Math.sqrt(o):"ease-in-out"===n.type&&(o=o<=.5?2*Math.pow(o,2):1-2*Math.pow(1-o,2))),r(t,o,n),1===o?(i(t),!0):void 0)})})},_animationFrame:function(){var e=this,r=!0,n=!1,i=void 0;try{for(var o,a=this._animations[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=_slicedToArray(o.value,2),l=s[0],u=s[1];(u=u.filter(function(t){return!t()})).length?this._animations.set(l,u):this._animations.delete(l)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}this._animations.size?t.requestAnimationFrame(function(t){return e._animationFrame()}):this._animating=!1},_start:function(){this._animating||(this._animating=!0,this._animationFrame())},_stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i._hasAnimation(t)){var r=this._animations.get(t),n=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){(0,s.value)(!0,e)}}catch(t){o=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}this._animations.delete(t)}}}),Object.assign(i,{_clearQueue:function(t){this._queues.has(t)&&this._queues.delete(t)},_dequeueNode:function(t){var e=this;if(this._queues.has(t)){var r=this._queues.get(t).shift();r?Promise.resolve(r(t)).finally(function(r){return e._dequeueNode(t)}):this._queues.delete(t)}},_queue:function(t,e){var r=!this._queues.has(t);r&&this._queues.set(t,[]),this._queues.get(t).push(e),r&&this._dequeueNode(t)}}),Object.assign(i,{_getAttribute:function(t,e){if(e)return o.getAttribute(t,e);var r=o.attributes(t),n={},i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;n[c.nodeName]=c.nodeValue}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return n},_getDataset:function(t,r){if(r)return r=e.camelCase(r),i._parseDataset(o.getDataset(t,r));var n=o.dataset(t),a={};for(var s in n)a[s]=i._parseDataset(n[s]);return a},_removeDataset:function(t,r){r=e.camelCase(r),o.removeDataset(t,r)},_setAttribute:function(t,e){for(var r in e)o.setAttribute(t,r,e[r])},_setDataset:function(t,r){for(var n in r){var i=e.camelCase(n);o.setDataset(t,i,r[n])}}}),Object.assign(i,{_cloneData:function(t,e){this._data.has(t)&&this._setData(e,_objectSpread({},this._data.get(t)))},_getData:function(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData:function(t,e){if(this._data.has(t)){if(e){var r=this._data.get(t);if(delete r[e],Object.keys(r).length)return}this._data.delete(t)}},_setData:function(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(i,{_constrain:function(t,e){var r,n,i=this._rect(t),o={};i.height>e.height&&(o.height=e.height),i.width>e.width&&(o.width=e.width),i.left-e.left<0?r=i.left-e.left:i.right-e.right>0&&(r=i.right-e.right),r&&(o.left="".concat(parseFloat(this._css(t,"left"))-r,"px")),i.top-e.top<0?n=i.top-e.top:i.bottom-e.bottom>0&&(n=i.bottom-e.bottom),n&&(o.top="".concat(parseFloat(this._css(t,"top"))-n,"px")),this._setStyle(t,o)},_position:function(t,e){return this._forceShow(t,function(t){var r={x:o.offsetLeft(t),y:o.offsetTop(t)};if(e)for(var n=t;n=o.offsetParent(n);)r.x+=o.offsetLeft(n),r.y+=o.offsetTop(n);return r})},_rect:function(e,r){return this._forceShow(e,function(e){var n=o.rect(e);return r&&(n.x+=o.getScrollXWindow(t),n.y+=o.getScrollYWindow(t)),n})}}),Object.assign(i,{_getScrollXDocument:function(t){return o.getScrollX(o.scrollingElement(t))},_getScrollYDocument:function(t){return o.getScrollY(o.scrollingElement(t))},_setScroll:function(t,e,r){o.setScrollX(t,e),o.setScrollY(t,r)},_setScrollDocument:function(t,e,r){return this._setScroll(o.scrollingElement(t),e,r)},_setScrollXDocument:function(t,e){return o.setScrollX(o.scrollingElement(t),e)},_setScrollXWindow:function(t,e){return o.setScrollWindow(t,e,o.getScrollYWindow(t))},_setScrollYDocument:function(t,e){return o.setScrollY(o.scrollingElement(t),e)},_setScrollYWindow:function(t,e){return o.setScrollWindow(t,o.getScrollXWindow(t),e)}}),Object.assign(i,{_height:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this._forceShow(t,function(t){var a=o.height(t);return r||(a-=parseInt(e._css(t,"padding-top"))+parseInt(e._css(t,"padding-bottom"))),n&&(a+=parseInt(e._css(t,"border-top-width"))+parseInt(e._css(t,"border-bottom-width"))),i&&(a+=parseInt(e._css(t,"margin-top"))+parseInt(e._css(t,"margin-bottom"))),a})},_width:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this._forceShow(t,function(t){var a=o.width(t);return r||(a-=parseInt(e._css(t,"padding-left"))+parseInt(e._css(t,"padding-right"))),n&&(a+=parseInt(e._css(t,"border-left-width"))+parseInt(e._css(t,"border-right-width"))),i&&(a+=parseInt(e._css(t,"margin-left"))+parseInt(e._css(t,"margin-right"))),a})}}),Object.assign(i,{_css:function(t,r){return this._styles.has(t)||this._styles.set(t,o.css(t)),r?(r=e.snakeCase(r),this._styles.get(t).getPropertyValue(r)):_objectSpread({},this._styles.get(t))},_getStyle:function(t,r){if(r)return r=e.snakeCase(r),o.getStyle(t,r);var n=o.style(t),i={},a=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;i[f]=o.getStyle(t,f)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return i},_setStyle:function(t,r,n){for(var i in r){var a=r[i];i=e.snakeCase(i),a&&e.isNumeric(a)&&!this.cssNumberProperties.includes(i)&&(a+="px"),o.setStyle(t,i,a,n)}}}),Object.assign(i,{_delegateFactory:function(t,r,n){var a=r.match(i._complexRegExp)?this._getDelegateContainsFactory(t,r):this._getDelegateMatchFactory(t,r);return function(r){if(!o.isSame(r.target,t)){var i=a(r.target);if(i){var s={},l=function(t){s[t]=e.isFunction(r[t])?function(){return r[t].apply(r,arguments)}:r[t]};for(var u in r)l(u);return s.currentTarget=i,s.delegateTarget=t,s.originalEvent=r,Object.freeze(s),n(s)}}}},_getDelegateContainsFactory:function(t,e){var r=this;return e=i._prefixSelectors(selectors,"#".concat(i._tempId)),function(n){var i=r.__findByCustom(e,t);return!!i.length&&(i.includes(n)?n:r._parents(n,function(t){return i.includes(t)},function(e){return o.isSame(t,e)},!0).shift())}},_getDelegateMatchFactory:function(t,e){var r=this;return function(n){return o.is(n,e)?n:r._parents(n,function(t){return o.is(t,e)},function(e){return o.isSame(t,e)},!0).shift()}},_namespaceFactory:function(t,e){return function(r){if(!("namespaceRegExp"in r)||r.namespaceRegExp.test(t))return e(r)}},_selfDestructFactory:function(t,e,r,n){var i=this;return function(o){return r?i._removeEvent(t,e,n,r):i._removeEvent(t,e,n),n(o)}}}),Object.assign(i,{_addEvent:function(t,e,r,n,i){this._events.has(t)||this._events.set(t,{});var a=this._events.get(t),s={delegate:n,callback:r,selfDestruct:i},l=this._parseEvent(e),u=r;if(i&&(u=this._selfDestructFactory(t,e,n,u)),n&&(u=this._delegateFactory(t,n,u)),e!==l&&(u=this._namespaceFactory(e,u)),s.realCallback=u,s.event=e,s.realEvent=l,a[l]){if(a[l].includes(s))return}else a[l]=[];a[l].push(s),o.addEvent(t,l,u)},_cloneEvents:function(t,e){if(this._events.has(t)){var r=this._events.get(t);for(var n in r){var i=!0,o=!1,a=void 0;try{for(var s,l=r[n][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this._addEvent(e,u.event,u.callback,u.delegate,u.selfDestruct)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}}},_removeEvent:function(t,e,r,n){if(this._events.has(t)){var a=this._events.get(t);if(e){var s=this._parseEvent(e);a[s]&&(a[s]=a[s].filter(function(a){if(n&&n!==a.delegate||r&&r!==a.callback)return!0;if(s!==e){var l=i._eventNamespacedRegExp(e);if(!a.event.match(l))return!0}return o.removeEvent(t,a.realEvent,a.realCallback),!1}),a[s].length||delete a[s],Object.keys(a).length||this._events.delete(t))}else for(var l=0,u=Object.keys(a);l<u.length;l++){var c=u[l];this._removeEvent(t,c,r,n)}}},_triggerEvent:function(t,e,r,n){var a=i._parseEvent(e),s=_objectSpread({},r);return a!==e&&(s.namespace=e.substring(a.length+1),s.namespaceRegExp=i._eventNamespacedRegExp(e)),o.triggerEvent(t,a,s,n)}}),Object.assign(i,{_eventNamespacedRegExp:function(t){return new RegExp("^".concat(e.escapeRegExp(t),"(?:\\.|$)"),"i")},_parseClasses:function(t){return t.flat().flatMap(function(t){return t.split(" ")})},_parseData:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.isObject(t)?t:_defineProperty({},t,r),o={};for(var a in i){var s=i[a];o[a]=n&&(e.isObject(s)||e.isArray(s))?JSON.stringify(s):s}return o},_parseDataset:function(t){if(e.isUndefined(t))return t;var r=t.toLowerCase().trim();if(["true","on"].includes(r))return!0;if(["false","off"].includes(r))return!1;if("null"===r)return null;if(e.isNumeric(r))return parseFloat(r);if(["{","["].includes(r.charAt(0)))try{return JSON.parse(t)}catch(t){}return t},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_prefixSelectors:function(t,e){return t.split(this._splitRegExp).filter(function(t){return!!t}).map(function(t){return"".concat(e," ").concat(t)})}}),Object.assign(i,{_clone:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=o.clone(t,e);return r||n?(r&&this._cloneEvents(t,i),n&&this._cloneData(t,i),e&&this._deepClone(t,i,r,n),i):i},_deepClone:function(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.wrap(o.childNodes(t)),s=e.wrap(o.childNodes(r)),l=0;l<a.length;l++)n&&this._cloneEvents(a[l],s[l]),i&&this._cloneData(a[l],s[l]),this._deepClone(a[l],s[l])},_detach:function(t){var e=o.parent(t);e||o.removeChild(e,t)},_empty:function(t){var r=e.wrap(o.childNodes(t)),n=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;this._remove(u),o.removeChild(t,u)}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}if(this._hasShadow(t)){var c=o.shadow(t);this._remove(c)}if(this._hasFragment(t)){var f=o.fragment(t);this._remove(f)}},_remove:function(t){o.triggerEvent(t,"remove"),this._empty(t),e.isElement(t)&&(this._clearQueue(t),this._stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)},_replaceWith:function(t,e){var r=o.parent(t);if(r){var n=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value,c=this._clone(u,!0);o.insertBefore(r,c,t)}}catch(t){i=!0,a=t}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}this._remove(t),o.removeChild(r,t)}}}),Object.assign(i,{_unwrap:function(t,r){var n=o.parent(t,r);if(n){var i=o.parent(n);if(n){var a=e.wrap(o.childNodes(n)),s=!0,l=!1,u=void 0;try{for(var c,f=a[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;o.insertBefore(i,h,n)}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}this._remove(n),o.removeChild(i,n)}}},_wrap:function(t,e){var r=this,n=o.parent(t);if(n){var i=e.map(function(t){return r._clone(t,!0)}),a=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;o.insertBefore(n,f,t)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=this._deepest(i.shift());o.insertBefore(h,t)}},_wrapAll:function(t,e){var r=t.slice().shift();if(r){var n=o.parent(r);if(n){var a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;o.insertBefore(n,f,r)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=i._deepest(e.shift()),d=!0,v=!1,p=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var g=y.value;o.insertBefore(h,g)}}catch(t){v=!0,p=t}finally{try{d||null==m.return||m.return()}finally{if(v)throw p}}}}},_wrapInner:function(t,r){var n=this,i=e.wrap(o.childNodes(t)),a=r.map(function(t){return n._clone(t,!0)}),s=!0,l=!1,u=void 0;try{for(var c,f=a[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;o.insertBefore(t,h)}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}var d=this._deepest(a.shift()),v=!0,p=!1,y=void 0;try{for(var m,g=i[Symbol.iterator]();!(v=(m=g.next()).done);v=!0){var _=m.value;o.insertBefore(d,_)}}catch(t){p=!0,y=t}finally{try{v||null==g.return||g.return()}finally{if(p)throw y}}}}),Object.assign(i,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(i,{_findByCustom:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=[],i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.merge(n,this.__findByCustom(t,u))}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return r.length>1&&n.length>1?e.unique(n):n},_findBySelector:function(t,r){var n=[],i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;e.merge(n,o.findBySelector(t,c))}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return r.length>1&&n.length>1?e.unique(n):n},_findOneByCustom:function(t,e){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value,l=this.__findOneByCustom(t,s);if(l)return l}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return null},_findOneBySelector:function(t,e){var r=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=o.findOneBySelector(t,l);if(u)return u}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return null},__findByCustom:function(t,r){var n=o.getAttribute(r,"id");o.setAttribute(r,"id",this._tempId);var i=o.parent(r),a=[],s=!0,l=!1,u=void 0;try{for(var c,f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;e.merge(a,o.findBySelector(h,i))}}catch(t){l=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return n?o.setAttribute(r,"id",n):o.removeAttribute(r,"id"),t.length>1&&a.length>1?e.unique(a):a},__findOneByCustom:function(t,e){var r=o.getAttribute(e,"id");o.setAttribute(e,"id",this._tempId);var n=o.parent(e);if(!n)return null;var i=null,a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;if(i=o.findOneBySelector(f,n))break}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return r?o.setAttribute(e,"id",r):o.removeAttribute(e,"id"),i}}),Object.assign(i,{_children:function(t,r){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.wrap(a?o.children(t):o.childNodes(t)),l=[],u=!0,c=!1,f=void 0;try{for(var h,d=s[Symbol.iterator]();!(u=(h=d.next()).done)&&(n=h.value,r&&!r(n)||(l.push(n),!i));u=!0);}catch(t){c=!0,f=t}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}return l},_deepest:function(t){return e.wrap(o.findBySelector("*",t)).find(function(t){return!o.hasChildren(t)})||t},_next:function(t,e){var r=[];return(t=o.next(t))?e&&!e(t)?r:(r.push(t),r):r},_nextAll:function(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];(t=o.next(t))&&(!r||!r(t))&&(e&&!e(t)||(i.push(t),!n)););return i},_parent:function(t,e){var r=[],n=o.parent(t);return n?e&&!e(n)?r:(r.push(n),r):r},_parents:function(t,r,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[];(t=o.parent(t))&&!e.isDocument(t)&&(!n||!n(t))&&(r&&!r(t)||(a.push(t),!i)););return a},_prev:function(t,e){var r=[];return(t=o.prev(t))?e&&!e(t)?r:(r.push(t),r):r},_prevAll:function(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];(t=o.prev(t))&&(!r||!r(t))&&(e&&!e(t)||(i.push(t),!n)););return i},_siblings:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],i=o.parent(t);if(!i)return n;var a,s=r?i.children:i.childNodes,l=!0,u=!1,c=void 0;try{for(var f,h=s[Symbol.iterator]();!(l=(f=h.next()).done);l=!0)a=f.value,o.isSame(t,a)||e&&!e(a)||n.push(a)}catch(t){u=!0,c=t}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return n}}),Object.assign(i,{parseNodesFactory:function(t){return t?function(r){return(t.node?e.isNode(r):e.isElement(r))||t.fragment&&e.isFragment(r)||t.shadow&&e.isShadow(r)||t.document&&e.isDocument(r)||t.window&&e.isWindow(r)}:e.isElement}}),Object.assign(i,{_hasAnimation:function(t){return this._animations.has(t)},_hasCSSAnimation:function(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasCSSTransition:function(t){return!!parseFloat(this._css(t,"transition-duration"))},_hasData:function(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_hasFragment:function(t){return!!o.fragment(t)},_hasShadow:function(t){return!!o.shadow(t)},_isVisible:function(t){return e.isWindow(t)?o._isVisibleDocument(o.document(t)):e.isDocument(t)?o.isVisibleDocument(t):!!o.offsetParent(t)}}),Object.assign(i,{_forceShow:function(t,r){var n=this;if(e.isDocument(t)||e.isWindow(t)||this._isVisible(t))return r(t);var i=[];e.isElement(t)&&"none"===this._css(t,"display")&&i.push(t),e.merge(i,this._parents(t,function(t){return e.isElement(t)&&"none"===n._css(t,"display")}));for(var a=new Map,s=0,l=i;s<l.length;s++){var u=l[s];a.set(u,o.getAttribute(u,"style")),o.setStyle(u,"display","initial",!0)}var c=r(t),f=!0,h=!1,d=void 0;try{for(var v,p=a[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var y=_slicedToArray(v.value,2),m=y[0],g=y[1];g?o.setAttribute(m,"style",g):o.removeAttribute(m,"style")}}catch(t){h=!0,d=t}finally{try{f||null==p.return||p.return()}finally{if(h)throw d}}return c},_sanitize:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.allowedTags,n=this._tagName(t);if(n in r){var i=[].concat(_toConsumableArray(r["*"]),_toConsumableArray(r[n])),a=this._getAttribute(t),s=function(e){!!i.find(function(t){return e.match(t)})||o.removeAttribute(t,e)};for(var l in a)s(l);var u=o.children(t),c=!0,f=!1,h=void 0;try{for(var d,v=u[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){var p=d.value;this._sanitize(p,t,r)}}catch(t){f=!0,h=t}finally{try{c||null==v.return||v.return()}finally{if(f)throw h}}}else o.removeChild(e,t)},_tagName:function(t){return o.tagName(t).toLowerCase()}}),Object.assign(i,{_animating:!1,_animations:new Map,_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},animationDefaults:{duration:1e3,type:"ease-in-out",infinite:!1},cssNumberProperties:["font-weight","line-height","opacity","orphans","widows","z-index"],_complexRegExp:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_splitRegExp:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/,_tempId:"frost".concat(Date.now().toString(16))});var o=function t(){_classCallCheck(this,t)};return Object.assign(o,{attributes:function(t){return t.attributes},dataset:function(t){return t.dataset},getAttribute:function(t,e){return t.getAttribute(e)},getDataset:function(t,e){return this.dataset(t)[e]},getProperty:function(t,e){return t[e]},removeAttribute:function(t,e){t.removeAttribute(e)},removeDataset:function(t,e){delete t.dataset[e]},removeProperty:function(t,e){delete t[e]},setAttribute:function(t,e,r){t.setAttribute(e,r)},setDataset:function(t,e,r){this.dataset(t)[e]=r},setProperty:function(t,e,r){t[e]=r}}),Object.assign(o,{offsetLeft:function(t){return t.offsetLeft},offsetTop:function(t){return t.offsetTop},rect:function(t){return t.getBoundingClientRect()}}),Object.assign(o,{getScrollX:function(t){return t.scrollLeft},getScrollXWindow:function(t){return t.scrollX},getScrollY:function(t){return t.scrollTop},getScrollYWindow:function(t){return t.scrollY},setScrollWindow:function(t,e,r){return t.scroll(e,r)},setScrollX:function(t,e){t.scrollLeft=e},setScrollY:function(t,e){t.scrollTop=e}}),Object.assign(o,{height:function(t){return t.clientHeight},heightWindow:function(t,e){return e?t.outerHeight:t.innerHeight},width:function(t){return t.clientWidth},widthWindow:function(t,e){return e?t.outerWidth:t.innerWidth}}),Object.assign(o,{addClass:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=t.classList).add.apply(e,n)},css:function(e){return t.getComputedStyle(e)},getStyle:function(t,e){return this.style(t)[e]},removeClass:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=t.classList).remove.apply(e,n)},setStyle:function(t,e,r,n){t.style.setProperty(e,r,n?"important":"")},style:function(t){return t.style},toggleClass:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=t.classList).toggle.apply(e,n)}}),Object.assign(o,{blur:function(t){t.blur()},click:function(t){t.click()},focus:function(t){t.focus()}}),Object.assign(o,{addEvent:function(t,e,r){t.addEventListener(e,r)},removeEvent:function(t,e,r){t.removeEventListener(e,r)},triggerEvent:function(t,e,r,n){var i=new Event(e,_objectSpread({bubbles:!0,cancelable:!0},n));return r&&Object.assign(i,r),t.dispatchEvent(i)}}),Object.assign(o,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attachShadow({mode:e?"open":"closed"})},clone:function(t,e){return t.cloneNode(e)},create:function(t,e){return t.createElement(e)},createComment:function(t,e){return t.createCommentNode(e)},createFragment:function(t){return t.createDocumentFragment()},createRange:function(t){return t.createRange()},createText:function(t,e){return t.createTextNode(e)}}),Object.assign(o,{removeChild:function(t,e){t.removeChild(e)}}),Object.assign(o,{insertBefore:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.insertBefore(e,r)}}),Object.assign(o,{findByClass:function(t,e){return e.getElementsByClassName(t)},findById:function(t,e){return e.getElementById(t)},findByTag:function(t,e){return e.getElementsByTagName(t)},findBySelector:function(t,e){return e.querySelectorAll(t)},findOneBySelector:function(t,e){return e.querySelector(t)}}),Object.assign(o,{childNodes:function(t){return t.childNodes},children:function(t){return t.children},document:function(t){return t.document},documentElement:function(t){return t.documentElement},firstChild:function(t){return t.firstChild},fragment:function(t){return t.content},next:function(t){return t.nextSibling},offsetParent:function(t){return t.offsetParent},parent:function(t){return t.parentNode},prev:function(t){return t.previousSibling},scrollingElement:function(t){return t.scrollingElement},shadow:function(t){return t.shadowRoot}}),Object.assign(o,{addRange:function(t,e){t.addRange(e)},collapse:function(t){t.collapse()},endContainer:function(t){return t.endContainer},extract:function(t){return t.extractContents()},getRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getRangeAt(e)},getSelection:function(){return t.getSelection()},insert:function(t,e){t.insertNode(e)},rangeCount:function(t){return t.rangeCount},removeRanges:function(t){t.removeAllRanges()},select:function(t,e){t.selectNode(e)},setEndAfter:function(t,e){t.setEndAfter(e)},setStartBefore:function(t,e){t.setStartBefore(e)},startContainer:function(t){return t.startContainer}}),Object.assign(o,{contains:function(t,e){return t.contains(e)},hasAttribute:function(t,e){return t.hasAttribute(e)},hasChildren:function(t){return!!t.childElementCount},hasClass:function(t,e){return t.classList.contains(e)},hasProperty:function(t,e){return t.hasOwnProperty(e)},is:function(t,r){return e.isElement(t)&&t.matches(r)},isConnected:function(t){return t.isConnected},isEqual:function(t,e){return t.isEqualNode(e)},isSame:function(t,e){return t.isSameNode(e)},isVisibleDocument:function(t){return"visible"===t.visibilityState}}),Object.assign(o,{comparePosition:function(t,e){return t.compareDocumentPosition(e)},normalize:function(t){t.normalize()},tagName:function(t){return t.tagName}}),{AjaxRequest:n,DOM:i,DOMNode:o,dom:new i}});