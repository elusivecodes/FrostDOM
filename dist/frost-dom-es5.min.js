"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(void 0,e(void 0))}(0,(function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");var e=t.Core,r=t.document,n=function(){function r(n){var o=this;if(_classCallCheck(this,r),this._settings=e.extend({},this.constructor.defaults,n),this._settings.url||(this._settings.url=t.location),!this._settings.cache){var i=new URL(this._settings.url);i.searchParams.append("_",Date.now()),this._settings.url=i.toString()}!("Content-Type"in this._settings.headers)&&this._settings.contentType&&(this._settings.headers["Content-Type"]=this._settings.contentType),this._isLocal=this.constructor._localRegExp.test(location.protocol),this._isLocal||"X-Requested-With"in this._settings.headers||(this._settings.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._promise=new Promise((function(t,e){o._resolve=function(e){o._isResolved=!0,t(e)},o._reject=function(t){o._isRejected=!0,e(t)}})),this._build(),this._events(),this._send()}return _createClass(r,[{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request was cancelled";this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._settings.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:t}))}},{key:"catch",value:function(t){return this._promise.catch(t)}},{key:"finally",value:function(t){return this._promise.finally(t)}},{key:"then",value:function(t,e){return this._promise.then(t,e)}}]),r}();Object.assign(n.prototype,{_build:function(){for(var t in this._xhr=new XMLHttpRequest,this._xhr.open(this._settings.method,this._settings.url,!0),this._settings.headers)this._xhr.setRequestHeader(t,this._settings.headers[t]);this._settings.responseType&&(this._xhr.responseType=this._settings.responseType)},_events:function(){var t=this;this._xhr.onload=function(e){t._xhr.status>400?t._reject({status:t._xhr.status,xhr:t._xhr,event:e}):t._resolve({response:t._xhr.response,xhr:t._xhr,event:e})},this._isLocal||(this._xhr.onerror=function(e){return t._reject({status:t._xhr.status,xhr:t._xhr,event:e})}),this._settings.onProgress&&(this._xhr.onprogress=function(e){return t._settings.onProgress(e.loaded/e.total,t._xhr,e)}),this._settings.onUploadProgress&&(this._xhr.upload.onprogress=function(e){return t._settings.onUploadProgress(e.loaded/e.total,t._xhr,e)})},_send:function(){this._settings.beforeSend&&this._settings.beforeSend(this._xhr),this._settings.data&&this._settings.processData&&("application/json"===this._settings.contentType?this._settings.data=JSON.stringify(this._settings.data):"application/x-www-form-urlencoded"===this._settings.contentType?this._settings.data=this.constructor._parseParams(this._settings.data):this._settings.data=this.constructor._parseFormData(this._settings.data)),this._xhr.send(this._settings.data),this._settings.afterSend&&this._settings.afterSend(this._xhr)}}),Object.assign(n,{_parseFormData:function(t){var r=new FormData;if(e.isArray(t)){var n,o={},i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;o[s.name]=s.value}}catch(t){i.e(t)}finally{i.f()}t=o}return this._parseFormValues(t,r),r},_parseFormValues:function(t,r,n){var o;for(o in t){var i=t[o];if(n&&(o="".concat(n,"[").concat(o,"]")),e.isPlainObject(i))this._parseFormValues(i,r,o);else if(e.isArray(i)){var s,a=_createForOfIteratorHelper(i);try{for(a.s();!(s=a.n()).done;){var c=s.value;r.append(o,c)}}catch(t){a.e(t)}finally{a.f()}}else r.set(o,i)}},_parseParam:function(t,r){if(e.isArray(r)){var n,o=[],i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.push(this._parseParam(t,s))}}catch(t){i.e(t)}finally{i.f()}return o.flat()}if(e.isObject(r)){var a=[];for(var c in r)a.push(this._parseParam("".concat(c,"[").concat(subKey,"]"),r[subKey]));return a.flat()}return"".concat(t,"=").concat(r)},_parseParams:function(t){var r=[];if(e.isArray(t)){var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push(this._parseParam(i.name,i.value))}}catch(t){o.e(t)}finally{o.f()}}else if(e.isObject(t))for(var s in t)r.push(this._parseParam(s,t[s]));var a=r.flat().join("&");return encodeURI(a)}}),Object.assign(n,{defaults:{afterSend:!1,beforeSend:!1,cache:!0,contentType:"application/x-www-form-urlencoded",data:!1,headers:{},method:"GET",onProgress:!1,onUploadProgress:!1,processData:!0,rejectOnCancel:!0,responseType:!1,url:!1},_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(n.prototype,Promise.prototype);var o=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;_classCallCheck(this,t),this._context=e};Object.assign(o.prototype,{ajax:function(t){return new n(t)},delete:function(t,e){return new n(_objectSpread({url:t,method:"DELETE"},e))},get:function(t,e){return new n(_objectSpread({url:t},e))},patch:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"PATCH"},r))},post:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"POST"},r))},put:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"PUT"},r))},upload:function(t,e,r){return new n(_objectSpread({url:t,data:e,method:"POST",contentType:!1},r))}}),Object.assign(o.prototype,{loadScript:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new n({url:e,cache:r}).then((function(e){return eval.call(t,e.response)}))},loadScripts:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(e.map((function(t){return new n({url:t,cache:r})}))).then((function(e){var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;eval.call(t,o.response)}}catch(t){n.e(t)}finally{n.f()}}))}}),Object.assign(o.prototype,{loadStyle:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new n({url:t,cache:r}).then((function(t){return i.insertBefore(e._context.head,e.create("style",{html:t.response}))}))},loadStyles:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map((function(t){return new n({url:t,cache:r})}))).then((function(t){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;i.insertBefore(e._context.head,e.create("style",{html:o.response}))}}catch(t){n.e(t)}finally{n.f()}}))}}),Object.assign(o.prototype,{getCookie:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=decodeURIComponent(this._context.cookie).split(";").find((function(e){return e.trimStart().substring(0,t.length)===t}));if(!r)return null;var n=r.trimStart().substring(t.length+1);return e?JSON.parse(n):n},removeCookie:function(t,e){this.setCookie(t,"",_objectSpread({expires:-1},e))},setCookie:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){n&&(e=JSON.stringify(e));var o="".concat(t,"=").concat(e);if(r){if(r.expires){var i=new Date;i.setTime(i.getTime()+1e3*r.expires),o+=";expires=".concat(i.toUTCString())}r.path&&(o+=";path=".concat(r.path)),r.secure&&(o+=";secure")}this._context.cookie=o}}}),Object.assign(o.prototype,{animate:function(t,e,r){var n=this,o=(t=this.parseNodes(t)).map((function(t){return n.constructor._animate(t,e,_objectSpread({},n.constructor.animationDefaults,{},r))}));return this.constructor._start(),Promise.all(o)},stop:function(t){var e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(e=n.n()).done;){var o=e.value;this.constructor._stop(o,r)}}catch(t){n.e(t)}finally{n.f()}}}),Object.assign(o.prototype,{dropIn:function(t,e){return this.slideIn(t,_objectSpread({direction:"top"},e))},dropOut:function(t,e){return this.slideOut(t,_objectSpread({direction:"top"},e))},fadeIn:function(t,e){return this.animate(t,(function(t,e){return i.setStyle(t,"opacity",e<1?e:"")}),e)},fadeOut:function(t,e){return this.animate(t,(function(t,e){return i.setStyle(t,"opacity",e<1?1-e:"")}),e)},rotateIn:function(t,e){return this.animate(t,(function(t,e,r){return i.setStyle(t,"transform",e<1?"rotate3d(".concat(r.x,", ").concat(r.y,", 0, ").concat((90-90*e)*(r.inverse?-1:1),"deg)"):"")}),_objectSpread({x:0,y:1},e))},rotateOut:function(t,e){return this.animate(t,(function(t,e,r){return i.setStyle(t,"transform",e<1?"rotate3d(".concat(r.x,", ").concat(r.y,", 0, ").concat(90*e*(r.inverse?-1:1),"deg)"):"")}),_objectSpread({x:0,y:1},e))},slideIn:function(t,r){var n=this;return this.animate(t,(function(t,r,o){if(1===r)return i.setStyle(t,"overflow",""),void(o.useGpu?i.setStyle(t,"transform",""):(i.setStyle(t,"margin-left",""),i.setStyle(t,"margin-top","")));var s,a,c,u=e.isFunction(o.direction)?o.direction():o.direction;["top","bottom"].includes(u)?(s=o.useGpu?"Y":"margin-top",a=n.constructor._height(t),c="top"===u):(s=o.useGpu?"X":"margin-left",a=n.constructor._width(t),c="left"===u);var l=(a-a*r)*(c?-1:1);o.useGpu?i.setStyle(t,"transform","translate".concat(s,"(").concat(l,"px)")):i.setStyle(t,s,"".concat(l,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},r))},slideOut:function(t,r){var n=this;return this.animate(t,(function(t,r,o){if(1===r)return i.setStyle(t,"overflow",""),void(o.useGpu?i.setStyle(t,"transform",""):(i.setStyle(t,"margin-left",""),i.setStyle(t,"margin-top","")));var s,a,c,u=e.isFunction(o.direction)?o.direction():o.direction;["top","bottom"].includes(u)?(s=o.useGpu?"Y":"margin-top",a=n.constructor._height(t),c="top"===u):(s=o.useGpu?"X":"margin-left",a=n.constructor._width(t),c="left"===u);var l=a*r*(c?-1:1);o.useGpu?i.setStyle(t,"transform","translate".concat(s,"(").concat(l,"px)")):i.setStyle(t,s,"".concat(l,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},r))},squeezeIn:function(t,r){var n=this;t=this.parseNodes(t),r=_objectSpread({},this.constructor.animationDefaults,{direction:"bottom",useGpu:!0},r);var s=t.map((function(t){var s=i.getStyle(t,"height"),a=i.getStyle(t,"width");return i.setStyle(t,"overflow","hidden"),n.constructor._animate(t,(function(t,r,n){if(i.setStyle(t,"height",s),i.setStyle(t,"width",a),1===r)return i.setStyle(t,"overflow",""),void(n.useGpu?i.setStyle(t,"transform",""):(i.setStyle(t,"margin-left",""),i.setStyle(t,"margin-top","")));var c,u,l=e.isFunction(n.direction)?n.direction():n.direction;["top","bottom"].includes(l)?(c="height","top"===l&&(u=n.useGpu?"Y":"margin-top")):(c="width","left"===l&&(u=n.useGpu?"X":"margin-left"));var f=o["_".concat(c)](t),h=f*r;if(i.setStyle(t,c,"".concat(h,"px")),u){var d=f-h;n.useGpu?i.setStyle(t,"transform","translate".concat(u,"(").concat(d,"px)")):i.setStyle(t,u,"".concat(d,"px"))}}),r)}));return this.constructor._start(),Promise.all(s)},squeezeOut:function(t,r){var n=this;t=this.parseNodes(t),r=_objectSpread({},this.constructor.animationDefaults,{direction:"bottom",useGpu:!0},r);var s=t.map((function(t){var s=i.getStyle(t,"height"),a=i.getStyle(t,"width");return i.setStyle(t,"overflow","hidden"),n.constructor._animate(t,(function(t,r,n){if(i.setStyle(t,"height",s),i.setStyle(t,"width",a),1===r)return i.setStyle(t,"overflow",""),void(n.useGpu?i.setStyle(t,"transform",""):(i.setStyle(t,"margin-left",""),i.setStyle(t,"margin-top","")));var c,u,l=e.isFunction(n.direction)?n.direction():n.direction;["top","bottom"].includes(l)?(c="height","top"===l&&(u=n.useGpu?"Y":"margin-top")):(c="width","left"===l&&(u=n.useGpu?"X":"margin-left"));var f=o["_".concat(c)](t),h=f-f*r;if(i.setStyle(t,c,"".concat(h,"px")),u){var d=f-h;n.useGpu?i.setStyle(t,"transform","translate".concat(u,"(").concat(d,"px)")):i.setStyle(t,u,"".concat(d,"px"))}}),r)}));return this.constructor._start(),Promise.all(s)}}),Object.assign(o.prototype,{clearQueue:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;this.constructor._clearQueue(n)}}catch(t){r.e(t)}finally{r.f()}},queue:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._queue(o,e)}}catch(t){n.e(t)}finally{n.f()}}}),Object.assign(o.prototype,{getAttribute:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._getAttribute(r,e)},getDataset:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._getDataset(r,e)},getHTML:function(t){return this.getProperty(t,"innerHTML")},getProperty:function(t,e){var r=this.parseNode(t);if(r)return i.getProperty(r,e)},getText:function(t){return this.getProperty(t,"innerText")},getValue:function(t){return this.getProperty(t,"value")},removeAttribute:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;i.removeAttribute(o,e)}}catch(t){n.e(t)}finally{n.f()}},removeDataset:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._removeDataset(o,e)}}catch(t){n.e(t)}finally{n.f()}},removeProperty:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;i.removeProperty(o,e)}}catch(t){n.e(t)}finally{n.f()}},setAttribute:function(t,e,r){t=this.parseNodes(t);var n,o=this.constructor._parseData(e,r),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setAttribute(s,o)}}catch(t){i.e(t)}finally{i.f()}},setDataset:function(t,e,r){t=this.parseNodes(t);var n,o=this.constructor._parseData(e,r,!0),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setDataset(s,o)}}catch(t){i.e(t)}finally{i.f()}},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty:function(t,e,r){t=this.parseNodes(t);var n,o=this.constructor._parseData(e,r),s=_createForOfIteratorHelper(t);try{for(s.s();!(n=s.n()).done;){var a=n.value;for(var c in o)i.setProperty(a,c,o[c])}}catch(t){s.e(t)}finally{s.f()}},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},setValue:function(t,e){this.setProperty(t,"value",e)}}),Object.assign(o.prototype,{cloneData:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o,i=r.value,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._cloneData(i,a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){n.e(t)}finally{n.f()}},getData:function(t,e){var r=this.parseNode(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(r)return this.constructor._getData(r,e)},removeData:function(t,e){var r,n=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}));try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._removeData(o,e)}}catch(t){n.e(t)}finally{n.f()}},setData:function(t,e,r){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});var n,o=this.constructor._parseData(e,r),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._setData(s,o)}}catch(t){i.e(t)}finally{i.f()}}}),Object.assign(o.prototype,{center:function(t,e){var r=this.rect(t,e);if(r)return{x:r.left+r.width/2,y:r.top+r.height/2}},constrain:function(t,e){var r=this.rect(e);if(r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(o.s();!(n=o.n()).done;){var i=n.value;this.constructor._constrain(i,r)}}catch(t){o.e(t)}finally{o.f()}}},distTo:function(t,r,n,o){var i=this.center(t,o);if(i)return e.dist(i.x,i.y,r,n)},distToNode:function(t,e){var r=this.center(e);if(r)return this.distTo(t,r.x,r.y)},nearestTo:function(t,e,r,n){var o,i,s=Number.MAX_VALUE,a=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(a.s();!(i=a.n()).done;){var c=i.value,u=this.distTo(c,e,r,n);u&&u<s&&(s=u,o=c)}}catch(t){a.e(t)}finally{a.f()}return o},nearestToNode:function(t,e){var r=this.center(e);if(r)return this.nearestTo(t,r.x,r.y)},percentX:function(t,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.rect(t,n);if(i){var s=(r-i.left)/i.width*100;return o?e.clampPercent(s):s}},percentY:function(t,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.rect(t,n);if(i){var s=(r-i.top)/i.height*100;return o?e.clampPercent(s):s}},position:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._position(r,e)},rect:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._rect(r,e)}}),Object.assign(o.prototype,{getScrollX:function(t){var r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?i.getScrollXWindow(r):e.isDocument(r)?this.constructor._getScrollXDocument(r):i.getScrollX(r)},getScrollY:function(t){var r=this.parseNode(t,{document:!0,window:!0});if(r)return e.isWindow(r)?i.getScrollYWindow(r):e.isDocument(r)?this.constructor._getScrollYDocument(r):i.getScrollY(r)},setScroll:function(t,r,n){var o,s=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(s.s();!(o=s.n()).done;){var a=o.value;e.isWindow(a)?i.setScrollWindow(a,r,n):e.isDocument(a)?this.constructor._setScrollDocument(a,r,n):this.constructor._setScroll(a,r,n)}}catch(t){s.e(t)}finally{s.f()}},setScrollX:function(t,r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(o.s();!(n=o.n()).done;){var s=n.value;e.isWindow(s)?this.constructor._setScrollXWindow(s,r):e.isDocument(s)?this.constructor._setScrollXDocument(s,r):i.setScrollX(s,r)}}catch(t){o.e(t)}finally{o.f()}},setScrollY:function(t,r){var n,o=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(o.s();!(n=o.n()).done;){var s=n.value;e.isWindow(s)?this.constructor._setScrollYWindow(s,r):e.isDocument(s)?this.constructor._setScrollYDocument(s,r):i.setScrollY(s,r)}}catch(t){o.e(t)}finally{o.f()}}}),Object.assign(o.prototype,{height:function(t,r){var n=this.parseNode(t,{document:!0,window:!0});if(n)return e.isWindow(n)?i.heightWindow(n,e.isUndefined(r)?0:r):(e.isUndefined(r)&&(r=1),e.isDocument(n)?this.constructor._height(i.documentElement(n),r):this.constructor._height(n,r))},width:function(t,r){var n=this.parseNode(t,{document:!0,window:!0});if(n)return e.isWindow(n)?i.widthWindow(n,e.isUndefined(r)?0:r):(e.isUndefined(r)&&(r=1),e.isDocument(n)?this.constructor._width(i.documentElement(n),r):this.constructor._width(n,r))}}),Object.assign(o.prototype,{addClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=this.constructor._parseClasses(r)).length){var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;i.addClass.apply(i,[a].concat(_toConsumableArray(r)))}}catch(t){s.e(t)}finally{s.f()}}},css:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._css(r,e)},getStyle:function(t,e){var r=this.parseNode(t);if(r)return this.constructor._getStyle(r,e)},hide:function(t){this.setStyle(t,"display","none")},removeClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=this.constructor._parseClasses(r)).length){var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;i.removeClass.apply(i,[a].concat(_toConsumableArray(r)))}}catch(t){s.e(t)}finally{s.f()}}},setStyle:function(t,e,r,n){t=this.parseNodes(t);var o,i=this.constructor._parseData(e,r),s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._setStyle(a,i,n)}}catch(t){s.e(t)}finally{s.f()}},show:function(t){this.setStyle(t,"display","")},toggle:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;"none"===i.getStyle(n,"display")?i.setStyle(n,"display",""):i.setStyle(n,"display","none")}}catch(t){r.e(t)}finally{r.f()}},toggleClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t=this.parseNodes(t),(r=this.constructor._parseClasses(r)).length){var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var a,c=o.value,u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;i.toggleClass(c,l)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){s.e(t)}finally{s.f()}}}}),Object.assign(o.prototype,{mouseDragFactory:function(r,n,o){var i=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n&&s&&(n=e.animation(n),o&&(o=e.animation(o))),function(e){if(r&&!1===r(e))return!1;n&&i.addEvent(t,"mousemove",n),(n||o)&&i.addEvent(t,"mouseup",(function(e){n&&i.removeEvent(t,"mousemove",n),o&&o(e)}),!1,!0)}}}),Object.assign(o.prototype,{blur:function(t){var e=this.parseNode(t);e&&i.blur(e)},click:function(t){var e=this.parseNode(t);e&&i.click(e)},focus:function(t){var e=this.parseNode(t);e&&i.focus(e)},ready:function(e){"complete"!==this._context.readyState?this.constructor._addEvent(t,"DOMContentLoaded",e):e()}}),Object.assign(o.prototype,{addEvent:function(t,e,r,n,o){var i,s=_createForOfIteratorHelper(t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}));try{for(s.s();!(i=s.n()).done;){var a,c=i.value,u=_createForOfIteratorHelper(this.constructor._parseEvents(e));try{for(u.s();!(a=u.n()).done;){var l=a.value;this.constructor._addEvent(c,l,r,n,o)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){s.e(t)}finally{s.f()}},addEventDelegate:function(t,e,r,n){this.addEvent(t,e,n,r)},addEventDelegateOnce:function(t,e,r,n){this.addEvent(t,e,n,r,!0)},addEventOnce:function(t,e,r){this.addEvent(t,e,r,null,!0)},cloneEvents:function(t,e){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{shadow:!0,document:!0,window:!0});var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o,i=r.value,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;this.constructor._cloneEvents(i,a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){n.e(t)}finally{n.f()}},removeEvent:function(t,e,r,n){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=!!e&&this.constructor._parseEvents(e);var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(this.constructor._events.has(s))if(e){var a,c=_createForOfIteratorHelper(e);try{for(c.s();!(a=c.n()).done;){var u=a.value;this.constructor._removeEvent(s,u,r,n)}}catch(t){c.e(t)}finally{c.f()}}else this.constructor._removeEvent(s,e,r,n)}}catch(t){i.e(t)}finally{i.f()}},removeEventDelegate:function(t,e,r,n){this.removeEvent(t,e,n,r)},triggerEvent:function(t,e,r,n){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.constructor._parseEvents(e);var o,i=_createForOfIteratorHelper(t);try{for(i.s();!(o=i.n()).done;){var s,a=o.value,c=_createForOfIteratorHelper(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;this.constructor._triggerEvent(a,u,r,n)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){i.e(t)}finally{i.f()}}}),Object.assign(o.prototype,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.parseNode(t);if(r)return i.attachShadow(r,e)},create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1?arguments[1]:void 0,n=i.create(this._context,t);if(!r)return n;if("html"in r?i.setProperty(n,"innerHTML",r.html):"text"in r&&i.setProperty(n,"innerText",r.text),"class"in r&&i.addClass.apply(i,[n].concat(_toConsumableArray(this.constructor._parseClasses(e.wrap(r.class))))),"style"in r&&this.constructor._setStyle(n,r.style),"value"in r&&i.setProperty(n,"value",r.value),"attributes"in r&&this.constructor._setAttribute(n,r.attributes),"properties"in r)for(var o in r.properties)i.setProperty(n,o,r.properties[o]);if("dataset"in r){var s=this.constructor._parseData(r.dataset,null,!0);this.constructor._setDataset(n,s)}return n},createComment:function(t){return i.createComment(this._context,t)},createFragment:function(){return i.createFragment(this._context)},createRange:function(){return i.createRange(this._context)},createText:function(t){return i.createText(this._context,t)},parseHTML:function(t){return e.wrap(i.children(this.createRange().createContextualFragment(t)))}}),Object.assign(o.prototype,{clone:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(t=this.parseNodes(t,{node:!0,fragment:!0})).map((function(t){return e.constructor._clone(t,r,n,o)}))},detach:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value,o=i.parent(n);o&&i.removeChild(o,n)}}catch(t){r.e(t)}finally{r.f()}return t},empty:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value;this.constructor._empty(n)}}catch(t){r.e(t)}finally{r.f()}},remove:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value,o=i.parent(n);o&&(this.constructor._remove(n),i.removeChild(o,n))}}catch(t){r.e(t)}finally{r.f()}},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,e){var r=this;t=this.parseNodes(t,{node:!0});var n,o=(e=this.parseNodes(e,{node:!0,fragment:!0,html:!0})).map((function(t){return r.constructor._clone(t,!0)})),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.constructor._replaceWith(s,o)}}catch(t){i.e(t)}finally{i.f()}}}),Object.assign(o.prototype,{after:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var r,n=t.slice(-1).pop(),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=i.parent(s);if(a){var c,u=_createForOfIteratorHelper(e);try{for(u.s();!(c=u.n()).done;){var l=c.value;i.insertBefore(a,i.isSame(s,n)?l:i.clone(l,!0),i.next(s))}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){o.e(t)}finally{o.f()}},append:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,n=t.slice(-1).pop(),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s,a=r.value,c=_createForOfIteratorHelper(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;i.insertBefore(a,i.isSame(a,n)?u:i.clone(u,!0))}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}},appendTo:function(t,e){this.append(e,t)},before:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,n=t.slice(-1).pop(),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=i.parent(s);if(a){var c,u=_createForOfIteratorHelper(e);try{for(u.s();!(c=u.n()).done;){var l=c.value;i.insertBefore(a,i.isSame(s,n)?l:i.clone(l,!0),s)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){o.e(t)}finally{o.f()}},insertAfter:function(t,e){this.after(e,t)},insertBefore:function(t,e){this.before(e,t)},prepend:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,n=t.slice(-1).pop(),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s,a=r.value,c=i.firstChild(a),u=_createForOfIteratorHelper(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;i.insertBefore(a,i.isSame(a,n)?l:i.clone(l,!0),c)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){o.e(t)}finally{o.f()}},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(o.prototype,{unwrap:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseFilter(e);var r,n=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=i.parent(s);a&&(n.includes(a)||e&&!e(a)||n.push(a))}}catch(t){o.e(t)}finally{o.f()}for(var c=0,u=n;c<u.length;c++){var l=u[c];this.constructor._unwrap(l)}},wrap:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._wrap(o,e)}}catch(t){n.e(t)}finally{n.f()}},wrapAll:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r=this.clone(e,!0);this.constructor._wrapAll(t,r)},wrapInner:function(t,e){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.constructor._wrapInner(o,e)}}catch(t){n.e(t)}finally{n.f()}}}),Object.assign(o.prototype,{connected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return i.isConnected(t)}))},equal:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return e.some((function(e){return i.isEqual(t,e)}))}))},filter:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t,r){return!e||e(t,r)}))},filterOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((function(t,r){return!e||e(t,r)}))||null},fixed:function(t){var r=this;return this.parseNodes(t,{node:!0}).filter((function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")||r.constructor._parents(t,(function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")}),!1,!0).length}))},hidden:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((function(t){return!e.constructor._isVisible(t)}))},not:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t,r){return e&&!e(t,r)}))},notOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((function(t,r){return e&&!e(t,r)}))||null},same:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return e.some((function(e){return i.isSame(t,e)}))}))},visible:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((function(t){return e.constructor._isVisible(t)}))},withAnimation:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasAnimation(t)}))},withAttribute:function(t,e){return this.parseNodes(t).filter((function(t){return i.hasAttribute(t,e)}))},withChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((function(t){return i.hasChildren(t)}))},withClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r=this.constructor._parseClasses(r),this.parseNodes(t).filter((function(t){return r.some((function(e){return i.hasClass(t,e)}))}))},withCSSAnimation:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasCSSAnimation(t)}))},withCSSTransition:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasCSSTransition(t)}))},withData:function(t,e){var r=this;return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter((function(t){return r.constructor._hasData(t,e)}))},withDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((function(t,r){return!e||e(t,r)}))},withProperty:function(t,e){return this.parseNodes(t).filter((function(t){return i.hasProperty(t,e)}))}}),Object.assign(o.prototype,{find:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(this.constructor._fastRegExp);if(n)return"#"===n[1]?this.findById(n[2],r):"."===n[1]?this.findByClass(n[2],r):this.findByTag(n[2],r);if(t.match(this.constructor._complexRegExp)){var o=this.constructor._prefixSelectors(t,"#".concat(this.constructor._tempId," "));return e.isElement(r)?this.constructor.__findByCustom(o,r):(r=this.parseNodes(r),this.constructor._findByCustom(o,r))}return e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?e.wrap(i.findBySelector(t,r)):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(t,r))},findByClass:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return e.wrap(i.findByClass(t,r));var n,o=[],s=_createForOfIteratorHelper(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}));try{for(s.s();!(n=s.n()).done;){var a=n.value;e.merge(o,i.findByClass(t,a))}}catch(t){s.e(t)}finally{s.f()}return r.length>1&&o.length>1?e.unique(o):o},findById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector("#".concat(t),e)},findByTag:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return e.wrap(i.findByTag(t,r));var n,o=[],s=_createForOfIteratorHelper(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0}));try{for(s.s();!(n=s.n()).done;){var a=n.value;e.merge(o,i.findByTag(t,a))}}catch(t){s.e(t)}finally{s.f()}return r.length>1&&o.length>1?e.unique(o):o},findOne:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=t.match(this.constructor._fastRegExp);if(n)return"#"===n[1]?this.findOneById(n[2],r):"."===n[1]?this.findOneByClass(n[2],r):this.findOneByTag(n[2],r);if(t.match(this.constructor._complexRegExp)){var o=this.constructor._prefixSelectors(t,"#".concat(this.constructor._tempId," "));if(e.isElement(r))return this.constructor.__findOneByCustom(o,r);if(!(r=this.parseNodes(r)).length)return;return this.constructor._findOneByCustom(o,r)}return e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r)?i.findOneBySelector(t,r):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(t,r):void 0},findOneByClass:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return i.findByClass(t,r).item(0);if((r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length){var n,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=i.findByClass(t,s).item(0);if(a)return a}}catch(t){o.e(t)}finally{o.f()}return null}},findOneById:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return e.isDocument(r)?i.findById(t,r):(r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector("#".concat(t),r):void 0},findOneByTag:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(e.isDocument(r)||e.isElement(r)||e.isFragment(r)||e.isShadow(r))return i.findByTag(t,r).item(0);if((r=this.parseNodes(r,{fragment:!0,shadow:!0,document:!0})).length){var n,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=i.findByTag(t,s).item(0);if(a)return a}}catch(t){o.e(t)}finally{o.f()}return null}}}),Object.assign(o.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r=this.parseFilter(r),e.isElement(t)||e.isDocument(t)||e.isFragment(t)||e.isShadow(t))return this.constructor._children(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;e.merge(s,this.constructor._children(c,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},closest:function(t,e,r){return this.parents(t,e,r,!0)},commonAncestor:function(t){if((t=this.sort(t)).length){var e=this.createRange();return 1===t.length?i.select(e,t.shift()):(i.setStartBefore(e,t.shift()),i.setEndAfter(e,t.pop())),e.commonAncestorContainer}},contents:function(t){return this.children(t,!1,!1,!1)},fragment:function(t){var e=this.parseNode(t);if(e)return i.fragment(e)},next:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return this.constructor._next(t,r);var n,o=[],i=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,this.constructor._next(s,r))}}catch(t){i.e(t)}finally{i.f()}return t.length>1&&o.length>1?e.unique(o):o},nextAll:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return this.constructor._nextAll(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;e.merge(s,this.constructor._nextAll(c,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},offsetParent:function(t){return this.forceShow(t,(function(t){return i.offsetParent(t)}))},parent:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return this.constructor._parent(t,r);var n,o=[],i=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,this.constructor._parent(s,r))}}catch(t){i.e(t)}finally{i.f()}return t.length>1&&o.length>1?e.unique(o):o},parents:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return this.constructor._parents(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;e.merge(s,this.constructor._parents(c,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},prev:function(t,r){if(r=this.parseFilter(r),e.isNode(t))return this.constructor._prev(t,r);var n,o=[],i=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(i.s();!(n=i.n()).done;){var s=n.value;e.merge(o,this.constructor._prev(s,r))}}catch(t){i.e(t)}finally{i.f()}return t.length>1&&o.length>1?e.unique(o):o},prevAll:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r=this.parseFilter(r),n=this.parseFilter(n),e.isNode(t))return this.constructor._prevAll(t,r,n,o);var i,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(i=a.n()).done;){var c=i.value;e.merge(s,this.constructor._prevAll(c,r,n,o))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?e.unique(s):s},shadow:function(t){var e=this.parseNode(t);if(e)return i.shadow(e)},siblings:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=this.parseFilter(r),e.isNode(t))return this.constructor._siblings(t,r,n);var o,i=[],s=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(s.s();!(o=s.n()).done;){var a=o.value;e.merge(i,this.constructor._siblings(a,r,n))}}catch(t){s.e(t)}finally{s.f()}return t.length>1&&i.length>1?this.sort(e.unique(i)):i}}),Object.assign(o.prototype,{parseFilter:function(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return i.is(e,t)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return i.isSame(e,t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.includes(e)})},parseFilterContains:function(t){var r=this;return!!t&&(e.isFunction(t)?function(r){return e.merge([],i.findBySelector("*",r)).some(t)}:e.isString(t)?function(e){return!!r.findOne(t,e)}:e.isNode(t)||e.isFragment(t)||e.isShadow(t)?function(e){return i.contains(e,t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.some((function(t){return i.contains(e,t)}))})},parseNode:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t)){if("html"in r&&r.html&&"<"===t.trim().charAt(0))return this.parseHTML(t).shift();var n=this.findOne(t,"context"in r?r.context:this._context);return n||null}var o=this.constructor.parseNodesFactory(r);if(o(t))return t;var i=e.wrap(t).slice().shift();return i&&o(i)?i:null},parseNodes:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isString(t))return"html"in r&&r.html&&"<"===t.trim().charAt(0)?this.parseHTML(t):this.find(t,"context"in r?r.context:this._context);var n=this.constructor.parseNodesFactory(r);return n(t)?[t]:e.wrap(t).filter(n)}}),Object.assign(o.prototype,{afterSelection:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var e=i.getSelection();if(i.rangeCount(e)){var r=i.getRange(e);i.removeRanges(e),i.collapse(r);var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;i.insert(r,s)}}catch(t){o.e(t)}finally{o.f()}}},beforeSelection:function(t){t=this.parseNodes(t,{node:!0,fragment:!0,html:!0});var e=i.getSelection();if(i.rangeCount(e)){var r=i.getRange(e);i.removeRanges(e);var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;i.insert(r,s)}}catch(t){o.e(t)}finally{o.f()}}},extractSelection:function(){var t=i.getSelection();if(!i.rangeCount(t))return[];var r=i.getRange(t);i.removeRanges(t);var n=i.extract(r);return e.wrap(i.childNodes(n))},getSelection:function(){var t=i.getSelection();if(!i.rangeCount(t))return[];var r=i.getRange(t),n=e.wrap(i.findBySelector("*",r.commonAncestorContainer));if(!n.length)return[r.commonAncestorContainer];if(1===n.length)return n;var o,s,a=i.startContainer(r),c=i.endContainer(r),u=e.isElement(a)?a:i.parent(a),l=e.isElement(c)?c:i.parent(c),f=[],h=_createForOfIteratorHelper(n.slice(n.indexOf(u),n.indexOf(l)+1));try{for(h.s();!(s=h.n()).done;){var d=s.value;o&&i.contains(o,d)||(o=d,f.push(d))}}catch(t){h.e(t)}finally{h.f()}return f},select:function(t){var e=this.parseNode(t,{node:!0,fragment:!0,shadow:!0});if(e&&"select"in e)return e.select();var r=i.getSelection();if(i.rangeCount(r)>0&&i.removeRanges(r),e){var n=this.createRange();i.select(n,e),i.addRange(r,n)}},selectAll:function(t){t=this.sort(t);var e=i.getSelection();if(i.rangeCount(e)&&i.removeRanges(e),t.length){var r=this.createRange();1==t.length?i.select(r,t.shift()):(i.setStartBefore(r,t.shift()),i.setEndAfter(r,t.pop())),i.addRange(e,r)}},wrapSelection:function(t){t=this.parseNodes(t,{fragment:!0,html:!0});var r=i.getSelection();if(i.rangeCount(r)){var n=i.getRange(r);i.removeRanges(r);var o,s=i.extract(n),a=this.constructor._deepest(t.slice().shift()),c=_createForOfIteratorHelper(e.wrap(i.childNodes(s)));try{for(c.s();!(o=c.n()).done;){var u=o.value;i.insertBefore(a,u)}}catch(t){c.e(t)}finally{c.f()}var l,f=_createForOfIteratorHelper(t);try{for(f.s();!(l=f.n()).done;){var h=l.value;i.insert(n,h)}}catch(t){f.e(t)}finally{f.f()}}}}),Object.assign(o.prototype,{hasAnimation:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasAnimation(t)}))},hasAttribute:function(t,e){return this.parseNodes(t).some((function(t){return i.hasAttribute(t,e)}))},hasChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((function(t){return i.hasChildren(t)}))},hasClass:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r=this.constructor._parseClasses(r),this.parseNodes(t).some((function(t){return r.some((function(e){return i.hasClass(t,e)}))}))},hasCSSAnimation:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasCSSAnimation(t)}))},hasCSSTransition:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasCSSTransition(t)}))},hasData:function(t,e){var r=this;return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some((function(t){return r.constructor._hasData(t,e)}))},hasDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((function(t){return!e||e(t)}))},hasFragment:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasFragment(t)}))},hasProperty:function(t,e){return this.parseNodes(t).some((function(t){return i.hasProperty(t,e)}))},hasShadow:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasShadow(t)}))},is:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return!e||e(t)}))},isConnected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return i.isConnected(t)}))},isEqual:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return e.some((function(e){return i.isEqual(t,e)}))}))},isFixed:function(t){var r=this;return this.parseNodes(t,{node:!0}).some((function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")||r.constructor._parents(t,(function(t){return e.isElement(t)&&"fixed"===r.constructor._css(t,"position")}),!1,!0).length}))},isHidden:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((function(t){return!e.constructor._isVisible(t)}))},isSame:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return e.some((function(e){return i.isSame(t,e)}))}))},isVisible:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((function(t){return e.constructor._isVisible(t)}))}}),Object.assign(o.prototype,{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(t,!1,e)},forceShow:function(t,e){var r=this.parseNode(t,{node:!0,document:!0,window:!0});if(r)return this.constructor._forceShow(r,e)},index:function(t){var r=this.parseNode(t,{node:!0});if(r)return e.wrap(i.children(i.parent(r))).indexOf(r)},indexOf:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).findIndex((function(t){return!e||e(t)}))},normalize:function(t){var e,r=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0}));try{for(r.s();!(e=r.n()).done;){var n=e.value;i.normalize(n)}}catch(t){r.e(t)}finally{r.f()}},sanitize:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.allowedTags,n=this.create("template",{html:t}),s=i.fragment(n),a=i.children(s),c=_createForOfIteratorHelper(a);try{for(c.s();!(e=c.n()).done;){var u=e.value;this.constructor._sanitize(u,s,r)}}catch(t){c.e(t)}finally{c.f()}return this.getHTML(n)},serialize:function(t){return n._parseParams(this.serializeArray(t))},serializeArray:function(t){var r=this;return this.parseNodes(t,{fragment:!0,shadow:!0}).reduce((function(t,n){if(i.is(n,"form")||e.isFragment(n)||e.isShadow(n))return t.concat(r.serializeArray(i.findBySelector("input, select, textarea",n)));if(i.is(n,"[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;var o=i.getAttribute(n,"name");if(!o)return t;if(i.is(n,"select[multiple]")){var s,a=_createForOfIteratorHelper(e.wrap(n.selectedOptions));try{for(a.s();!(s=a.n()).done;){var c=s.value,u=i.getProperty(c,"value")||"";t.push({name:o,value:u})}}catch(t){a.e(t)}finally{a.f()}}else{var l=i.getProperty(n,"value")||"";t.push({name:o,value:l})}return t}),[])},sort:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).sort((function(t,e){if(i.isSame(t,e))return 0;var r=i.comparePosition(t,e);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}))},tagName:function(t){var e=this.parseNode(t);if(e)return i.tagName(e)}}),Object.assign(o,{_animate:function(t,r,n){var i=this;o._hasAnimation(t)||this._animations.set(t,[]);var s=performance.now();return new Promise((function(o,a){i._animations.get(t).push((function(){var i,c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c&&!u?(a(t),!0):(u?i=1:(i=(performance.now()-s)/n.duration,n.infinite?i%=1:i=e.clamp(i),"ease-in"===n.type?i=Math.pow(i,2):"ease-out"===n.type?i=Math.sqrt(i):"ease-in-out"===n.type&&(i=i<=.5?2*Math.pow(i,2):1-2*Math.pow(1-i,2))),r(t,i,n),1===i?(o(t),!0):void 0)}))}))},_animationFrame:function(){var e,r=this,n=_createForOfIteratorHelper(this._animations);try{for(n.s();!(e=n.n()).done;){var o=_slicedToArray(e.value,2),i=o[0],s=o[1];(s=s.filter((function(t){return!t()}))).length?this._animations.set(i,s):this._animations.delete(i)}}catch(t){n.e(t)}finally{n.f()}this._animations.size?t.requestAnimationFrame((function(t){return r._animationFrame()})):this._animating=!1},_start:function(){this._animating||(this._animating=!0,this._animationFrame())},_stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o._hasAnimation(t)){var r,n=this._animations.get(t),i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var s=r.value;s(!0,e)}}catch(t){i.e(t)}finally{i.f()}this._animations.delete(t)}}}),Object.assign(o,{_clearQueue:function(t){this._queues.has(t)&&this._queues.delete(t)},_dequeueNode:function(t){var e=this;if(this._queues.has(t)){var r=this._queues.get(t).shift();r?Promise.resolve(r(t)).finally((function(r){return e._dequeueNode(t)})):this._queues.delete(t)}},_queue:function(t,e){var r=!this._queues.has(t);r&&this._queues.set(t,[]),this._queues.get(t).push(e),r&&this._dequeueNode(t)}}),Object.assign(o,{_getAttribute:function(t,e){if(e)return i.getAttribute(t,e);var r,n={},o=_createForOfIteratorHelper(i.attributes(t));try{for(o.s();!(r=o.n()).done;){var s=r.value;n[s.nodeName]=s.nodeValue}}catch(t){o.e(t)}finally{o.f()}return n},_getDataset:function(t,r){if(r)return r=e.camelCase(r),o._parseDataset(i.getDataset(t,r));var n=i.dataset(t),s={};for(var a in n)s[a]=o._parseDataset(n[a]);return s},_removeDataset:function(t,r){r=e.camelCase(r),i.removeDataset(t,r)},_setAttribute:function(t,e){for(var r in e)i.setAttribute(t,r,e[r])},_setDataset:function(t,r){for(var n in r){var o=e.camelCase(n);i.setDataset(t,o,r[n])}}}),Object.assign(o,{_cloneData:function(t,e){this._data.has(t)&&this._setData(e,_objectSpread({},this._data.get(t)))},_getData:function(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData:function(t,e){if(this._data.has(t)){if(e){var r=this._data.get(t);if(delete r[e],Object.keys(r).length)return}this._data.delete(t)}},_setData:function(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(o,{_constrain:function(t,e){var r,n,o=this._rect(t),i={};if(o.height>e.height&&(i.height=e.height),o.width>e.width&&(i.width=e.width),o.left-e.left<0?r=o.left-e.left:o.right-e.right>0&&(r=o.right-e.right),r){var s=this._css(t,"left"),a=s&&"auto"!==s?parseFloat(s):0;i.left="".concat(a-r,"px")}if(o.top-e.top<0?n=o.top-e.top:o.bottom-e.bottom>0&&(n=o.bottom-e.bottom),n){var c=this._css(t,"top"),u=c&&"auto"!==c?parseFloat(c):0;i.top="".concat(u-n,"px")}"static"===this._css(t,"position")&&(i.position="relative"),this._setStyle(t,i)},_position:function(t,e){return this._forceShow(t,(function(t){var r={x:i.offsetLeft(t),y:i.offsetTop(t)};if(e)for(var n=t;n=i.offsetParent(n);)r.x+=i.offsetLeft(n),r.y+=i.offsetTop(n);return r}))},_rect:function(e,r){return this._forceShow(e,(function(e){var n=i.rect(e);return r&&(n.x+=i.getScrollXWindow(t),n.y+=i.getScrollYWindow(t)),n}))}}),Object.assign(o,{_getScrollXDocument:function(t){return i.getScrollX(i.scrollingElement(t))},_getScrollYDocument:function(t){return i.getScrollY(i.scrollingElement(t))},_setScroll:function(t,e,r){i.setScrollX(t,e),i.setScrollY(t,r)},_setScrollDocument:function(t,e,r){return this._setScroll(i.scrollingElement(t),e,r)},_setScrollXDocument:function(t,e){return i.setScrollX(i.scrollingElement(t),e)},_setScrollXWindow:function(t,e){return i.setScrollWindow(t,e,i.getScrollYWindow(t))},_setScrollYDocument:function(t,e){return i.setScrollY(i.scrollingElement(t),e)},_setScrollYWindow:function(t,e){return i.setScrollWindow(t,i.getScrollXWindow(t),e)}}),Object.assign(o,{_height:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(t,(function(t){var n=i.height(t);return r===e.INNER&&(n-=parseInt(e._css(t,"padding-top"))+parseInt(e._css(t,"padding-bottom"))),r>=e.OUTER&&(n+=parseInt(e._css(t,"border-top-width"))+parseInt(e._css(t,"border-bottom-width"))),r===e.OUTER_MARGIN&&(n+=parseInt(e._css(t,"margin-top"))+parseInt(e._css(t,"margin-bottom"))),n}))},_width:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(t,(function(t){var n=i.width(t);return r===e.INNER&&(n-=parseInt(e._css(t,"padding-left"))+parseInt(e._css(t,"padding-right"))),r>=e.OUTER&&(n+=parseInt(e._css(t,"border-left-width"))+parseInt(e._css(t,"border-right-width"))),r===e.OUTER_MARGIN&&(n+=parseInt(e._css(t,"margin-left"))+parseInt(e._css(t,"margin-right"))),n}))}}),Object.assign(o,{_css:function(t,r){return this._styles.has(t)||this._styles.set(t,i.css(t)),r?(r=e.kebabCase(r),this._styles.get(t).getPropertyValue(r)):_objectSpread({},this._styles.get(t))},_getStyle:function(t,r){if(r)return r=e.kebabCase(r),i.getStyle(t,r);var n,o={},s=_createForOfIteratorHelper(i.style(t));try{for(s.s();!(n=s.n()).done;){var a=n.value;o[a]=i.getStyle(t,a)}}catch(t){s.e(t)}finally{s.f()}return o},_setStyle:function(t,r,n){for(var o in r){var s=r[o];o=e.kebabCase(o),s&&e.isNumeric(s)&&!this.cssNumberProperties.includes(o)&&(s+="px"),i.setStyle(t,o,s,n)}}}),Object.assign(o,{_delegateFactory:function(t,r,n){var s=r.match(o._complexRegExp)?this._getDelegateContainsFactory(t,r):this._getDelegateMatchFactory(t,r);return function(r){if(!i.isSame(r.target,t)){var o=s(r.target);if(o){var a={},c=function(t){a[t]=e.isFunction(r[t])?function(){return r[t].apply(r,arguments)}:r[t]};for(var u in r)c(u);return a.currentTarget=o,a.delegateTarget=t,a.originalEvent=r,Object.freeze(a),n(a)}}}},_getDelegateContainsFactory:function(t,e){var r=this;return e=o._prefixSelectors(e,"#".concat(o._tempId)),function(n){var o=r.__findByCustom(e,t);return!!o.length&&(o.includes(n)?n:r._parents(n,(function(t){return o.includes(t)}),(function(e){return i.isSame(t,e)}),!0).shift())}},_getDelegateMatchFactory:function(t,e){var r=this;return function(n){return i.is(n,e)?n:r._parents(n,(function(t){return i.is(t,e)}),(function(e){return i.isSame(t,e)}),!0).shift()}},_namespaceFactory:function(t,e){return function(r){if(!("namespaceRegExp"in r)||r.namespaceRegExp.test(t))return e(r)}},_selfDestructFactory:function(t,e,r,n){var o=this;return function(i){return r?o._removeEvent(t,e,n,r):o._removeEvent(t,e,n),n(i)}}}),Object.assign(o,{_addEvent:function(t,e,r,n,o){this._events.has(t)||this._events.set(t,{});var s=this._events.get(t),a={delegate:n,callback:r,selfDestruct:o},c=this._parseEvent(e),u=r;if(o&&(u=this._selfDestructFactory(t,e,n,u)),n&&(u=this._delegateFactory(t,n,u)),e!==c&&(u=this._namespaceFactory(e,u)),a.realCallback=u,a.event=e,a.realEvent=c,s[c]){if(s[c].includes(a))return}else s[c]=[];s[c].push(a),i.addEvent(t,c,u)},_cloneEvents:function(t,e){if(this._events.has(t)){var r=this._events.get(t);for(var n in r){var o,i=_createForOfIteratorHelper(r[n]);try{for(i.s();!(o=i.n()).done;){var s=o.value;this._addEvent(e,s.event,s.callback,s.delegate,s.selfDestruct)}}catch(t){i.e(t)}finally{i.f()}}}},_removeEvent:function(t,e,r,n){if(this._events.has(t)){var s=this._events.get(t);if(e){var a=this._parseEvent(e);s[a]&&(s[a]=s[a].filter((function(s){if(n&&n!==s.delegate||r&&r!==s.callback)return!0;if(a!==e){var c=o._eventNamespacedRegExp(e);if(!s.event.match(c))return!0}return i.removeEvent(t,s.realEvent,s.realCallback),!1})),s[a].length||delete s[a],Object.keys(s).length||this._events.delete(t))}else for(var c=0,u=Object.keys(s);c<u.length;c++){var l=u[c];this._removeEvent(t,l,r,n)}}},_triggerEvent:function(t,e,r,n){var s=o._parseEvent(e),a=_objectSpread({},r);return s!==e&&(a.namespace=e.substring(s.length+1),a.namespaceRegExp=o._eventNamespacedRegExp(e)),i.triggerEvent(t,s,a,n)}}),Object.assign(o,{_eventNamespacedRegExp:function(t){return new RegExp("^".concat(e.escapeRegExp(t),"(?:\\.|$)"),"i")},_parseClasses:function(t){return t.flat().flatMap((function(t){return t.split(" ")}))},_parseData:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.isObject(t)?t:_defineProperty({},t,r),i={};for(var s in o){var a=o[s];i[s]=n&&(e.isObject(a)||e.isArray(a))?JSON.stringify(a):a}return i},_parseDataset:function(t){if(e.isUndefined(t))return t;var r=t.toLowerCase().trim();if(["true","on"].includes(r))return!0;if(["false","off"].includes(r))return!1;if("null"===r)return null;if(e.isNumeric(r))return parseFloat(r);if(["{","["].includes(r.charAt(0)))try{return JSON.parse(t)}catch(t){}return t},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_prefixSelectors:function(t,e){return t.split(this._splitRegExp).filter((function(t){return!!t})).map((function(t){return"".concat(e," ").concat(t)}))}}),Object.assign(o,{_clone:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=i.clone(t,e);return r||n?(r&&this._cloneEvents(t,o),n&&this._cloneData(t,o),e&&this._deepClone(t,o,r,n),o):o},_deepClone:function(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.wrap(i.childNodes(t)),a=e.wrap(i.childNodes(r)),c=0;c<s.length;c++)n&&this._cloneEvents(s[c],a[c]),o&&this._cloneData(s[c],a[c]),this._deepClone(s[c],a[c])},_detach:function(t){var e=i.parent(t);e||i.removeChild(e,t)},_empty:function(t){var r,n=_createForOfIteratorHelper(e.wrap(i.childNodes(t)));try{for(n.s();!(r=n.n()).done;){var o=r.value;this._remove(o),i.removeChild(t,o)}}catch(t){n.e(t)}finally{n.f()}if(this._hasShadow(t)){var s=i.shadow(t);this._remove(s)}if(this._hasFragment(t)){var a=i.fragment(t);this._remove(a)}},_remove:function(t){i.triggerEvent(t,"remove"),this._empty(t),e.isElement(t)&&(this._clearQueue(t),this._stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)},_replaceWith:function(t,e){var r=i.parent(t);if(r){var n,o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=this._clone(s,!0);i.insertBefore(r,a,t)}}catch(t){o.e(t)}finally{o.f()}this._remove(t),i.removeChild(r,t)}}}),Object.assign(o,{_unwrap:function(t){var r=i.parent(t);if(r){var n,o=_createForOfIteratorHelper(e.wrap(i.childNodes(t)));try{for(o.s();!(n=o.n()).done;){var s=n.value;i.insertBefore(r,s,t)}}catch(t){o.e(t)}finally{o.f()}this._remove(t),i.removeChild(r,t)}},_wrap:function(t,e){var r=this,n=i.parent(t);if(n){var o,s=e.map((function(t){return r._clone(t,!0)})),a=_createForOfIteratorHelper(s);try{for(a.s();!(o=a.n()).done;){var c=o.value;i.insertBefore(n,c,t)}}catch(t){a.e(t)}finally{a.f()}var u=this._deepest(s.shift());i.insertBefore(u,t)}},_wrapAll:function(t,e){var r=t.slice().shift();if(r){var n=i.parent(r);if(n){var s,a=_createForOfIteratorHelper(e);try{for(a.s();!(s=a.n()).done;){var c=s.value;i.insertBefore(n,c,r)}}catch(t){a.e(t)}finally{a.f()}var u,l=o._deepest(e.shift()),f=_createForOfIteratorHelper(t);try{for(f.s();!(u=f.n()).done;){var h=u.value;i.insertBefore(l,h)}}catch(t){f.e(t)}finally{f.f()}}}},_wrapInner:function(t,r){var n,o=this,s=e.wrap(i.childNodes(t)),a=r.map((function(t){return o._clone(t,!0)})),c=_createForOfIteratorHelper(a);try{for(c.s();!(n=c.n()).done;){var u=n.value;i.insertBefore(t,u)}}catch(t){c.e(t)}finally{c.f()}var l,f=this._deepest(a.shift()),h=_createForOfIteratorHelper(s);try{for(h.s();!(l=h.n()).done;){var d=l.value;i.insertBefore(f,d)}}catch(t){h.e(t)}finally{h.f()}}}),Object.assign(o,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(o,{_findByCustom:function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,o=[],i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var s=r.value;e.merge(o,this.__findByCustom(t,s))}}catch(t){i.e(t)}finally{i.f()}return n.length>1&&o.length>1?e.unique(o):o},_findBySelector:function(t,r){var n,o=[],s=_createForOfIteratorHelper(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;e.merge(o,i.findBySelector(t,a))}}catch(t){s.e(t)}finally{s.f()}return r.length>1&&o.length>1?e.unique(o):o},_findOneByCustom:function(t,e){var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.__findOneByCustom(t,o);if(i)return i}}catch(t){n.e(t)}finally{n.f()}return null},_findOneBySelector:function(t,e){var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o=r.value,s=i.findOneBySelector(t,o);if(s)return s}}catch(t){n.e(t)}finally{n.f()}return null},__findByCustom:function(t,r){var n=i.getAttribute(r,"id");i.setAttribute(r,"id",this._tempId);var o,s=i.parent(r),a=[],c=_createForOfIteratorHelper(t);try{for(c.s();!(o=c.n()).done;){var u=o.value;e.merge(a,i.findBySelector(u,s))}}catch(t){c.e(t)}finally{c.f()}return n?i.setAttribute(r,"id",n):i.removeAttribute(r,"id"),t.length>1&&a.length>1?e.unique(a):a},__findOneByCustom:function(t,e){var r=i.getAttribute(e,"id");i.setAttribute(e,"id",this._tempId);var n=i.parent(e);if(!n)return null;var o,s=null,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;if(s=i.findOneBySelector(c,n))break}}catch(t){a.e(t)}finally{a.f()}return r?i.setAttribute(e,"id",r):i.removeAttribute(e,"id"),s}}),Object.assign(o,{_children:function(t,r){var n,o,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=e.wrap(a?i.children(t):i.childNodes(t)),u=[],l=_createForOfIteratorHelper(c);try{for(l.s();!(o=l.n()).done&&(n=o.value,r&&!r(n)||(u.push(n),!s)););}catch(t){l.e(t)}finally{l.f()}return u},_deepest:function(t){return e.wrap(i.findBySelector("*",t)).find((function(t){return!i.hasChildren(t)}))||t},_next:function(t,e){var r=[];return(t=i.next(t))?(e&&!e(t)||r.push(t),r):r},_nextAll:function(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(t=i.next(t))&&(!r||!r(t))&&(e&&!e(t)||(o.push(t),!n)););return o},_parent:function(t,e){var r=[],n=i.parent(t);return n?(e&&!e(n)||r.push(n),r):r},_parents:function(t,r,n){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[];(t=i.parent(t))&&!e.isDocument(t)&&(!n||!n(t))&&(r&&!r(t)||(s.unshift(t),!o)););return s},_prev:function(t,e){var r=[];return(t=i.prev(t))?(e&&!e(t)||r.push(t),r):r},_prevAll:function(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(t=i.prev(t))&&(!r||!r(t))&&(e&&!e(t)||(o.unshift(t),!n)););return o},_siblings:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],o=i.parent(t);if(!o)return n;var s,a,c=r?o.children:o.childNodes,u=_createForOfIteratorHelper(c);try{for(u.s();!(a=u.n()).done;)s=a.value,i.isSame(t,s)||e&&!e(s)||n.push(s)}catch(t){u.e(t)}finally{u.f()}return n}}),Object.assign(o,{parseNodesFactory:function(t){return t?function(r){return(t.node?e.isNode(r):e.isElement(r))||t.fragment&&e.isFragment(r)||t.shadow&&e.isShadow(r)||t.document&&e.isDocument(r)||t.window&&e.isWindow(r)}:e.isElement}}),Object.assign(o,{_hasAnimation:function(t){return this._animations.has(t)},_hasCSSAnimation:function(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasCSSTransition:function(t){return!!parseFloat(this._css(t,"transition-duration"))},_hasData:function(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_hasFragment:function(t){return!!i.fragment(t)},_hasShadow:function(t){return!!i.shadow(t)},_isVisible:function(t){return e.isWindow(t)?i._isVisibleDocument(i.document(t)):e.isDocument(t)?i.isVisibleDocument(t):!!i.offsetParent(t)}}),Object.assign(o,{_forceShow:function(t,r){var n=this;if(e.isDocument(t)||e.isWindow(t)||this._isVisible(t))return r(t);var o=[];e.isElement(t)&&"none"===this._css(t,"display")&&o.push(t),e.merge(o,this._parents(t,(function(t){return e.isElement(t)&&"none"===n._css(t,"display")})));for(var s=new Map,a=0,c=o;a<c.length;a++){var u=c[a];s.set(u,i.getAttribute(u,"style")),i.setStyle(u,"display","initial",!0)}var l,f=r(t),h=_createForOfIteratorHelper(s);try{for(h.s();!(l=h.n()).done;){var d=_slicedToArray(l.value,2),p=d[0],v=d[1];v?i.setAttribute(p,"style",v):i.removeAttribute(p,"style")}}catch(t){h.e(t)}finally{h.f()}return f},_sanitize:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.allowedTags,n=this._tagName(t);if(n in r){var o=[].concat(_toConsumableArray(r["*"]),_toConsumableArray(r[n])),s=this._getAttribute(t),a=function(e){!!o.find((function(t){return e.match(t)}))||i.removeAttribute(t,e)};for(var c in s)a(c);var u,l=i.children(t),f=_createForOfIteratorHelper(l);try{for(f.s();!(u=f.n()).done;){var h=u.value;this._sanitize(h,t,r)}}catch(t){f.e(t)}finally{f.f()}}else i.removeChild(e,t)},_tagName:function(t){return i.tagName(t).toLowerCase()}}),Object.assign(o,{_animating:!1,_animations:new Map,_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},animationDefaults:{duration:1e3,type:"ease-in-out",infinite:!1},cssNumberProperties:["font-weight","line-height","opacity","orphans","widows","z-index"],INNER:0,OUTER:2,OUTER_MARGIN:3,_complexRegExp:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_splitRegExp:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/,_tempId:"frost".concat(Date.now().toString(16))});var i=function t(){_classCallCheck(this,t)};return Object.assign(i,{attributes:function(t){return t.attributes},dataset:function(t){return t.dataset},getAttribute:function(t,e){return t.getAttribute(e)},getDataset:function(t,e){return this.dataset(t)[e]},getProperty:function(t,e){return t[e]},removeAttribute:function(t,e){t.removeAttribute(e)},removeDataset:function(t,e){delete t.dataset[e]},removeProperty:function(t,e){delete t[e]},setAttribute:function(t,e,r){t.setAttribute(e,r)},setDataset:function(t,e,r){this.dataset(t)[e]=r},setProperty:function(t,e,r){t[e]=r}}),Object.assign(i,{offsetLeft:function(t){return t.offsetLeft},offsetTop:function(t){return t.offsetTop},rect:function(t){return t.getBoundingClientRect()}}),Object.assign(i,{getScrollX:function(t){return t.scrollLeft},getScrollXWindow:function(t){return t.scrollX},getScrollY:function(t){return t.scrollTop},getScrollYWindow:function(t){return t.scrollY},setScrollWindow:function(t,e,r){return t.scroll(e,r)},setScrollX:function(t,e){t.scrollLeft=e},setScrollY:function(t,e){t.scrollTop=e}}),Object.assign(i,{height:function(t){return t.clientHeight},heightWindow:function(t,e){return e?t.outerHeight:t.innerHeight},width:function(t){return t.clientWidth},widthWindow:function(t,e){return e?t.outerWidth:t.innerWidth}}),Object.assign(i,{addClass:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=t.classList).add.apply(e,n)},css:function(e){return t.getComputedStyle(e)},getStyle:function(t,e){return this.style(t)[e]},removeClass:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=t.classList).remove.apply(e,n)},setStyle:function(t,e,r,n){t.style.setProperty(e,r,n?"important":"")},style:function(t){return t.style},toggleClass:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=t.classList).toggle.apply(e,n)}}),Object.assign(i,{blur:function(t){t.blur()},click:function(t){t.click()},focus:function(t){t.focus()}}),Object.assign(i,{addEvent:function(t,e,r){t.addEventListener(e,r)},removeEvent:function(t,e,r){t.removeEventListener(e,r)},triggerEvent:function(t,e,r,n){var o=new Event(e,_objectSpread({bubbles:!0,cancelable:!0},n));return r&&Object.assign(o,r),t.dispatchEvent(o)}}),Object.assign(i,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attachShadow({mode:e?"open":"closed"})},create:function(t,e){return t.createElement(e)},createComment:function(t,e){return t.createComment(e)},createFragment:function(t){return t.createDocumentFragment()},createRange:function(t){return t.createRange()},createText:function(t,e){return t.createTextNode(e)}}),Object.assign(i,{clone:function(t,e){return t.cloneNode(e)},removeChild:function(t,e){t.removeChild(e)}}),Object.assign(i,{insertBefore:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.insertBefore(e,r)}}),Object.assign(i,{findByClass:function(t,e){return e.getElementsByClassName(t)},findById:function(t,e){return e.getElementById(t)},findByTag:function(t,e){return e.getElementsByTagName(t)},findBySelector:function(t,e){return e.querySelectorAll(t)},findOneBySelector:function(t,e){return e.querySelector(t)}}),Object.assign(i,{childNodes:function(t){return t.childNodes},children:function(t){return t.children},document:function(t){return t.document},documentElement:function(t){return t.documentElement},firstChild:function(t){return t.firstChild},fragment:function(t){return t.content},next:function(t){return t.nextSibling},offsetParent:function(t){return t.offsetParent},parent:function(t){return t.parentNode},prev:function(t){return t.previousSibling},scrollingElement:function(t){return t.scrollingElement},shadow:function(t){return t.shadowRoot}}),Object.assign(i,{addRange:function(t,e){t.addRange(e)},collapse:function(t){t.collapse()},endContainer:function(t){return t.endContainer},extract:function(t){return t.extractContents()},getRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getRangeAt(e)},getSelection:function(){return t.getSelection()},insert:function(t,e){t.insertNode(e)},rangeCount:function(t){return t.rangeCount},removeRanges:function(t){t.removeAllRanges()},select:function(t,e){t.selectNode(e)},setEndAfter:function(t,e){t.setEndAfter(e)},setStartBefore:function(t,e){t.setStartBefore(e)},startContainer:function(t){return t.startContainer}}),Object.assign(i,{contains:function(t,e){return t.contains(e)},hasAttribute:function(t,e){return t.hasAttribute(e)},hasChildren:function(t){return!!t.childElementCount},hasClass:function(t,e){return t.classList.contains(e)},hasProperty:function(t,e){return t.hasOwnProperty(e)},is:function(t,r){return e.isElement(t)&&t.matches(r)},isConnected:function(t){return t.isConnected},isEqual:function(t,e){return t.isEqualNode(e)},isSame:function(t,e){return t.isSameNode(e)},isVisibleDocument:function(t){return"visible"===t.visibilityState}}),Object.assign(i,{comparePosition:function(t,e){return t.compareDocumentPosition(e)},normalize:function(t){t.normalize()},tagName:function(t){return t.tagName}}),{AjaxRequest:n,DOM:o,DOMNode:i,dom:new o}}));